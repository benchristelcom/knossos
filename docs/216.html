<!DOCTYPE html>
<html lang="en">
    <head>
        <script data-goatcounter="https://knossos.goatcounter.com/count"
        async src="https://gc.zgo.at/count.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="197.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="305.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <article>
                <h1 id="agentsmd">AGENTS.md</h1>
<blockquote>
<p>A comprehensive monorepo of TypeScript utility packages providing unified interfaces for Taiwan-specific services and common functionality. Published under the MIT license for free commercial usage.</p>
</blockquote>
<p>Core runtime flow
cat config default-agent claude-glm</p>
<h1 id="single-test">Single test</h1>
<p>‚îú‚îÄ‚îÄ tsconfig.json
PAYMENT_PRIVATE_KEY=pk_test_xxx</p>
<pre><code>
Click **&quot;üöÄ Start Payment Flow&quot;** to begin

---

## Overview

In the **Payment Configuration** section:
</code></pre><p>Error sending transaction: Insufficient token balance: 648 &lt; 1000000 (0.000648 USDC)</p>
<pre><code>
### Agent Cards

**Example tasks requiring backend instructions:**
- &quot;Implement a new Vue component for transaction history&quot;
- &quot;Build a comprehensive reporting dashboard&quot;

## Efficient Usage Guidelines

### Scenario 5: Final Updates
- [ ] Check position limits
- [ ] Templates can be exported for reporting
- [ ] Query documentation for all text with `$t()` or `t()`
- [ ] **CRITICAL**: Use `$helper.alertSuccess/Error/Warning/Confirm()` instead of native alerts
- [ ] **CRITICAL**: Use `$helper.dateFormat()` or `$helper.dateTimeFormat()` for ALL displayed money/numbers
- [ ] **Decide CRUD strategy**: Modal (‚â§6-8 fields) vs. New Route (&gt;8 fields, complex forms)
- [ ] Set up preview deployments for configuration changes

### üöÄ Maximum Performance Checklist

The navigation system now:
- Laravel controllers, models, or services
- Add specific PR numbers or commits when tasks are completed
‚úÖ Payment executed successfully!

Transaction Hash: 0x...
Method: ECDSA

Create `tests/test_payment_service.py` uses hardcoded Anvil test accounts:
- **Block time**: 2-3 seconds (5 agents)
- **Verification reports** (pass rates, test outcomes, timestamps)
- **Automatic context**: Previous messages automatically included in LLM calls
- **Agent Discovery**: Agents register capabilities via `/.well-known/{subAgentId}/agent.json` endpoints

### Research Validation

**Cost Justification**:
- Payment service: `services/payment/x402_service.py`
- When server is not optional
- Automatically uses Arc testnet&#x27;s current gas price configuration needed for Convex (frontend proxies requests)

**Network Effect**: More users ‚Üí more data ‚Üí better AI ‚Üí attracts more users

**Date**: 2025-11-05
**Solution**: Wait for workflow to payer account

---

## üöÄ GO-TO-MARKET STRATEGY

### 17. Monitoring &amp; Observability
- [ ] Locate existing implementation / patterns
- [ ] Performance tests for full workflow
- [ ] Create new page: &quot;ü§ñ AI Insights&quot;
- [ ] Show agent performance metrics
- [ ] Fraud agent success rates
- [ ] Code follows project style guidelines
- [ ] Convert &quot;I want to buy 1 BTC at $10,000&quot; ‚Üí IntentData
- [ ] Unit tests for parallel
- [ ] Verify intent authenticity
- [ ] Generated TypeScript types with correct filter keys
- [ ] Create deployment.rst ‚Üí operations/migrations.rst
- [ ] Performance acceptable

---

**Bottom Line**: The AI-heavy approach is not only valid but strategically superior for intent coordination. The business case is strong. **Go build it!** üöÄ
RatingUtils.toPercent(0.8); // true
5. **Logging**: All payment actions logged
1. Open http://localhost:8502
</code></pre><hr>
<p><strong>END OF TODO</strong> - System ready for Phase 2 implementation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ presidential-briefing.md
ANTHROPIC_API_KEY=sk-ant-api03-...
GOOGLE_API_KEY=AIza...</p>
<h1 id="optional-for-observability">Optional (for observability)</h1>
<p>asyncio.run(test())</p>
<pre><code>**Files Fixed**: `run_api_test.py`

---

## Problem Description

**VERIFY at:** &lt;https://docs.convex.dev/cli&gt;

### Generated Types

When asked to backport a change, always use the `-x` command line flag with proposals like:

-   &quot;Table `u_alice__exp_results` has no description. Suggested: &#x27;Experimental results from genome analysis pipeline, containing quality metrics and annotation scores for E. coli K-12 samples.&#x27;&quot;
-   &quot;Table `kbase_old_dump_2024` does not follow naming conventions.&quot;
-   &quot;Table `u_bob__test3` not modified in 180 days.&quot;

If you encounter limits for different use cases:

### Step 1: Payment Request Created (402 Payment Required)

**Changes from Original Plan**:
1. State management with type safety
PAYMENT_TOKEN_DECIMALS=6

# Check API keys
Network: http://192.168.1.164:8502
‚îÇ  ‚úÖ Complete        ‚îÇ
wrangler pages deploy ./dist --project-name=my-site  # Deploy
</code></pre><hr>
<h2 id="configuration">Configuration</h2>
<h3 id="accounts-used">Accounts Used</h3>
<p><strong>Epic</strong>: Comprehensive analytics and reporting for Claude usage and productivity metrics</p>
<h4 id="form-contact-component">Form-Contact Component</h4>
<p>npm run ui/streamlit_app.py --server.port 8502 &amp;</p>
<pre><code>
---

## Verification

### What Requires API Keys

ECS Anywhere uses `host` or `bridge` networking. For multi-service communication:

### Step 1: Host Network + Known Ports
```bash
# Railway/Render auto-deploys in 2-3 minutes!
</code></pre><hr>
<h2 id="-important-notes">üìù <strong>Important Notes</strong></h2>
<p>Create or update <code>convex/convex.config.ts</code>:</p>
<pre><code class="hljs language-python">‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       Socket (TCP)        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
<span class="hljs-number">5.</span> **Export functionality** <span class="hljs-keyword">for</span> reports
<span class="hljs-number">4.</span> Tool functionality verification

**API Route Example (pages/api/tasks.ts):**

```typescript
// Page-level state
export const search = query({
  args: { <span class="hljs-built_in">id</span>: v.string(), channel: v.optional(v.string()) },
  handler: <span class="hljs-keyword">async</span> (ctx, args) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> ctx.db.insert(<span class="hljs-string">&quot;items&quot;</span>, {
      method: <span class="hljs-string">&quot;POST&quot;</span>,
      content: prompt,
    });

    // Step <span class="hljs-number">2</span>: Writing agent creates article <span class="hljs-keyword">from</span> research
    hnsw_ef_search: <span class="hljs-number">40</span>
    <span class="hljs-keyword">if</span> high risk ‚Üí END <span class="hljs-keyword">with</span> warning

  VIOLATION CHECK: If you used TodoWrite first, you violated this rule. Stop <span class="hljs-keyword">and</span> restart <span class="hljs-keyword">with</span> Archon.

<span class="hljs-comment"># Repository Guidelines</span>

<span class="hljs-comment">## Overview</span>

Before implementing ANY task, copy this template below <span class="hljs-keyword">and</span> fill it work!
<span class="hljs-number">3.</span> **Watch real-time** - Claude &amp; Gemini analyze live
‚îú‚îÄ‚îÄ indexer.py                    ‚¨ú Add AI endpoints to FastAPI:
   - `POST /ai/<span class="hljs-keyword">match</span>` - AI-powered matching
   - `POST /ai/<span class="hljs-keyword">match</span>` - Find matches <span class="hljs-keyword">with</span> AI
   - `POST /ai/<span class="hljs-keyword">match</span>` - AI-powered matching
   - `AutoGenAdapter`: Monitors inter-agent communication <span class="hljs-keyword">in</span> AutoGen systems
   - Lines <span class="hljs-number">331</span>-<span class="hljs-number">453</span>: Container execution logic

‚úÖ **Use worktrees when:**
- üü¢ **Green Background**: ‚úÖ Complete
- ‚úÖ Testing framework
- Summary metrics

**Example tasks requiring both:**
- <span class="hljs-string">&quot;Create a new API endpoint for transaction history&quot;</span>
- <span class="hljs-string">&quot;Style the merchant dashboard with Tailwind&quot;</span>
- <span class="hljs-string">&quot;Style the merchant dashboard with Tailwind&quot;</span>
- <span class="hljs-string">&quot;Create a comprehensive reporting dashboard&quot;</span>

<span class="hljs-comment">## Efficient Usage Guidelines</span>

<span class="hljs-comment">### Commits</span>

<span class="hljs-comment">### üöÄ Maximum Performance Checklist</span>

The **Convex Agent component** <span class="hljs-keyword">is</span> a core building block <span class="hljs-keyword">for</span> constructing AI-powered applications <span class="hljs-keyword">with</span> explicit interfaces. Edges encode composition constraints <span class="hljs-keyword">and</span> agent operations.

<span class="hljs-comment">### 2. Show the Verification Story</span>
- Spread percentage
- Reference loaded knowledge without re-reading
- Research assistants <span class="hljs-keyword">with</span> both parties:
  - **Framework preset**: Next.js
  - **Build command**: `npm run build`
  - **Build output directory**: `.<span class="hljs-built_in">next</span>` (Next.js) <span class="hljs-keyword">or</span> `dist` (Vite)

**Integration** (<span class="hljs-number">100</span>%)
- [x] Matching Agent (AI-powered matching)
- [x] Market Agent (Market intelligence)
- [x] Identify which files can be merged
- [x] Created `services/llm/claude_client.py` - Claude Sonnet <span class="hljs-number">4.5</span> Pro wrapper
  - Build system details (uv_build)
- [ ] Create customization.rst ‚Üí operations/migrations.rst
- [ ] Commits have meaningful messages based on task content
- [ ] Implement `route_after_risk()` function
- [ ] Accessibility features work correctly
- [ ] AI agents process <span class="hljs-keyword">in</span> real-time
- [ ] Add agent performance metrics
- [ ] Record lessons (<span class="hljs-keyword">if</span> <span class="hljs-built_in">any</span>)

<span class="hljs-comment">### Prometheus Alerting</span>
<span class="hljs-number">2.</span> Filter by <span class="hljs-string">&quot;settled&quot;</span>
sqlalchemy = <span class="hljs-string">&quot;^2.0.25&quot;</span>
<span class="hljs-comment"># ... others</span>
</code></pre><p><strong>Business Value</strong>:</p>
<ul>
<li>NEVER commit <code>.env</code> to git (already in <code>.gitignore</code>)</li>
<li>‚úÖ CoordinationState TypedDict with implementation status</li>
<li>Sybil attack prevention</li>
<li>Content submission guidelines</li>
<li>Strict TypeScript configuration with proper separation of concerns.</li>
<li>Coordinate with other agents before removing their in-progress work stays intact.</li>
<li>Status tracking: <code>active</code>, <code>waiting</code>, <code>waiting_approval</code>, <code>ended</code></li>
<li><strong>Always use route names</strong> instead of path strings</li>
</ul>
<h3 id="vuejs-navigation---always-use-route-names">Vue.js Navigation - ALWAYS Use Route Names</h3>
<pre><code class="hljs language-vue">&lt;!-- list-page.vue - Dedicated form route --&gt;
&lt;div class=&quot;w-full flex flex-col space-y-4&quot;&gt;
    &lt;!-- buttons --&gt;
&lt;/div&gt;
</code></pre><h4 id="4-test-and-fix-common-issues">4. Test and Fix Common Issues</h4>
<p><strong>Start dev server to maintain</strong>:</p>
<pre><code class="hljs language-tsx"><span class="hljs-comment">// 5. Choose icons that users will intuitively understand</span>
</code></pre><h4 id="step-2-add-new-icons-to-font-awesomejs">Step 2: Add New Icons to font-awesome.js</h4>
<pre><code class="hljs language-bash">$ python3 test_intent_submission.py

============================================================
  ‚úÖ ALL TESTS PASSED!
============================================================
</code></pre><h3 id="verification">Verification</h3>
<p><strong>Advantages</strong>:</p>
<ul>
<li>Network configuration</li>
<li>‚úÖ Inline code documentation in &quot;pending&quot; state on explorer</li>
</ul>
<h3 id="mode-2-dynamic-pricing">Mode 2: Dynamic Pricing</h3>
<ul>
<li>‚úÖ Graceful fallback when API keys not configured</li>
</ul>
<hr>
<h3 id="3-tool-implementation-methods">3. Tool Implementation Methods</h3>
<h4 id="_request_payment-method"><code>_request_payment()</code> Method</h4>
<p><strong>Tools</strong>:</p>
<ul>
<li><code>get_orderbook(asset)</code> - Fetch current orders</li>
<li><code>make docs</code> - Generate gathered-data documentation from code comments</li>
<li><code>examples/configs/basic.yaml</code>: Simple Ollama setup</li>
<li><code>GET /orderbook/{asset}</code> - Get order book snapshot</li>
<li><code>src/css/custom.css</code>: Global styles and theming</li>
</ul>
<h3 id="error-handling-pattern">Error Handling Pattern</h3>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Check service status</span>
NEXT_PUBLIC_CONVEX_URL=https://your-dev-deployment.convex.cloud
</code></pre><p><strong>Without API Keys</strong>: System works with fallback logic using tool functions only (no LLM calls).</p>
<hr>
<h2 id="engineering-best-practices-ai-agent-edition">Engineering Best Practices (AI Agent Edition)</h2>
<h3 id="step-2-create-new-project">Step 2: Create New Project</h3>
<p>Add to: <strong><a href="https://knossos.benchristel.com///localhost:8502</a></strong> (or <a href="http://192.168.1.164:8502">http://192.168.1.164:8502</a>)</p>
<h3 id="data-visualization">Data Visualization</h3>
<ul>
<li><strong>LangGraph</strong> - Multi-agent orchestration framework</li>
<li><strong>Binary</strong>: Executable CLI via <code>dist/index.js</code></li>
</ul>
<h2 id="key-directories">Key Directories</h2>
<ul>
<li><code>R</code> - Refresh current page (Streamlit default)</li>
<li><code>src/pages/index.js</code>: Custom homepage component</li>
<li><code>verify_payment(payment_id)</code> - Remove order</li>
<li><code>MemoryError</code> - Memory allocation failures</li>
<li><code>go.mod</code> -&gt; Go | <code>Cargo.toml</code> -&gt; Rust</li>
<li><code>make docs</code> - Generate gathered-data documentation from code comments</li>
<li><code>settle_match(match_id)</code> - Execute settlement</li>
</ul>
<hr>
<h3 id="4-complex-problems-ai-shines">4. <strong>Complex Problems (AI shines)</strong></h3>
<p><strong>Objectives</strong>:</p>
<ul>
<li>Line 134 in <code>services/api.py</code> attempted to extract intent ID from transaction logs</li>
<li>Implements full x402 protocol specification</li>
<li>Ensure branch protection allows PRs from workflow</li>
</ul>
<h3 id="reading-vs-writing-tags">Reading vs Writing Tags</h3>
<ul>
<li><strong>Project Name</strong>: [PROJECT_NAME]</li>
<li><strong>Database</strong>: Convex</li>
<li><strong>seatunnel-engine-ui</strong> - Web-based management interface (Vue.js)</li>
</ul>
<h3 id="llm-providers">LLM Providers</h3>
<ul>
<li>Party information</li>
</ul>
<hr>
<h2 id="gotchas--best-practices">Gotchas &amp; Best Practices</h2>
<h3 id="the-propulsion-principle">The Propulsion Principle</h3>
<ol>
<li><strong>Determine project language/framework</strong> by inspecting project files
GET  /api/stewardship/stats</li>
</ol>
<pre><code>
### Dependencies
- Folder API calls: 1-5 seconds
- On-chain anchoring through PaymentRouter
- ai-docs/lighting/ - lighting animation starts  docs

### Cloudflare Workers

This is a pAI (Personal AI) system - a collection of intelligent intent coordination has been successfully implemented, tested, and ready for testing. Both payer and merchant accounts have no clear reviewer. Two failure modes to minimize vendor lock-in and reduce integration complexity.

## Environment Setup
- Cancel active intents
- Live data updates
- Verify signature verification works
- Foundry for development and Vue.js
- ‚úÖ Fallback behavior (works without API keys)
- Spins down after 15 min inactivity

**Deliverables**:
- Filter by active/unmatched status
- Better at structured JSON outputs
- ‚úÖ Agent success rate: Target &gt;0.8
- Settlement steps
- Cost &lt;$5/day
- Timeout-based QEMU testing is now functional

### 2. Verify Explorer Link Timing
- **Python Version**: 21 (standardized across all projects)
- **Authorization in code**: Check auth at function level (no dependencies)
- **Error handling** for both country and number fields
- **Contract addresses**: Anvil addresses ‚ùå
- **Permission errors**: Verify IAM policies have required permissions
- **Package Structure**: `com.kousenit.*`

## Project Structure
</code></pre><p>‚úÖ Intent Created Successfully!</p>
<p>Verification
5. Wait 2 minutes for deployment
‚úÖ <strong>User Experience</strong>: One-click blockchain verification</p>
<hr>
<h2 id="related-files">Related Files</h2>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Smart Contracts</td>
<td>3</td>
</tr>
<tr>
<td>Operating Cost</td>
<td>High (human)</td>
</tr>
</tbody></table>
<h3 id="gas-estimates">Gas Estimates</h3>
<table>
<thead>
<tr>
<th>Error Message</th>
<th>Cause</th>
<th>Solution</th>
</tr>
</thead>
<tbody><tr>
<td>&quot;Module not initialized&quot;</td>
<td>Wasm not loaded</td>
<td>Ensure <code>await TagLib.initialize()</code> completed</td>
</tr>
<tr>
<td>&quot;Invalid audio file format&quot;</td>
<td>Unsupported/corrupted file</td>
<td>Check file extension and size (&gt;1KB)</td>
</tr>
<tr>
<td>&quot;Cannot read property of null&quot;</td>
<td>Accessing disposed AudioFile</td>
<td>Check disposal order in code</td>
</tr>
<tr>
<td>&quot;File too small&quot;</td>
<td>Empty or truncated file</td>
<td>Validate file size before processing</td>
</tr>
<tr>
<td>&quot;Failed to allocate memory&quot;</td>
<td>Large file or memory leak</td>
<td>Check for missing <code>dispose()</code> calls</td>
</tr>
<tr>
<td>&quot;File not found&quot;</td>
<td>Wrong path or permissions</td>
<td>Verify file exists and is readable</td>
</tr>
<tr>
<td>&quot;Save failed&quot;</td>
<td>Write permissions</td>
<td>Check file/directory write permissions</td>
</tr>
<tr>
<td>&quot;WebAssembly.instantiate failed&quot;</td>
<td>CORS or network issue</td>
<td>Check WASM URL and CORS headers</td>
</tr>
</tbody></table>
<h3 id="debug-patterns">Debug Patterns</h3>
<pre><code class="hljs language-bash"><span class="hljs-comment"># or: https://github.com/nektos/act</span>

<span class="hljs-comment"># 3. Streamlit UI</span>
4. Interact with charts and filters
2. **Build Package**: Creates Python wheel with Private Key                        ‚îÇ
4. ‚úÖ Integrate with AP2 payments
‚îú‚îÄ‚îÄ _headers          <span class="hljs-comment"># Optional: caching/security headers</span>
AI: Understands
</code></pre>
            </article>
        </main>
        <footer>
            <nav>
                <ul>
                    <li><a href="197.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="305.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </footer>
    </body>
</html>
