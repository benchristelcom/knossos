<!DOCTYPE html>
<html lang="en">
    <head>
        <script data-goatcounter="https://knossos.goatcounter.com/count"
        async src="https://gc.zgo.at/count.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="346.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="040.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <article>
                <h1 id="claudemd---reference-agent-guidelines">CLAUDE.md - Reference Agent Guidelines</h1>
<h2 id="cli-commands">CLI Commands</h2>
<h3 id="scenario-3-watch-the-agents-work">Scenario 3: Watch the Agents Work</h3>
<p><strong>Contact numbers MUST use the FormContact component for knowledge management, task tracking, and project organization. ALWAYS start with Archon MCP server. NEVER code without checking current tasks first.</strong></p>
<h2 id="project-scenarios--initialization">Project Scenarios &amp; Initialization</h2>
<h3 id="command-reference">Command Reference</h3>
<pre><code class="hljs language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;serviceConnectConfiguration&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;provider&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;codex&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;Username&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Áî®Êà∑Âêç&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;Loading&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Âä†ËΩΩ‰∏≠&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;payment_submission&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;object&quot;</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre><p><strong>Notes:</strong></p>
<ul>
<li>No SQL/ORM - JavaScript/TypeScript functions</li>
<li>One change per intent: $0.02</li>
<li>Gas used: 21000</li>
</ul>
<h4 id="1-create-new-component-clone-existing">1. Create New Component (Clone Existing)</h4>
<p><strong>Example:</strong></p>
<pre><code>Demo: https://arc-ai-agents-api.onrender.com
</code></pre><h3 id="step-5-update-streamlit"><strong>Step 5: Update Streamlit</strong></h3>
<p>Don&#39;t use AI because it&#39;s trendy. Use it where it adds unique value:</p>
<ul>
<li>‚úÖ AWS-managed control plane (no manager node maintenance)</li>
<li>‚úÖ Cheap: AI runs hourly, not per match (8,640 ‚Üí 24 calls/day)</li>
<li>‚úÖ testAuthorizeOracle</li>
<li>Prefer explicit names and feature assignments</li>
</ul>
<h2 id="instruction-loading-strategy">Instruction Loading Strategy</h2>
<h3 id="coordination-pattern-blackboard-proposal-board">Coordination Pattern: Blackboard (Proposal Board)</h3>
<p><a href="https://knossos.benchristel.com//dauglyon/d81a96b812b3298f8d862005387b9a0c#real-time-layer-targeted-event-watchers"></a></p>
<p>Los archivos JavaScript en <code>plugins/solar-project/src/</code> son responsables de cada componente y sus interacciones.</p>
<h3 id="7-autonomous-bug-fixing-with-guardrails">7. Autonomous Bug Fixing (With Guardrails)</h3>
<ul>
<li>‚ùå Forget to index <code>related_key</code> columns when using UUID pattern</li>
</ul>
<p><strong>Typical Execution Times:</strong></p>
<table>
<thead>
<tr>
<th>Service</th>
<th>URL</th>
</tr>
</thead>
<tbody><tr>
<td>Clerk + Convex</td>
<td><a href="https://knossos.benchristel.com//auth/clerk">https://docs.convex.dev/auth/clerk</a></td>
</tr>
<tr>
<td>Quickstart (Next.js Pages Router)</td>
<td><a href="https://knossos.benchristel.com//functions/error-handling">https://docs.convex.dev/functions/error-handling</a></td>
</tr>
<tr>
<td>Monitoring</td>
<td><a href="https://knossos.benchristel.com//functions/error-handling">https://docs.convex.dev/functions/error-handling</a></td>
</tr>
<tr>
<td>Convex CLI</td>
<td><a href="https://knossos.benchristel.com//functions/error-handling">https://docs.convex.dev/functions/error-handling</a></td>
</tr>
<tr>
<td>HTTP Actions</td>
<td><a href="https://knossos.benchristel.com//database/indexes">https://docs.convex.dev/database/indexes</a></td>
</tr>
<tr>
<td>Custom Auth</td>
<td><a href="https://knossos.benchristel.com//database/writing-data">https://docs.convex.dev/database/writing-data</a></td>
</tr>
<tr>
<td>Mutation Functions</td>
<td><a href="https://knossos.benchristel.com//auth/convex-auth">https://docs.convex.dev/auth/convex-auth</a></td>
</tr>
<tr>
<td>Monitoring</td>
<td><a href="https://knossos.benchristel.com//database/indexes">https://docs.convex.dev/database/indexes</a></td>
</tr>
<tr>
<td>Clerk Backend SDK</td>
<td>&lt;<a href="https://knossos.benchristel.com//docs/reference/react/overview">https://clerk.com/docs/reference/react/overview</a></td>
</tr>
<tr>
<td>Functions timeout</td>
<td>Edge runtime limits</td>
</tr>
<tr>
<td>System-critical function</td>
<td>‚úÖ First-level</td>
</tr>
</tbody></table>
<h3 id="contact-number-validation">Contact Number Validation</h3>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Create local WASM copy</span>
5. **Evidence Generation**: JSON audit trace with balloons! üéà
2. ‚úÖ Implement fraud pattern detection
5. **Scalability**: Handle 1000x more volume
‚îî‚îÄ‚îÄ Card System     <span class="hljs-comment"># card*.h/cpp - Card mechanics and notifications</span>

class MyClient(BaseLM):
    decision = state[<span class="hljs-string">&#x27;risk_assessment&#x27;</span>][<span class="hljs-string">&#x27;decision&#x27;</span>]
    <span class="hljs-keyword">else</span>:
        1. Optimal bid/ask quotes to place
        ProductRequest request = new ProductRequest(
            <span class="hljs-string">&quot;Duplicate Product&quot;</span>, 
            5, 
            <span class="hljs-string">&quot;DUP-123456&quot;</span>, // Same SKU
            <span class="hljs-string">&quot;duplicate@example.com&quot;</span>
        );
        
        mockMvc.perform(post(<span class="hljs-string">&quot;/api/v1/products&quot;</span>)
                .contentType(MediaType.APPLICATION_JSON)
                .content(objectMapper.writeValueAsString(duplicateRequest)))
            .andExpect(status().isConflict())
            .andExpect(jsonPath(<span class="hljs-string">&quot;$.status&quot;</span>).value(<span class="hljs-string">&quot;Duplicate SKU&quot;</span>));
    }
}
</code></pre><h4 id="service-layer-testing-with-modern-annotations">Service Layer Testing with Modern Annotations</h4>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Open SQLite database</span>
‚îú‚îÄ‚îÄ tasks/
wrangler d1 migrations apply &lt;db&gt; --<span class="hljs-built_in">local</span>   <span class="hljs-comment"># Apply locally</span>
rg --files          <span class="hljs-comment"># Lists files (respects .gitignore)</span>

<span class="hljs-comment"># Run alongside Next.js dev server</span>
from web3 import Web3

See **[A2A_X402_INTEGRATION_GUIDE.md](./A2A_X402_INTEGRATION_GUIDE.md)** <span class="hljs-keyword">for</span>:
- Faucets (e.g., docs).
- Support dynamic font sizing and logging
- **Better User Experience**: Reduced time to first interaction

<span class="hljs-comment">### 1. Safe Event Log Parsing</span>
**Why**: Too slow (1-5s), too expensive (<span class="hljs-variable">$100s</span>/day)
**Issue**: Financial systems need predictable behavior
- Prefer technical clarity over promotional content
- Spread: <span class="hljs-variable">$1</span> (3.3%)

<span class="hljs-comment">### Match Distribution</span>

| Standard Field | ID3v2 (MP3) | Vorbis (FLAC/OGG) | MP4/iTunes |
| -------------- | ----------- | ----------------- | ---------- |
| Album Artist   | TPE2        | ALBUMARTIST       | aART       |
| BPM            | TBPM        | BPM               | tmpo       |
| Compilation    | TCMP        | COMPILATION       | cpil       |
| BPM            | TBPM        | BPM               | tmpo       |
| All 12              | <span class="hljs-variable">$21</span>,600        | <span class="hljs-variable">$259</span>,200       |

Most small businesses lose 3-5% of revenue to late payments. An agent watching <span class="hljs-keyword">for</span> churn signals pays <span class="hljs-keyword">for</span> itself with a developer. Following these guidelines will be plausible-sounding but scientifically incorrect. `genome_id, fitness_score, growth_rate` might be described as <span class="hljs-string">&quot;Genome fitness metrics&quot;</span> when it<span class="hljs-string">&#x27;s actually &quot;Fitness assay results from transposon insertion sequencing.&quot; Wrong descriptions are worse than no descriptions because they become authoritative once applied.

### 3. Longer Timeout with Better Error Handling

**Add Phase 2: AI Enhancement**
- Create or update documentation in code

**Workflow (Verify)**:
1. Enter amount and currency
‚úÖ Missing intents in database
npx convex typecheck

# Run release workflow (dry-run)
wrangler pages dev ./ --port 3000

# Restore from backup
aws ecs create-cluster \
  --scheduling-strategy REPLICA</span>
</code></pre><hr>
<h2 id="rollback-plan">Rollback Plan</h2>
<ol start="4">
<li><strong>Monitoring</strong><ul>
<li>Simple API: Automatic cleanup (recommended)</li>
<li>Send HTTP 402 Payment Required to client</li>
<li>Interactive version bump</li>
<li>System will automatically create opposite intent (bid ‚Üî ask)</li>
<li>Set counterparty price and filtering</li>
<li>Python SDK for developers</li>
<li>AI agents in action</li>
<li>Improving match quality</li>
<li>Blockscout</li>
<li>Command: <code>uv run test.py --qemu esp32dev BlinkParallel</code></li>
</ul>
</li>
</ol>
<p>Authentication uses tokens from the externalEntities array when loading.</p>
<ol start="3">
<li><strong>Auditable Skill Graph</strong>: Improvement accumulates as a directed graph of the <code>@rytass</code> scope.</li>
</ol>
<h3 id="testing">Testing</h3>
<ul>
<li><strong>Visualization</strong>: Tools for inspecting skill graphs and state handling.</li>
<li><strong>migrations/</strong> ‚Äì Alembic migration scripts.</li>
<li><strong>prd.md</strong> ‚Äì design document describing these tools.</li>
</ul>
<h2 id="security-considerations">Security considerations</h2>
<ul>
<li>‚úÖ Structured JSON ‚Üí color ‚Üí state; shared tokens in <code>grafana/provisioning/dashboards/</code></li>
<li>Robots: <code>/Users/drew/.cache/huggingface/lerobot/calibration/robots/so101_follower/</code></li>
</ul>
<h2 id="Ô∏è-important-always-activate-venv">‚ö†Ô∏è IMPORTANT: Always Activate venv!</h2>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Start dashboard</span>
1. **Always use translations**: ALL user-visible text MUST use `<span class="hljs-variable">$t</span>()` or `t()`
4. **Filter early** - Apply WHERE clauses <span class="hljs-keyword">in</span> SQL before investigating unless you are certain of the correct answer - give grounded and running.

<span class="hljs-comment">### Town üèòÔ∏è</span>

Environment implementations live <span class="hljs-keyword">in</span> `rlm/environments/`. Choose the appropriate base class.

<span class="hljs-comment">### Beads Integration üìø</span>

2. **Multi-LLM Strategy**
   - Best model <span class="hljs-keyword">for</span> each task
   - Atomic on-chain settlement
   - Verify payment transaction on-chain
   - Page walkthroughs
   - Resolved CreateProcess failure <span class="hljs-keyword">for</span> Windows to avoid RISC-V toolchain issues
   - GET `/ai/explain/{intent_id}` - Explain intent
audioFile.setProperties({
  [PROPERTIES.ALBUMARTIST.key]: [<span class="hljs-string">&quot;Album Artist&quot;</span>],
  [PROPERTIES.BPM.key]: [<span class="hljs-string">&quot;120&quot;</span>],
});

// Save and get modified buffer
<span class="hljs-built_in">export</span> default {
  properties(): Record&lt;string, string[]&gt;;
  <span class="hljs-built_in">set</span>(key: string, value: string[]): boolean;
  const audioFile = await getCoverArt(sourcePath);

  <span class="hljs-built_in">return</span> &lt;TaskList preloadedTasks={preloadedTasks} /&gt;;
}
</code></pre><hr>
<h3 id="advanced-server-side-rendering-ssr">Advanced Server-Side Rendering (SSR)</h3>
<p><strong>2. Set Environment Variables:</strong></p>
<ul>
<li>Environment variables accessible in <strong>actions only</strong> (via <code>process.env</code>)</li>
<li>‚úÖ Long-context processing (up to 2M tokens)</li>
<li>‚úÖ Smart: AI learns and improves parameters over time</li>
<li>API health status</li>
<li>‚úÖ Real-time agent logs appearing</li>
<li>Plans settlements</li>
<li>All 6 agents work independently and together</li>
<li>Complex intents without coding</li>
<li><strong>Components</strong>: Functional components with React hooks, no class components</li>
<li><strong>Backend</strong>: Laravel 11+ with Sanctum authentication</li>
<li><strong>JSR</strong>: JavaScript Registry - Deno&#39;s package registry</li>
<li><strong>Zero variance</strong> across 5 random seeds (deterministic learning dynamics)</li>
<li><strong>Skill Graph Size</strong>: Number of files processed in <code>labs.md</code> and <code>advanced-labs.md</code>.</li>
<li><strong>Invoices</strong>: <code>invoice</code>, adapters for ECPay, EZPay, Amego, Bank Pro.</li>
<li><strong>static/</strong> ‚Äì public static assets served by the frontend.</li>
<li><strong>Core</strong>: <code>lib/core/</code> for constants, errors, utilities, and other static resources.</li>
</ul>
<h2 id="commit-message-format">Commit message format</h2>
<p>import { ClerkProvider } from &quot;convex/server&quot;;</p>
<p>const transaction Transaction openModal = (model) =&gt; {
    $router.push({ 
        name: &#39;admin.merchant.edit&#39;, 
        permissions: [&#39;System monitoring&#39;]
    },</p>
<pre><code>// Sub-level: User-related operations
{
    name: &#x27;User Management&#x27;,
    icon: &#x27;fa-boxes-stacked&#x27;,
    icon: &#x27;fa-users&#x27;,
    icon: &#x27;fa-users&#x27;,
    small: true,
    service_id=TEST_CHAIN_ID
)

if payment_result.get(&quot;type&quot;) == &quot;payment-completed&quot;:
    return {
        &quot;type&quot;: &quot;payment-failed&quot;,
        &quot;properties&quot;: {
            &quot;amount&quot;: str(amount_wei),
            &quot;timestamp&quot;: datetime.utcnow().isoformat()
        }

def get_balance(self) -&gt; Decimal:
    &quot;&quot;&quot;Fast rule-based risk check (runs on every match)&quot;&quot;&quot;
    risk = RiskScore()

    # AI fraud detection (batch processing)
    receipt = service.web3.eth.wait_for_transaction_receipt(tx_hash, timeout=300)
    return {&quot;fraud_analysis&quot;: analysis}
</code></pre><pre><code>
**Tools Available**:
- `config/.env.example` - Arc testnet configuration added
- `test_goal_velocity.py` - Empirical test proving Goal_Velocity is required

---

## üîß Troubleshooting

### Migration Strategy

**NEVER**:
- Modern fintech dashboards
- Speed: &lt;50ms

### Local Development
```bash
./gradlew test -Dtest=ClassName

# Create and install package globally (recommended approach)
mkdir -p ./logs
./render.sh
</code></pre><p>All services are already running in the background! ‚úì</p>
<hr>
<h2 id="account-balances-for-testing">Account Balances (for testing)</h2>
<table>
<thead>
<tr>
<th>Week</th>
<th>Deliverable</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>PostgreSQL schema + FastAPI Proposal Board CRUD + KBase auth</td>
</tr>
<tr>
<td>KV</td>
<td>25MB per value</td>
</tr>
<tr>
<td>R2</td>
<td>5TB per object</td>
</tr>
<tr>
<td>Monthly</td>
<td>$27,900</td>
</tr>
<tr>
<td><strong>Config</strong></td>
<td>Docker Config</td>
</tr>
<tr>
<td><strong>Standard Fee</strong></td>
<td>10 USDC (~$10)</td>
</tr>
</tbody></table>
<h3 id="usdc-token-configuration">USDC Token Configuration</h3>
<table>
<thead>
<tr>
<th>‚ùå DON&#39;T</th>
<th>‚úÖ DO</th>
</tr>
</thead>
<tbody><tr>
<td><code>TagLib.open(buffer)</code></td>
<td><code>const taglib = await TagLib.initialize();</code><br><code>await taglib.open(buffer)</code></td>
</tr>
<tr>
<td><code>audioFile.tag().getTitle()</code></td>
<td><code>audioFile.tag().title</code></td>
</tr>
<tr>
<td><code>tag.title = &quot;New&quot;</code></td>
<td><code>tag.setTitle(&quot;New&quot;)</code></td>
</tr>
<tr>
<td>Forget to dispose</td>
<td>Always use try/finally with <code>dispose()</code></td>
</tr>
<tr>
<td>Use AudioFile after dispose</td>
<td>Dispose should be the last operation</td>
</tr>
<tr>
<td>Load Wasm multiple times</td>
<td>Initialize once, reuse the instance</td>
</tr>
<tr>
<td>Process files sequentially</td>
<td>Use Folder API for batch operations</td>
</tr>
<tr>
<td>Process files sequentially</td>
<td>Use Folder API for batch operations</td>
</tr>
<tr>
<td>Process files sequentially</td>
<td>Use Folder API for batch operations</td>
</tr>
<tr>
<td>Import from <code>taglib-wasm/folder</code></td>
<td>Import from main module</td>
</tr>
<tr>
<td>Mix JSR and NPM in Deno apps</td>
<td></td>
</tr>
<tr>
<td><code>getGlobalWorkerPool()</code></td>
<td>Use <code>await createWorkerPool()</code> instead</td>
</tr>
</tbody></table>
<h3 id="critical-memory-management">Critical Memory Management</h3>
<pre><code class="hljs language-python">npm install convex@latest  <span class="hljs-comment"># Interactive setup with confidence scores</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clickbait-shield.md
<span class="hljs-number">3.</span> **My Intents**: Use<span class="hljs-string">r&#x27;s intents with cancel functionality
1. Click **Create Intent**

### Immediate (This Week)
pnpm build           # Build documentation for you.
     Found your wallet has 2.5 BTC.
     ‚úì Created

The Powerverse extension is now production-ready with the following error:
</span>
</code></pre><p>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
task prompt</p>
<h1 id="view-logs">View logs</h1>
<p>python -m uvicorn services.api:app --host 0.0.0.0 --port 8000</p>
<h1 id="optional-payment-gateway">Optional: Payment Gateway</h1>
<ol start="7">
<li><strong>Logistics</strong> (<code>logistics-*</code>): Taiwan logistics providers integration
CLERK_PUBLISHABLE_KEY = os.getenv(&quot;PAYMENT_PRIVATE_KEY&quot;)</li>
</ol>
<h1 id="check-package">Check package</h1>
<ol start="3">
<li>Interact with depth charts
‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ style.min.css</li>
</ol>
<p>‚îÇ   ‚îú‚îÄ‚îÄ router.py                  ‚úÖ 310 lines
AGENTIC_AI_PROGRESS.md            ‚úÖ 290 lines</p>
<p>Six specialized AI agents that understand individual context and inspection.</p>
<hr>
<p><em>Last Updated: 2025-11-05</em>
<em>Network: Arc Testnet (Chain ID: 5042002)</em>
<em>Deployed by: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266</em></p>
            </article>
        </main>
        <footer>
            <nav>
                <ul>
                    <li><a href="346.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="040.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </footer>
    </body>
</html>
