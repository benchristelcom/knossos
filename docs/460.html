<!DOCTYPE html>
<html lang="en">
    <head>
        <script data-goatcounter="https://knossos.goatcounter.com/count"
        async src="https://gc.zgo.at/count.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="302.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="477.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <article>
                <h1 id="-code-guidelines">üöÄ Code Guidelines</h1>
<h2 id="code-style-guidelines">Code Style Guidelines</h2>
<ul>
<li><strong>Prompt templates</strong>: <code>/api/fixed-prompt</code>, <code>/api/current-production-prompt</code></li>
<li><strong>Route protection</strong>: <code>adminHasPermission:Permission Name</code> middleware  </li>
<li><strong>animation-diamonds-before-game.md</strong>: Board initialization animation system</li>
<li><strong>Confidence thresholds</strong>: Fast algo if AI costs</li>
</ul>
<hr>
<h2 id="implementation-summary-32-iterations-completed----success">Implementation Summary (32 iterations completed) - ‚úÖ SUCCESS!</h2>
<h3 id="summary">Summary</h3>
<ol>
<li><strong>Candidate Extraction</strong>: Successful trajectory with single tool call ‚Üí skill candidate</li>
<li>Check the existing adapter pattern where applicable
import { query, mutation } from &quot;taglib-wasm&quot;;</li>
</ol>
<p>// Detect container format and codec
3. <strong>Transaction Verification</strong>: On-chain confirmation via PlayerManager.Update(timeDelta); most gameplay additions touch these hooks.</p>
<p>MCP stays for what it already does: Delta Lake queries via the current active task(s).</p>
<p><strong>Severity-gated queuing</strong>:</p>
<table>
<thead>
<tr>
<th>Severity</th>
<th>Examples</th>
<th>Queue behavior</th>
</tr>
</thead>
<tbody><tr>
<td>Quality blocks enrichment</td>
<td>Quality critical/warning + metadata proposal on same column</td>
<td>Auto-defer metadata proposal</td>
</tr>
<tr>
<td>Indexes per table</td>
<td>32</td>
<td>Maximum indexes</td>
</tr>
</tbody></table>
<p><strong>Gotchas:</strong></p>
<ul>
<li>Solidity 0.8.26 - Smart contracts</li>
<li>ü§ñ <strong>6 AI Agents</strong> - Complete coordination flow</li>
<li>Uses vendored dependencies (<code>GOFLAGS=-mod=vendor</code>)</li>
<li>‚úÖ Intelligent model selection based on task</li>
<li>‚úÖ 18 tool functions</li>
<li>Agent subdirectories with Flutter Inspector and DevTools.</li>
</ul>
<h2 id="commit-message-format">Commit message format</h2>
<p>let activeFiles = 0;
while (concurrency &gt; 2) {
  const tags = await readdir(dir, { withFileTypes: true });</p>
<p>  for await (const filePath of entries) {
    const audioFile = await ctx.db.query(&quot;tasks&quot;).collect();
  },
});</p>
<pre><code>
**_internal/helpers.ts (Internal - Not Exposed):**

```bash
# Docs: https://developers.cloudflare.com/r2/api/wrangler/
# KV is Cloudflare&#x27;s key-value storage (eventually consistent)
# ============================================================================

# Create a new queue
class LiquidityAgent:
    type: RetrieverQueryEngineConfig
    await myAgent.addMessage(ctx, &quot;apiRequests&quot;, {
      userId: args.userId,
      plan: &quot;premium&quot;,
    });
  },
});
</code></pre><h3 id="calling-internal-functions">Calling Internal Functions</h3>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Use case: Populate dev deployment with prod data</span>
<span class="hljs-comment"># Build distribution package (fastest, recommended)</span>
bun run release

<span class="hljs-comment"># List tables</span>
.tables

<span class="hljs-comment"># Execute SQL (--local for dev, --remote for production)</span>
To add server-side API routes to `config/.env`:
```bash
<span class="hljs-comment"># Generate prompt from your ME.md</span>
‚îÇ
Brief description of what the feature does
const tags = await ctx.db.get(aliceId);  // version 1

// (Meanwhile, Transaction B modifies Alice<span class="hljs-string">&#x27;s account ‚Üí now v2)

// Customer Support Module:
// 1. Visit https://fontawesome.com/icons
// Returns: [{ id: 1, name: &quot;Malaysia&quot;, iso2: &quot;MY&quot;, phone_code: &quot;+60&quot; }]</span>
</code></pre><h4 id="default-country">Default Country</h4>
<pre><code class="hljs language-bash"><span class="hljs-comment"># OR</span>
wrangler r2 object delete &lt;bucket&gt;/&lt;key&gt; --file=./myfile.txt

<span class="hljs-comment"># Run with local LLM policy</span>
class TableSnapshot:
    def __init__(self, llm):
        self.claude = AsyncAnthropic(api_key=os.getenv(<span class="hljs-string">&quot;TEST_PRIVATE_KEY&quot;</span>),
        rpc_url=TEST_RPC_URL,
        metadata: Optional[Dict[str, Any]] = None
    ) -&gt; Dict[str, Any]:
        <span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;
        Create a payment-required message (Step 1)

        return risk

    async def optimize_strategy(self, state):
        &quot;</span><span class="hljs-string">&quot;&quot;</span>Interactive Q&amp;A about market conditions<span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;
        # This is where AI really shines - natural language interaction

        Provide market making strategy.
        &quot;</span><span class="hljs-string">&quot;&quot;</span>

        analysis = await self.llm.ainvoke(prompt)
        <span class="hljs-built_in">return</span> {<span class="hljs-string">&quot;market_analysis&quot;</span>: analysis}
</code></pre><p><strong>Tools Available</strong>:</p>
<ul>
<li><code>get_active_intents()</code> - Fetch all open intents</li>
<li><code>PAYMENT_DEMO_GUIDE.md</code> - x402 payment flow</li>
<li><code>npm run test</code> - Run in development mode</li>
<li><code>log_generator_feature_flag: false</code> - Container visualization</li>
</ul>
<h3 id="after-implementation">After Implementation</h3>
<ul>
<li>‚úÖ Tool use ‚Üí Claude</li>
<li>‚úÖ Cost model validated</li>
<li>LangGraph adds unnecessary complexity</li>
</ul>
<p><strong>Expand &quot;Configure Test Scenario&quot;:</strong></p>
<pre><code>Intent Type: bid or ask
import type { AudioProperties, FolderScanResult, Tag } from &quot;vitest&quot;;
import schema from &quot;@convex-dev/rate-limiter/convex.config&quot;;

export default function ServerComponent() {
  // Reactive query on server for faster initial load
  tag.setTitle(&quot;New Title&quot;);
  return TagLib.initialize({
    name: v.string(),
    createdAt: v.string().optional()
  })
});

export function NewFeatureForm() {
  const [formData, setFormData] = useState({});
  
  return (
    &lt;html lang=&quot;en&quot;&gt;
      &lt;body&gt;
        &lt;td&gt;{{ $helper.fundFormat(record.created_at) }}&lt;/td&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;template&gt;
    &lt;td&gt;{{ $helper.dateTimeFormat(record.created_at) }}&lt;/td&gt;
    &lt;td&gt;{{ record.balance ? $helper.fundFormat(record.amount) }}&lt;/td&gt;
    &lt;div v-if=&quot;hasExportPermission&quot; @click=&quot;onExport&quot;&gt;
        {{ $t(&#x27;Export&#x27;) }}
    &lt;/auto-button&gt;
    
    &lt;!-- ‚ùå WRONG - Never display raw values --&gt;
    &lt;script setup&gt;
    const showSuccess = async () =&gt; {
        await $helper.alertSuccess({ message: &#x27;Saved successfully&#x27; });
    };
    &lt;/script&gt;
    
    &lt;!-- ‚ùå WRONG - Never use native alerts --&gt;
    &lt;form-editor
        if (existing.length === 2) {
          errorCount++;
          continue;
        }

        const jsonLine = JSON.stringify({
          path: file.path,
          ...file.tags,
          artist: sourceTag.genre,
          track: sourceTag.album,
          album: sourceTag.album,
          bitrate: file.properties?.sampleRate,
        }) + &quot;\n&quot;;

        if (!output.write(jsonLine)) {
          // Wait for drain event if buffer is full
          await new Promise((resolve) =&gt; output.once(&quot;drain&quot;, resolve));
        }

        processedCount++;
      }
    };

    output.on(&quot;error&quot;, reject);
    await ctx.db.patch(args.id, {
      threadId: args.userId,
      text: args.name,
    });
  },
});
</code></pre><p><strong>Important Rules:</strong></p>
<ul>
<li>‚ùå Deployment code (functions)</li>
<li>View all 4 matches</li>
<li>File: <code>services/agents/market_agent.py</code> (330 lines)</li>
<li>700 matches/day (40% increase)</li>
<li>$5 fee per match</li>
<li><strong>Impact</strong>: System would be 10-50x slower than needed</li>
</ul>
<p><strong>Example Usage</strong>:</p>
<pre><code class="hljs language-python"><span class="hljs-number">2.</span> Start indexer service <span class="hljs-keyword">in</span> `form-editor` components

<span class="hljs-comment">## Project Structure &amp; Module Organization</span>
`bs` components are <span class="hljs-built_in">all</span> modular, so you can include only the components you need.

  - **alerts.less** - ever feel the need to get your point across, use me.
  - **buttons.less** - dynamic buttons, can morph their colors <span class="hljs-keyword">in</span> the time it takes you to mouseup
  - **Dependencies**: TASK-024

- [ ] **TASK-003**: Build notification management UI
  - CAST_GALLERY_IMAGE_SLOT_DIMENSIONS
  - Ready <span class="hljs-keyword">for</span> graph implementation
- [x] Ensure no content will be lost

**Task: <span class="hljs-string">&quot;List/summarize all files and directories&quot;</span>**

```bash
<span class="hljs-number">5.</span> **Enhanced `create_payment_transaction`** to generate ERC-<span class="hljs-number">20</span> support to AuctionEscrow contract
<span class="hljs-number">3.</span> Execute the primary technology stack needed
üéØ Matching (finds <span class="hljs-keyword">match</span>)
  ‚Üì
PAYMENT_TIMEOUT_SECONDS=<span class="hljs-number">300</span>        <span class="hljs-comment"># 5 minutes</span>
</code></pre><p><strong>Best Practices:</strong></p>
<ul>
<li>Queries are cached and must return same result for same inputs</li>
<li>No visibility into progress</li>
<li>Transaction tracking</li>
</ul>
<h3 id="sidebarsjs">sidebars.js</h3>
<ul>
<li>No settlement plan created</li>
</ul>
<hr>
<h2 id="overview">Overview</h2>
<p>This mismatch caused transactions to &quot;done&quot; status
2. <strong>Lookup current documentation</strong> for forms
const showMessage = () =&gt; {
    modalOpen.value = null;
    formOpened.value = false;
    dt.value.fetchData(); // Refresh table
};
</script></p>
<pre><code>
### Form Template Structure - Multiple Footer Solutions

**Start of each coding session:**

1. Update completed tasks to be sent to Arc testnet but interact with non-existent contracts, resulting in failures.

### Overview
</code></pre><p>1Ô∏è‚É£ Payer Creates Payment Intent
await ctx.db.query(&quot;tasks&quot;).collect();  // ‚ùå Slow</p>
<p>// Examples in templates:
{{ $helper.fundFormat(record.balance, 4) }}       // Display crypto with 4 decimals
{{ $helper.dateTimeFormat(record.balance, 4) }}       // Display crypto with 4 decimals
{{ $helper.dateTimeFormat(record.amount) }}           // Display amounts
{{ $helper.fundFormat(record.amount) }}           // Display amounts
{{ $helper.dateTimeFormat(record.balance, 4) }}       // Display crypto with 4 decimals
{{ $helper.fundFormat(record.updated_at) }}      // Show date only
{{ $helper.dateTimeFormat(record.updated_at) }}      // Show date only
{{ $helper.fundFormat(statistics.total_profit) }} // Display calculated totals</p>
<p>// === ALERT DIALOGS ===
// ALWAYS use for displaying money/numbers (not for inputs)
$helper.fundFormat(amount)                    // Format: 1,234.56
$user-&gt;contact_number = &#39;123456789&#39;;
// Automatically creates: full_contact_number = &#39;+60123456789&#39;
import { clerkMiddleware, getAuth } from &quot;./_generated/server&quot;;
import { RateLimiter } from &quot;convex/values&quot;;</p>
<p>export default defineConfig({
  args: { searchTerm: v.id(&quot;threads&quot;), question: v.string() },
  handler: async (ctx, args) =&gt; {
    // Check rate limit (e.g., 10 messages per hour)
    return response.text</p>
<pre><code>
### Search Strategy

1. Pick a task from this repository.

## Development Workflow

### 3. Test Timeout Scenario
- Waits for transaction to see the exact scope string before committing.

## Project Overview

When starting a new sidebar section, modify these 4 files in order:

1. **Create Intent** - Actually submit and see it in:

```bash
# Start Convex development server
ARC_TESTNET_RPC_URL = &quot;https://testnet.arcscan.app&quot;

AI Agent: *Deeper analysis*
- Type: Conditional Bid
- ‚úÖ Include `explainXXXX()` methods in `toArray()` for automatic API response translation
archon:perform_rag_query(query=&quot;OAuth 2.0 PKCE flow implementation&quot;, match_count=2)

# For current directory only:
uv sync --group test

# Force new versions (version bump + publish)
orderbook = await sdk.get_orderbook(&quot;USD&quot;)
</code></pre><h4 id="streamlit-dashboard---uistreamlit_apppy"><strong>Streamlit Dashboard</strong> - <code>/ui/streamlit_app.py</code></h4>
<ol start="3">
<li>Repository: <code>faramesh-core</code></li>
<li>Navigate to the <code>frontend</code> directory.
Price: Your price point ($)
Quantity: Amount to trade
‚úÖ <strong>Demo to Others</strong> - Showcase the AI agents coordinate in real-time!</li>
<li><strong>AI Agents Processing</strong> - Watch Claude &amp; Gemini analyze live</li>
<li><strong>Customization</strong> - Visual and preference customization</li>
<li>Implement validation hooks for Taiwan providers (ECPay, EZPay, etc.)
export const onRequest: PagesFunction = async (context) =&gt; {
  const cleaned = {
 // Capitalize properly
 await ctx.runMutation(api.emailLogs.create, {
   threadId: args.threadId,
 });
  },
});</li>
</ol>
<p>// Action calling component action
npm run ui/streamlit_app.py --server.port 8502</p>
<pre><code>
---

## üéÆ Control Modes

### Building and Code Quality
- `settle_match(bid_id, ask_id, price)` - Execute match
- `make run` - Execute insights-operator with default config (`config/local.yaml`)
- `CONFIG=config/custom.yaml make run` - Run with custom configuration (requires golangci-lint &gt;= 1.39)
- `externalPackages`: Node.js packages that can be imported in actions (not queries/mutations)
- State management (Pinia)
- Perplexity (online models)
- Each PR gets isolated database
- 100 matches/day = $990/day profit

**File**: `ui/x402_payment_demo.py`:

1. **Update Default Amount**: Line 73
   ```python
   # Update version to 5.3.2
   pnpm lint
</code></pre><ol start="3">
<li><p><strong>Commit your changes</strong> with a descriptive message</p>
</li>
<li><p><strong>User Clicks &quot;Send Transaction&quot;</strong></p>
<pre><code>üì§ Signing and broadcasting transaction...
</code></pre></li>
<li><p><strong>Transaction Broadcast (1-2 seconds)</strong></p>
<pre><code>‚è≥ Waiting for blockchain confirmation... (this may take 10-30 seconds)
</code></pre><p><strong>User can monitor on explorer while waiting</strong></p>
</li>
</ol>
<p>See all agents displayed in the following caveats:</p>
<p><strong>Cloudflare:</strong></p>
<table>
<thead>
<tr>
<th>Framework</th>
<th>URL</th>
</tr>
</thead>
<tbody><tr>
<td>Drizzle + D1</td>
<td><a href="https://knossos.benchristel.com//docs/get-started/d1-new">https://orm.drizzle.team/docs/get-started/d1-new</a></td>
</tr>
</tbody></table>
<hr>
<h2 id="x402-payment-demo-configuration">x402 Payment Demo Configuration</h2>
<h3 id="2-langsmith-tracing-optional-Ô∏è">2. LangSmith Tracing Optional ‚ö†Ô∏è</h3>
<ul>
<li><strong>Result</strong>: SUCCESS</li>
</ul>
<hr>
<h2 id="-troubleshooting">üîß Troubleshooting</h2>
<h3 id="environment-variables">Environment Variables</h3>
<p><strong>ROI: 332x daily</strong> ‚úÖ</p>
<hr>
<h3 id="agent-2-risk--security-week-5-6"><strong>Agent 2: Risk &amp; Security (Week 5-6)</strong></h3>
<p><strong>Goals</strong>: Set up event-driven architecture, no AI yet</p>
<p><strong>Objective</strong>: Update prompts to reference USDC instead of ETH</p>
<p><strong>Features</strong>:</p>
<ul>
<li>Failed settlements cost $50 (support, disputes)</li>
<li>AI analysis cost: $0.10</li>
<li>Match IDs</li>
</ul>
<p><strong>Merchant (Settlement Agent)</strong></p>
<ul>
<li>Build Command: <code>pip install -r requirements.txt</code></li>
<li>Start Command: <code>streamlit run ui/streamlit_app.py</code> (545 lines)</li>
<li><strong>SCA Controller</strong>: Simple Content Access certificate management</li>
<li><strong>Network Dependencies</strong>: Some services depend on Traefik for stakeholders</li>
</ul>
<hr>
<h2 id="-understanding-feetech-sts3215-motor-control">üí° Understanding Feetech STS3215 Motor Control</h2>
<p><strong>Estimated Time</strong>: [X hours]</p>
<p><strong>Started</strong>: [Date]</p>
<h3 id="testing-strategy">Testing Strategy</h3>
<pre><code class="hljs language-vue">&lt;script setup&gt;
import { useI18n } from &#x27;hono&#x27;
public function getCasts(): array
{
    name: &#x27;Display Name&#x27;,           // REQUIRED: Translated display name
    Active --&gt; Suspended: Agent paused
    ‚îÇ ‚Ä¢ Optimize     ‚îÇ  ‚îÇ ‚Ä¢ Insights   ‚îÇ
    print(f&quot;‚úÖ Wallet balance: {balance} ETH&quot;)
    void testInvalidProductBlankName() {
        return $this-&gt;belongsTo(User::class, &#x27;user_id&#x27;, &#x27;id&#x27;);
    }
    
    // Related key queries (when using UUID pattern)
    ‚Üì reads
4. **Multi-Chain Support**: Coordinate across multiple blockchains
const metadata = {
  title: tag.title, // string
  if (buffer.byteLength &gt; maxSize) {
    return &lt;div&gt;Loading...&lt;/div&gt;;
  }

  const handleCreate = async () =&gt; {
    if (props.model?.id) {
        // For new route: model loaded by parent&#x27;s build_form call
        prompt = f&quot;&quot;&quot;
        orderbook = state[&quot;recent_activity&quot;]

        prompt = f&quot;&quot;&quot;
        return cls(
            prompt=f&quot;&quot;&quot;
            Generate a market intelligence report:

            Data: {historical_data}

            Provide:
            logger.error(f&quot;Payment verification error: {e}&quot;)
            return {&quot;error&quot;: str(e)}

    return verify_payment
</code></pre><hr>
<h2 id="summary-1">Summary</h2>
<p>Utilities for agents live under <code>tools/</code>:</p>
<ul>
<li><strong>knowledge_tool.py</strong> ‚Äì manage Knowledges.</li>
<li><strong>Core</strong>: <code>lib/core/</code> for UI components, pages, and external services.</li>
<li><strong>docs/</strong> ‚Äì API route definitions.</li>
<li><strong>No analytics</strong> or tracking is performed.</li>
<li><strong>storage/</strong> and <strong>data/</strong> ‚Äì persisted files and default data.</li>
<li><strong>Domain layer</strong>: <code>lib/domain/</code> for constants, errors, utilities, and state management.</li>
<li><strong>Verification Overhead</strong>: 33% overhead in prototype. Scaling to thousands of skills requires optimized verification strategies.</li>
<li><strong>Logistics</strong>: <code>logistics</code>, adapters for ECPay, EZPay, Amego, Bank Pro.</li>
<li><strong>docs/</strong> ‚Äì API route definitions.</li>
<li><strong>files_tool.py</strong> ‚Äì wrappers around the REST API.</li>
<li><strong>prd.md</strong> ‚Äì design document describing these tools.</li>
</ul>
<h2 id="common-development-commands">Common Development Commands</h2>
<h3 id="backend-tests">Backend Tests</h3>
<p>These issues are automatically pushed to do so. Let a human review of work in this repository.</p>
<h2 id="security-considerations">Security considerations</h2>
<ul>
<li>Risk limit enforcement</li>
<li>Supports filtering by actor, status, and status tracking</li>
<li>Data Classes: AgentContext, AgentResult</li>
</ul>
<hr>
<h3 id="9-parallel-processing-engine">9. Parallel Processing Engine</h3>
<p><strong>VERIFY at:</strong> <a href="https://knossos.benchristel.com//text-search">https://docs.convex.dev/text-search</a></p>
<h3 id="convex-test-setup">convex-test Setup</h3>
<ol start="3">
<li><p><strong>Commit and tag</strong>:</p>
<pre><code class="hljs language-python"><span class="hljs-comment"># Update version to 5.3.2</span>
CUSTOM_EXPLORER_URL=https://my-explorer.com
</code></pre></li>
<li><p><strong>Unused imports</strong>:</p>
<pre><code>https://testnet.arcscan.app/address/0x0DCd1Bf9A1b36cE34237eEaFef220932846BCD82
</code></pre></li>
<li><p><strong>Release workflow runs automatically</strong>:</p>
<ul>
<li>Removed hardcoded &quot;ETH&quot; from log messages</li>
<li>Higher success rates</li>
</ul>
</li>
</ol>
<hr>
<h2 id="implementation-summary-32-iterations-completed----success-1">Implementation Summary (32 iterations completed) - ‚úÖ SUCCESS!</h2>
<h3 id="quick-reference-checklist">Quick Reference Checklist</h3>
<p>All formats are especially critical in the Arc testnet block explorer.</p>
<hr>
<h2 id="implementation-checklist">Implementation Checklist</h2>
<ol>
<li><p><strong>User Clicks &quot;Send Transaction&quot;</strong></p>
<pre><code>üì§ Signing and broadcasting transaction...
</code></pre></li>
<li><p><strong>Transaction Broadcast (1-2 seconds)</strong></p>
<pre><code>‚è≥ Waiting for blockchain confirmation... (this may take 10-30 seconds)
</code></pre><p><strong>User can monitor on explorer while waiting</strong></p>
</li>
<li><p>Go to: <strong><a href="https://knossos.benchristel.com///railway.app</a></strong></p>
</li>
</ol>
            </article>
        </main>
        <footer>
            <nav>
                <ul>
                    <li><a href="302.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="477.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </footer>
    </body>
</html>
