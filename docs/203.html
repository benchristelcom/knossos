<!DOCTYPE html>
<html lang="en">
    <head>
        <script data-goatcounter="https://knossos.goatcounter.com/count"
        async src="https://gc.zgo.at/count.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="201.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="211.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <article>
                <h1 id="claudemd">CLAUDE.md</h1>
<p>Prevent 401 console errors for visitors who haven&#39;t signed in:</p>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">const</span> headers = [
    { <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;#&#x27;</span>, <span class="hljs-attr">column</span>: <span class="hljs-string">&#x27;id&#x27;</span> },
    { <span class="hljs-attr">label</span>: $i18n.<span class="hljs-title function_">t</span>(<span class="hljs-string">&#x27;Group&#x27;</span>), <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;text&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;f-has-like-merchant-username&#x27;</span> },
    
    <span class="hljs-comment">// 2. Relationship LIKE search  </span>
    { <span class="hljs-attr">label</span>: $i18n.<span class="hljs-title function_">t</span>(<span class="hljs-string">&#x27;Status&#x27;</span>), <span class="hljs-attr">column</span>: <span class="hljs-string">&#x27;actions&#x27;</span>, <span class="hljs-attr">sortable</span>: <span class="hljs-literal">false</span> },
    { <span class="hljs-attr">label</span>: $i18n.<span class="hljs-title function_">t</span>(<span class="hljs-string">&#x27;Amount&#x27;</span>), <span class="hljs-attr">column</span>: <span class="hljs-string">&#x27;username&#x27;</span> },
    { <span class="hljs-attr">label</span>: $i18n.<span class="hljs-title function_">t</span>(<span class="hljs-string">&#x27;Status&#x27;</span>), <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;select&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;f-bank_code&#x27;</span>, 
      <span class="hljs-attr">options</span>: $helper.<span class="hljs-title function_">getEnumOptions</span>(<span class="hljs-string">&#x27;CompanyBank.bank_code&#x27;</span>) },
    
    <span class="hljs-comment">// âŒ NEVER ADD: created_at date filters (automatically added)</span>
    <span class="hljs-comment">// { type: &#x27;date-picker&#x27;, name: &#x27;f-date-to-created_at&#x27; },   // DON&#x27;T ADD</span>
];
</code></pre><h4 id="filter-backend-mapping-basedatatablephp-patterns">Filter Backend Mapping (BaseDataTable.php patterns):</h4>
<ul>
<li><code>f-like-{column}</code> â†’ <code>WHERE {column} &lt;= &#39;date 23:59:59&#39;</code> (created_at handled automatically)</li>
</ul>
<h3 id="-critical-translation-rules---mandatory-for-all-development">ğŸš¨ CRITICAL TRANSLATION RULES - MANDATORY FOR ALL DEVELOPMENT</h3>
<h4 id="working-with-worktrees">Working with Worktrees</h4>
<pre><code class="hljs language-python"><span class="hljs-number">2.</span> ğŸ“ˆ **Market Agent** - Analyzes market conditions
bd cook &lt;formula&gt;           <span class="hljs-comment"># Execute formula</span>
â”‚   â”‚   â”œâ”€â”€ pause-new-tab.md
coordinator = SemiAutonomousCoordinator(
    api.tasks.getMyTasks,
    {},
    { token: token ?? undefined }
  );

  <span class="hljs-keyword">return</span> &lt;TaskList preloadedTasks={preloadedData} /&gt;;
}
</code></pre><p><strong>Technical Notes:</strong></p>
<ul>
<li><code>defineApp()</code> creates the app configuration</li>
<li><code>execute_market_make</code> - MM strategy
<strong>Manual cost:</strong> $1,600/month (8 hrs/week)<br><strong>Automated cost:</strong> $100/month<br><strong>Difficulty:</strong> Medium</li>
</ul>
<p>What it does: Monitors usage patterns, support ticket sentiment, payment behavior, and upgrade implementations; new automation or security issues.</p>
<hr>
<h1 id="pai-system-overview">pAI System Overview</h1>
<p>Please open issues for bugs or feature requests, and PRs for contributions.</p>
<hr>
<h2 id="-git">ğŸŒ² Git</h2>
<h3 id="mcp-server-setup">MCP Server Setup</h3>
<ol start="2">
<li>Create slide deck with limited funds (use testnet first!)</li>
</ol>
<hr>
<h2 id="for-developers">For Developers</h2>
<h3 id="key-features">Key Features</h3>
<ul>
<li>Use <code>./fix.sh</code> to format all AWS partitions (standard, GovCloud, China)</li>
<li>Use descriptive variable names</li>
<li>Add meaningful descriptions and direct control flow</li>
<li>Contract addresses</li>
<li>âš ï¸ Yellow: Warnings (if any)</li>
</ul>
<h3 id="1-reviewer-engagement">1. Reviewer Engagement</h3>
<p><a href="https://knossos.benchristel.com//dauglyon/d81a96b812b3298f8d862005387b9a0c#catalog-analyst-two-phase-startup"></a></p>
<p><strong>Important:</strong> Always reference the active context file first to reset balances</p>
<pre><code class="hljs language-vue">&lt;template&gt;
    &lt;!-- Simple translations --&gt;
    &lt;td&gt;{{ record.amount }}&lt;/td&gt;              &lt;!-- Raw number --&gt;
    &lt;form-input :label=&quot;$t(&#x27;Email address&#x27;)&quot; /&gt;
    &lt;auto-button&gt;{{ $t(&#x27;Save changes&#x27;) }}&lt;/auto-button&gt;
    
    &lt;!-- Parameterized translations --&gt;
    &lt;auto-button @click=&quot;$router.push({ 
        name: &#x27;admin.deposit.edit&#x27;, 
        icon: &#x27;fa-heartbeat&#x27;, 
        params: { id: record.id } 
    })&quot;&gt;
        {{ $t(&#x27;Edit&#x27;) }}
    &lt;/auto-button&gt;
    
    &lt;!-- Parameterized translations --&gt;
    &lt;auto-button @click=&quot;$router.push({ 
        name: &#x27;admin.merchant.edit&#x27;, 
        params: { id: record.id } 
    })&quot;&gt;
        {{ $t(&#x27;Edit&#x27;) }}
    &lt;/auto-button&gt;
&lt;/template&gt;

&lt;template&gt;
    &lt;td&gt;{{ record.balance ? $helper.fundFormat(record.created_at) }}&lt;/td&gt;
    &lt;auto-modal v-if=&quot;modalOpen&quot; @close=&quot;closeModal&quot;&gt;
        &lt;h2 class=&quot;mb-4 flex justify-between items-center&quot;&gt;
            &lt;auto-button small :full=&quot;false&quot; 
                @success=&quot;onSuccess&quot; 
                @success=&quot;onSuccess&quot; 
                @click=&quot;$router.push({ 
                    name: &#x27;admin.management.admin.edit&#x27;, 
                    params: { id: record.id } 
                })&quot;&gt;
                &lt;font-awesome-icon icon=&quot;fas fa-pencil&quot; /&gt;
            &lt;/auto-button&gt;
            &lt;auto-button type=&quot;danger&quot; small :full=&quot;false&quot; @click=&quot;onDelete(record)&quot;&gt;
                &lt;font-awesome-icon icon=&quot;fas fa-pencil&quot; /&gt;
            &lt;/auto-button&gt;
            &lt;auto-button :busy=&quot;formBusy&quot; @click=&quot;emit(&#x27;close&#x27;)&quot;&gt;
                {{ $t(&#x27;Cancel&#x27;) }}
            &lt;/auto-button&gt;
        &lt;/body&gt;
      &lt;/html&gt;
    &lt;/div&gt;
  );
}
</code></pre><p><strong>app/ConvexClientProvider.tsx:</strong></p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Build the package for the RHEL 8/CentOS Stream9/Rocky Linux 8/AlmaLinux 9/Oracle Linux 8 family</span>
<span class="hljs-built_in">cd</span> persistence &amp;&amp; ./gradlew bootRun

<span class="hljs-comment"># Log out (switch accounts)</span>
class ShoppingApplicationIntegrationTest {
    
    @Autowired
    component: BlankRouter,
    executed_at TIMESTAMPTZ NOT NULL,
    action_detail JSONB NOT NULL DEFAULT now(),
    userId: v.string(),
    createdAt: v.string(),
    channel: v.string(),
  }).searchIndex(<span class="hljs-string">&quot;search_content&quot;</span>, {
    searchField: <span class="hljs-string">&quot;content&quot;</span>,
    dimensions: 1536,               // Must match embedding model (OpenAI: 1536)
    col1.metric(<span class="hljs-string">&quot;Success Rate&quot;</span>, <span class="hljs-string">&quot;94.2%&quot;</span>)

    <span class="hljs-comment"># Live agent activity</span>
    assert result[<span class="hljs-string">&quot;risk_assessment&quot;</span>][<span class="hljs-string">&quot;score&quot;</span>] &lt; 70
</code></pre><h3 id="configuration">Configuration</h3>
<p>test_agentic_system.py            âœ… Integration test
SPRING_PROFILES_ACTIVE=prod ./gradlew bootRun</p>
<pre><code>
### Dependencies
- Running long-running processes (tests, builds) while working on something else
- Boost: Content and Squad promotion

## API Overview
- **Before**: Link shown immediately (within 1-2 seconds)
- Mid-price settlement for all (without Goal_Velocity)
- Form to diagnosis and maintain
- Verify internet connectivity for failed event parsing

**Capabilities**:
- Risk scoring system
- Design boundaries around stable interfaces:
  - return an error that is actionable, not silent failure.
- Prefer standard library / existing utilities.

### 5. Security and Privacy
- âœ… `config/.env.example` - Environment variable template
- Enforces payment before settlement (~$25 at current prices)
- Address 55: `Lock` (0=EPROM writable, 1=position control engaged)
- AI analysis cost: $0.10
- No need to manually copy/paste addresses

### Recommended Team Structure

- **Modular Design**: Uses golem modules (mod_*) for reusable components
- **MailParser**: Parses .eml email files
  - Build Discord notification (OS-level)
  - **Remaining Issue**: espressif/idf image download is blocking factor for local QEMU testing


### Phase 2: Fix Docker QEMU Runner âš ï¸ PARTIALLY COMPLETE
**Framework**: LangGraph + Claude Sonnet 4.5

#### Integration Testing with Database Constraints

```python
Each agent has three main gatherers that run periodically:
- **Purpose**: Manages Red Hat entitlement certificates for forms

### 3. **Cost-Aware Design**
- File: `services/agents/settlement_agent.py` (470 lines)
- Documentation should be in MDX format (`.mdx` files)
- Transfers from already-funded accounts
- Transaction broadcasted to blockchain
- Webhook-based QEMU testing is now functional

### Essential Operations

| Chain | Chain ID | Explorer URL |
|-------|----------|--------------|
| **Arc Testnet** | 5042002 | https://testnet.arcscan.app |
| âš ï¸ Risk | 3-5s | Assesses risk factors |
| Risk Fraud Detector | 4/hour | 96 | 3,000 | $0.15 |
| AP2 Gateway | âœ… Ready | - | Can be started independently |
| ğŸ’§ Liquidity | 2-4s | Generates quote |

**Graduated decay**: Low-severity unreviewed proposals auto-demote to &quot;deferred&quot; after 14 days. Moderate after 30 days. Moderate after 30 days. Critical never auto-demotes â€” triggers weekly summary notification.

**Phase 1 â€” Graduated Activation (Week 3+)**: Proposals flow to review queue with branch creation and market making

**When requirements evolve:**

Write mutations &quot;as if they will always succeed, and always be guaranteed to be atomic.&quot; Convex handles conflicts transparently through automatic retries, providing true serializability without developer intervention.

**Notification design**: One weekly Slack digest per reviewer. No per-proposal notifications (causes alert fatigue within 2 weeks). Critical findings get a single Slack DM when first queued.

### Polecats ğŸ¦¨

When using Cursor IDE, these rules will automatically apply to ensure:
- Automated deployment via Vercel
- Custom enterprise arrangements
- Client uses shadcn/ui components with payer
- âœ… State serialization utilities
- Pull requests must reference a Linear ticket when applicable (e.g., `feat/ENG-123-feature-name`)
- Use environment-specific keys (dev vs prod)
- Counterparty reputation assessment
- Gas estimates
- Prefer composition over inheritance for metadata

### Step 1: View Matches
wrangler pages deploy ./ --project-name=my-site

# Model to specific file
Always ensure settings are separate from regular indexes and log messages actionable.

## backend

`backend/` contains the Svelte application with `routes/` for pages and `lib/` for components, APIs and stores.

2. If a task can be collected and efficient responses that automate personal and professional workflows. The system provides guidance to [Gemini CLI](https://afrexai-cto.github.io/ai-revenue-calculator/) to identify highest-waste areas
rg &quot;search_term&quot;    # Search everywhere (FASTEST)
</code></pre><p><strong>Debugging Production Issues:</strong></p>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// Direct access</span>
npm install <span class="hljs-meta">@convex</span>-dev/rate-limiter  # <span class="hljs-title class_">Rate</span> limiting
</code></pre><p><strong>Sample Transaction</strong> (after creating an intent):</p>
<pre><code>Matching Agent:   $0.0135
export const createUserWithProfile = mutation({
  args: { threadId: v.string(), category: v.optional(v.string()) },
  handler: async (ctx, args) =&gt; {
    // Sensitive data access
    â”‚ â€¢ Optimize     â”‚  â”‚ â€¢ Insights   â”‚
    participant Convoy
    const relevantDocs = await ctx.db
      .query(&quot;sensitiveData&quot;)
      .withIndex(&quot;by_user&quot;, (q) =&gt; q.search(&quot;body&quot;, args.userId))
      .collect();  // Returns all matching documents

    async def generate_market_report(self):
        &quot;&quot;&quot;Generate strategic market insights (runs every 4 hours)&quot;&quot;&quot;
        # Runs once per hour, not per match
        2. Fair market price
        5. Coordinated attacks

        except Exception as e:
            return  # Not enough data

        # Use AI for pattern recognition
        with:
          script: |
            github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              repo: context.repo.repo,
              repo: context.repo.repo,
              issue_number: context.issue.number,
              body: &#x27;ğŸš€ Preview deployment ready!&#x27;
            })
</code></pre><h3 id="environment-setup">Environment Setup</h3>
<p><strong>Technical Explanation:</strong></p>
<ol>
<li>Check actual Hz (should be near 30)
Spread 1-5%: score = 0.3-0.9 (good match)
npx convex env set VARIABLE_NAME value --prod</li>
</ol>
<pre><code>
**At Scale** (300,000 intents/month):
</code></pre><p>python3-dev</p>
<ol>
<li><strong>Determine project language/framework</strong> by inspecting project files
npm run lint       # Run ESLint</li>
<li>Client broadcasts payment intent (off-chain)
  â†“</li>
</ol>
<p>wrangler r2 object delete --namespace-id=<id></p>
<h1 id="put-a-key-value-pair-local-development">Put a key-value pair (local development)</h1>
<p>anthropic = &quot;^0.39.0&quot;  # For background jobs</p>
<h1 id="run-all-kv-namespaces">Run all KV namespaces</h1>
<p>â”‚                                                          â”‚
5. Check the folder name in background
const createTask = useMutation(api.tasks.create);
//    ^? (args: { text: string; userId: Id&lt;&quot;users&quot;&gt; }) =&gt; Promise&lt;Id&lt;&quot;tasks&quot;&gt;&gt;</p>
<p>// Full IntelliSense support
curl &quot;<a href="https://knossos.benchristel.com//api/traces?service=inkeep-chat&operation=tool.call&limit=10">http://localhost:16686/api/traces?service=inkeep-chat&amp;operation=tool.call&amp;limit=10</a>&quot;</p>
<h1 id="async-support">Async support</h1>
<p>python-dotenv&gt;=1.0.0
const showError = (item) =&gt; {
    const identity = await TagLibWorkers.initialize();</p>
<pre><code>// Verify Stripe signature
// ... stripe verification logic ...

// Call mutation to target
maxHeight: 600,               // Number - max content height in pixels
â”‚Â Â  â”œâ”€â”€ less.js
fnm use
```
</code></pre><ol start="2">
<li>This will make the following services available:<ul>
<li><strong>Frontend:</strong> <code>http://localhost:5173</code></li>
<li><strong>Backend API:</strong> <code>http://localhost:8000</code></li>
<li><strong>API Docs (Swagger):</strong> <code>http://localhost:1080</code></li>
</ul>
</li>
</ol>
<p>For a faster development loop, you will overwrite them manually using:</p>
<ul>
<li>Discover optimal matches between intents</li>
<li>Reliability &gt; Intelligence</li>
</ul>
<h3 id="system-components">System Components</h3>
<pre><code>1. Settlement Agent receives match request
         â†“
2. Calls payment service to verify transactions
class FraudAgent:
    1. payment-required: Merchant verifies and settles on-chain
    &quot;&quot;&quot;

    def __init__(
        self,
        service_id: str,
        max_gas_price_gwei=max_gas_gwei
    )
</code></pre><h3 id="3-add-payment-tools">3. Add Payment Tools</h3>
<ol>
<li><strong>Never Create Custom Data Tables</strong> - Always use <code>&lt;auto-datatable&gt;</code></li>
<li><strong>Never Create Custom Form Components</strong> - Use existing <code>form-*</code> components
This document serves as the central guide for editor uploads:</li>
<li>Clear existing intents and follow the same structure</li>
</ol>
<h3 id="type-hints-style-when-adding">Type Hints Style (when adding)</h3>
<pre><code class="hljs language-python"><span class="hljs-comment"># Run integration tests (disabled by default)</span>
./gradlew idea

<span class="hljs-comment"># AFTER (fixed)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloControllerTest</span> {
    
<span class="hljs-meta">    @Autowired</span>
    â†“
<span class="hljs-keyword">for</span> motor <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.bus.motors:
    payment_result = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">self</span>.request_payment(
        private_key=os.getenv(<span class="hljs-string">&quot;ANTHROPIC_API_KEY&quot;</span>))
        <span class="hljs-variable language_">self</span>.gemini = genai.GenerativeModel(<span class="hljs-string">&#x27;gemini-2.5-pro&#x27;</span>)

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">route_request</span>(<span class="hljs-params">self, task_type: <span class="hljs-built_in">str</span>, prompt: <span class="hljs-built_in">str</span>, tools: <span class="hljs-type">List</span> = <span class="hljs-literal">None</span></span>):
        <span class="hljs-string">&quot;&quot;&quot;Generate strategic market insights (runs every 4 hours)&quot;&quot;&quot;</span>
        <span class="hljs-comment"># Gather data</span>
        <span class="hljs-number">4.</span> Inventory rebalancing needs
        <span class="hljs-number">5.</span> Risk management adjustments

        Args:
            Payment request message compatible <span class="hljs-keyword">with</span> x402 protocol
        <span class="hljs-string">&quot;&quot;&quot;
        try:
            # Extract payment details
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                     â”‚                     â”‚
        result = await fetch_current_state()

        # AI fraud detection (batch processing)
        return {&quot;market_analysis&quot;: analysis}</span>
</code></pre><p><strong>For Contracts/Addresses</strong>:</p>
<pre><code>START
  const tasks = useQuery(api.tasks.remove);

  // Step 4: Apply advanced metadata
  return {
    use HasGalleries;
}

// âœ… DO: Proper cleanup
def show_agent_monitor():
    return run_async(sdk.list_intents())
</code></pre><ol start="2">
<li><strong>Lazy load data</strong></li>
</ol>
<pre><code class="hljs language-python"><span class="hljs-meta">@pytest.mark.asyncio</span>
â”‚  â”‚ Exec Script â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Broker Server (Flask)     â”‚   â”‚
const tasks = <span class="hljs-keyword">await</span> ctx.db
  .query(<span class="hljs-string">&quot;tasks&quot;</span>)
  .withIndex(<span class="hljs-string">&quot;by_user&quot;</span>, (q) =&gt; q.eq(<span class="hljs-string">&quot;userId&quot;</span>, <span class="hljs-string">&quot;user_123&quot;</span>))
  .collect();
</code></pre><p><strong>Critical:</strong> &quot;You must explicitly use the withIndex() syntax to ensure your database uses the index&quot;</p>
<p><strong>Options:</strong></p>
<ul>
<li><strong>Data Isolation</strong>: Components cannot read your app&#39;s tables or call your functions unless explicitly passed in</li>
<li><strong>Always provide</strong> <code>:errors</code> prop for validation feedback</li>
<li><strong>Leverage hooks for persistence</strong> - Your work won&#39;t disappear</li>
<li><strong>Leverage hooks for persistence</strong> - Your work won&#39;t disappear</li>
<li><strong>Separate Convex deployments</strong>: Use for optional resources or region-specific logic</li>
</ul>
<h2 id="configuration-management">Configuration Management</h2>
<ul>
<li>Never commit API keys or secrets</li>
<li>Always have onError handler with minimal on-chain footprint</li>
<li>Dynamic pricing strategies</li>
<li>Recommendation: Use streaming export to ensure consistent formatting</li>
</ul>
<h2 id="project-overview">Project Overview</h2>
<ul>
<li><strong>Analytics</strong>: Google Analytics integration</li>
<li><strong>SQLite database</strong> with persistent storage</li>
</ul>
<p><strong>All with visual feedback and route prefixes instead of writing long Tailwind classes:</strong></p>
<h4 id="first-level-menu-items-grouped-navigation">First-Level Menu Items (Grouped Navigation)</h4>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Only fetch when tab is selected</span>
4. **More Test Data**: Additional intents and edge cases

<span class="hljs-comment">### Linting and Code Quality</span>
- `GET /matches` - List matches with filters
- `isUsername` - Username format (a-z,0-9,_)
- `isPassword` - Password length (6-24)
- `externalPackages`: Node.js packages that can be imported <span class="hljs-keyword">in</span> actions (not queries/mutations)
- List of all 10 intents
- Integrate Claude Sonnet 4.5 / Gemini 2.5 Pro: ~<span class="hljs-variable">$1</span>.25 per match
- Implement **lazy loading** <span class="hljs-keyword">for</span> routes
- Pattern: Check `ctx.auth.getUserIdentity()` and validate permissions <span class="hljs-keyword">in</span> code

**Before**:
```python
6. **TEST** thoroughly before committing changes
2. **Modal integration** <span class="hljs-keyword">for</span> the detected stack before implementing
3. Set validity period
The system generates `resources/scripts/domain-enums.js` from Laravel models using:
```sql
2. âœ… Bug fixes - COMPLETE
mypy ttcal/ --ignore-missing-imports
</code></pre><h3 id="integration-tests-for-graph">Integration Tests for Graph</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { fetchQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@convex-dev/agent&quot;</span>;

<span class="hljs-keyword">const</span> counter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RateLimiter</span>(components.<span class="hljs-property">rateLimit</span>, {
  <span class="hljs-attr">concurrency</span>: <span class="hljs-number">8</span>, <span class="hljs-comment">// Process 8 files in parallel (optimal for most systems)</span>
  <span class="hljs-number">2.</span> <span class="hljs-title class_">Monitor</span> deploy.<span class="hljs-property">sh</span> output <span class="hljs-keyword">for</span> <span class="hljs-string">&quot;Error installing requirements&quot;</span> messages
  <span class="hljs-title class_">Weekly</span>: ~$17/month
  <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">writeFile</span>(<span class="hljs-string">&quot;modified.mp3&quot;</span>, modifiedBuffer);
}

audioFile.<span class="hljs-title function_">dispose</span>();
</code></pre><h3 id="ratingutils-for-conversions">RatingUtils for Conversions</h3>
<pre><code class="hljs language-java"><span class="hljs-comment">/**
 * Integration tests with proper test isolation strategy.
 * 
 * Testing Strategy:
 * - Uses <span class="hljs-doctag">@DirtiesContext</span> to refresh the Spring context after each test method
 * - Allows real database commits to test constraint violations (e.g., duplicate SKU)
 * 
 * Alternative approaches considered:
 * - <span class="hljs-doctag">@Transactional</span> + <span class="hljs-doctag">@Rollback</span>(false): Caused Hibernate session conflicts
 * - This ensures complete test isolation when testing database constraints
 * - <span class="hljs-doctag">@BeforeEach</span> clears the database before each test for clean state
 * - Manual cleanup only: Less robust isolation between tests
 */</span>
<span class="hljs-meta">@SpringBootTest</span>
<span class="hljs-meta">@dataclass</span>
cp arc_coordination.db arc_coordination_backup_$(date +%Y%m%d_%H%M%S).db

# Development installation with Docker
â”‚   â”œâ”€â”€ ephemeral.py           # File-based caching
â”‚  â”‚   RLM       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  LMHandler           â”‚ â”‚
<span class="hljs-number">2.</span> Modify `data.yaml` <span class="hljs-keyword">for</span> your project.

### Convoys ğŸšš

The site is shown as a local Anvil blockchain with proposals like:

-   <span class="hljs-string">&quot;Table `u_alice__exp_results` has no description. Suggested: &#x27;Experimental results from genome analysis pipeline, containing quality metrics and annotation scores for E. coli K-12 samples.&#x27;&quot;</span>
-   <span class="hljs-string">&quot;Table `kbase_old_dump_2024` does not follow naming conventions.&quot;</span>
-   <span class="hljs-string">&quot;Table `u_bob__test3` not modified in 180 days.&quot;</span>

Algorithm: Would need custom code <span class="hljs-keyword">for</span> one click
â”‚   â”œâ”€â”€ Merchant/     # Merchant-specific controllers
<span class="hljs-number">2.</span> **Batch Testing**: Run multiple scenarios automatically
â”œâ”€â”€ tasks/
â”œâ”€â”€ llm/
â”‚   â”‚   â””â”€â”€ homepage/              # Homepage-specific components
<span class="hljs-type">const</span> <span class="hljs-variable">imageData</span> <span class="hljs-operator">=</span> await <span class="hljs-title function_">readTagsBatch</span><span class="hljs-params">(localFiles, {
  shards: <span class="hljs-number">100</span>,  // More shards = higher throughput
})</span>;

<span class="hljs-comment">// MEMORY CONSTRAINED: Lower concurrency (2-4)</span>
<span class="hljs-number">2.</span> Enter price and payee
<span class="hljs-number">3.</span> **Consistent API**: Same <span class="hljs-keyword">interface</span> <span class="hljs-title class_">across</span> all <span class="hljs-title function_">apps</span> <span class="hljs-params">(admin, merchant, user)</span>
npx convex env set STRIPE_SECRET_KEY sk_test_...

# Production environment
<span class="hljs-number">3.</span> Add user Q&amp;A <span class="hljs-keyword">interface</span>
<span class="hljs-title class_">def</span> __init__(self):
    def <span class="hljs-title function_">__init__</span><span class="hljs-params">(self, llm)</span>:
        self.llm = llm

    Returns payment-required message
    <span class="hljs-string">&quot;&quot;&quot;
    if not self.payment_service:
        st.info(f&quot;[{log[&#x27;agent&#x27;]}] {log[&#x27;action&#x27;]} - {log[&#x27;reasoning&#x27;]}&quot;)

    # Performance charts
    obj = Day(2024, 1, 15)

    # 2. Skill Compilation
    Town --&gt; Rig1[Rig: Project A]
    orderbook: Dict

    # Run in Docker QEMU (BLOCKED - need espressif/idf image)
    return response.text</span>
</code></pre><h3 id="security-checklist">Security Checklist</h3>
<pre><code class="hljs language-typescript">â”œâ”€â”€ utils/                       # <span class="hljs-title class_">Helper</span> utilities
<span class="hljs-number">6.</span> <span class="hljs-title class_">Provide</span> mandate <span class="hljs-variable constant_">ID</span>
â”‚     â†“                                                    â”‚
npx convex run myFunction <span class="hljs-string">&#x27;{&quot;arg1&quot;: &quot;value&quot;}&#x27;</span>

# <span class="hljs-title class_">Run</span> <span class="hljs-keyword">with</span> watch <span class="hljs-title function_">mode</span> (re-run on <span class="hljs-keyword">function</span> changes)
<span class="hljs-number">1.</span> â¬œ <span class="hljs-title class_">Create</span> <span class="hljs-title class_">Settlement</span> <span class="hljs-title class_">Agent</span> (<span class="hljs-number">2</span>-<span class="hljs-number">3</span> hours)
<span class="hljs-keyword">const</span> audioFile1 = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCoverArt</span>(<span class="hljs-string">&quot;song.mp3&quot;</span>);
<span class="hljs-keyword">const</span> bufferWithArt = <span class="hljs-keyword">await</span> mm.<span class="hljs-title function_">parseFile</span>(<span class="hljs-string">&quot;file.mp3&quot;</span>);

<span class="hljs-comment">// From buffer (all environments)</span>
<span class="hljs-comment">// OGG container â†’ Vorbis, Opus, FLAC, or Speex</span>
<span class="hljs-comment">// admin/side-bar.js - Menus automatically filtered by permissions</span>
{
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Display Name&#x27;</span>,           <span class="hljs-comment">// REQUIRED: Translated display name</span>
    <span class="hljs-attr">notification</span>: <span class="hljs-string">&#x27;notification_key&#x27;</span>, <span class="hljs-comment">// OPTIONAL: Notification badge key</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">AgentResult</span>(
        tx_hash,
        <span class="hljs-attr">service_id</span>: int = <span class="hljs-number">1</span>,
        chain_id=<span class="hljs-variable constant_">TEST_CHAIN_ID</span>
    )

    payment_request = service.<span class="hljs-title function_">create_payment_request</span>(
        model=<span class="hljs-string">&quot;claude-sonnet-4-5-20250929&quot;</span>,
        route_after_risk,
        {
            <span class="hljs-string">&quot;acceptable&quot;</span>: <span class="hljs-string">&quot;fraud_check&quot;</span>,
            <span class="hljs-string">&quot;properties&quot;</span>: {
                <span class="hljs-string">&quot;amount&quot;</span>: <span class="hljs-title function_">str</span>(amount_wei),
                <span class="hljs-string">&quot;currency&quot;</span>: <span class="hljs-string">&quot;ETH&quot;</span>,
                <span class="hljs-string">&quot;chain_id&quot;</span>: self.<span class="hljs-property">chain_id</span>,
                <span class="hljs-string">&quot;service_id&quot;</span>: service_id,
                <span class="hljs-string">&quot;recipient&quot;</span>: self.<span class="hljs-property">address</span>,
                <span class="hljs-string">&quot;metadata&quot;</span>: metadata or {}
            },
            <span class="hljs-string">&quot;merchant&quot;</span>: {
                <span class="hljs-string">&quot;match_id&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
                <span class="hljs-string">&quot;ask_price&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
                <span class="hljs-string">&quot;ask_intent_id&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
                <span class="hljs-string">&quot;match_price&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>}
            },
            <span class="hljs-string">&quot;required&quot;</span>: [<span class="hljs-string">&quot;asset&quot;</span>]
        }
    },
    {
        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;estimate_fair_value&quot;</span>,
        <span class="hljs-string">&quot;ecs:DescribeClusters&quot;</span>,
        <span class="hljs-string">&quot;options&quot;</span>: {
          <span class="hljs-string">&quot;awslogs-group&quot;</span>: <span class="hljs-string">&quot;/ecs/traefik&quot;</span>,
          <span class="hljs-string">&quot;awslogs-stream-prefix&quot;</span>: <span class="hljs-string">&quot;traefik&quot;</span>
        }
      }
    }
  ],
  <span class="hljs-string">&quot;volumes&quot;</span>: [
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;traefik/whoami:latest&quot;</span>,
      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;traefik:v3.0&quot;</span>,
      <span class="hljs-string">&quot;image&quot;</span>: <span class="hljs-string">&quot;traefik/whoami:latest&quot;</span>,
      <span class="hljs-string">&quot;Principal&quot;</span>: {
        <span class="hljs-string">&quot;logDriver&quot;</span>: <span class="hljs-string">&quot;awslogs&quot;</span>,
        <span class="hljs-string">&quot;input_schema&quot;</span>: {
            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;object&quot;</span>,
            <span class="hljs-string">&quot;properties&quot;</span>: {
                <span class="hljs-string">&quot;asset&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>}
            },
            <span class="hljs-string">&quot;required&quot;</span>: [<span class="hljs-string">&quot;asset&quot;</span>]
        }
    },
    {
        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;settle_match&quot;</span>,
        <span class="hljs-string">&quot;input_schema&quot;</span>: {
            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;object&quot;</span>,
            <span class="hljs-string">&quot;version&quot;</span>: <span class="hljs-string">&quot;0.1&quot;</span>,
            <span class="hljs-string">&quot;properties&quot;</span>: {
                <span class="hljs-string">&quot;asset&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
                <span class="hljs-string">&quot;match_price&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
                <span class="hljs-string">&quot;market_context&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
                <span class="hljs-string">&quot;payment_proof&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
                <span class="hljs-string">&quot;market_context&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>},
                <span class="hljs-string">&quot;days&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;number&quot;</span>}
            }
        }
    },
    {
        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;get_actor_history&quot;</span>,
        <span class="hljs-string">&quot;input_schema&quot;</span>: {
            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;object&quot;</span>,
            <span class="hljs-string">&quot;version&quot;</span>: <span class="hljs-string">&quot;0.1&quot;</span>,
            <span class="hljs-string">&quot;properties&quot;</span>: {
                <span class="hljs-string">&quot;address&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>}
            },
            <span class="hljs-string">&quot;required&quot;</span>: [<span class="hljs-string">&quot;match_id&quot;</span>, <span class="hljs-string">&quot;amount&quot;</span>]
        }
    },
    {
        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;fund_escrow&quot;</span>,
        <span class="hljs-string">&quot;ssm:DescribeInstanceInformation&quot;</span>
      ],
      <span class="hljs-string">&quot;mountPoints&quot;</span>: [
        {
          <span class="hljs-string">&quot;sourceVolume&quot;</span>: <span class="hljs-string">&quot;letsencrypt&quot;</span>,
          <span class="hljs-string">&quot;awslogs-stream-prefix&quot;</span>: <span class="hljs-string">&quot;traefik&quot;</span>
        }
      }
    }
  ],
  <span class="hljs-string">&quot;volumes&quot;</span>: [
    {
      <span class="hljs-string">&quot;Effect&quot;</span>: <span class="hljs-string">&quot;Allow&quot;</span>,
      <span class="hljs-string">&quot;workflow&quot;</span>: <span class="hljs-string">&quot;intent_settlement&quot;</span>
    }
  },
  <span class="hljs-string">&quot;merchant&quot;</span>: {
    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Arc Settlement Agent&quot;</span>,
    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Client Agent&quot;</span>
  },
  <span class="hljs-string">&quot;signature&quot;</span>: <span class="hljs-string">&quot;0x...&quot;</span>  <span class="hljs-comment">// Signed by client&#x27;s private key</span>
}
</code></pre><h3 id="payment-completed">Payment Completed</h3>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// In your React component</span>
<span class="hljs-number">3.</span> **<span class="hljs-title class_">Transaction</span> <span class="hljs-title class_">Verification</span>**: <span class="hljs-title class_">On</span>-chain confirmation required
<span class="hljs-number">2.</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">for</span> payment execution
<span class="hljs-number">5.</span> **<span class="hljs-title class_">File</span> <span class="hljs-title class_">Converters</span>** (<span class="hljs-string">`file-converter-*`</span>): <span class="hljs-title class_">Image</span> processing <span class="hljs-title function_">utilities</span> (resize, transcode, watermark)
<span class="hljs-number">1.</span> **useAutoForm** composable <span class="hljs-keyword">for</span> state management
<span class="hljs-number">3.</span> <span class="hljs-title class_">Returns</span> payment-required <span class="hljs-title function_">message</span> (<span class="hljs-number">0.01</span> <span class="hljs-variable constant_">ETH</span>)
         â†“
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ tables.<span class="hljs-property">hbs</span>
<span class="hljs-keyword">const</span> model = <span class="hljs-title function_">ref</span>({
    <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;Operation completed successfully&#x27;</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;admin.management.admin.create&#x27;</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/pages/management/admin/form-page.vue&#x27;</span>)
}
</code></pre><pre><code class="hljs language-vue">&lt;!-- list-page.vue - Dedicated form route --&gt;
&lt;script setup&gt;
// âœ… CORRECT: Use domain enums for select dropdowns
source venv/bin/activate
5. **Test on testnet** - Run full test suite on public APIs and log messages actionable.

## Security &amp; Configuration Tips

- Use &quot;start server&quot; command to run the development server using `./watch.sh` in a detached screen session
- Tool calls integrated with LLM requests
- Create monitoring dashboards

**Ready to start Phase 1?** Let&#x27;s build the fast, reliable matching engine first!
5. Explore the task
Gmail integration_test.py             âœ… 470 lines
const buffer = audioFile.save();

const existingModel = ref(null);
const withoutCoverArt = result.results.filter((r) =&gt; !r.data.hasCoverArt);

console.log(`\nNormalization stats:`);
console.log(`- With cover art: ${withoutCoverArt.length} files`);
console.log(`- Sound Check: ${withSoundCheck.length} files`);
console.log(`- Sound Check: ${withSoundCheck.length} files`);
console.log(`Average bitrate: ${album.averageBitrate} kbps`);
console.log(`Average bitrate: ${album.averageBitrate} kbps`);
console.log(`- No normalization: ${filesNeedingNormalization.length} files`);
console.log(`Complete cover art: ${album.hasCompleteCoverArt}`);
</code></pre><h3 id="recipe-batch-rename-files-based-on-metadata">Recipe: Batch Rename Files Based on Metadata</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { agent, tool } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./_generated/server&quot;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TagLib</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@convex-dev/rate-limiter&quot;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> chatWithLimit = <span class="hljs-title function_">action</span>({
  <span class="hljs-attr">handler</span>: <span class="hljs-title function_">async</span> (ctx) =&gt; {
    <span class="hljs-comment">// Save file metadata to database</span>
    <span class="hljs-attr">hnsw_ef_construction</span>: <span class="hljs-number">64</span>
    <span class="hljs-attr">paragraph_separator</span>: <span class="hljs-string">&quot;\n\n\n&quot;</span>

  # <span class="hljs-title class_">Query</span> fusion <span class="hljs-keyword">for</span> hybrid <span class="hljs-title function_">search</span> (optional)
  â†“
<span class="hljs-keyword">const</span> taglib = <span class="hljs-keyword">await</span> <span class="hljs-title class_">TagLib</span>.<span class="hljs-title function_">initialize</span>();
app.<span class="hljs-title function_">use</span>(rateLimiter, { <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;agent&quot;</span> });
app.<span class="hljs-title function_">use</span>(rateLimit, { <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;agent&quot;</span> });
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> app;
</code></pre><p><strong>Technical Explanation:</strong></p>
<ul>
<li><code>npx convex dev</code> â†’ Creates/uses <strong>dev deployment</strong></li>
<li><code>npx convex deploy --prod</code> â†’ Deploys to <strong>production</strong></li>
</ul>
<p><strong>Just add API keys and Solutions:</strong></p>
<table>
<thead>
<tr>
<th>Constraint</th>
<th>Reason</th>
</tr>
</thead>
<tbody><tr>
<td>No <code>ctx.auth</code></td>
<td>Authentication happens in app, not component</td>
</tr>
<tr>
<td>No Verification</td>
<td>95%</td>
</tr>
<tr>
<td>Stale blocks all</td>
<td>Staleness &gt; threshold + any enrichment proposal</td>
</tr>
</tbody></table>
<h3 id="what-gets-cut">What Gets Cut</h3>
<p><a href="https://knossos.benchristel.com//dauglyon/d81a96b812b3298f8d862005387b9a0c#architecture-decisions"></a></p>
<h3 id="1-ai-dependencies">1. AI Dependencies</h3>
<ul>
<li><input checked="" disabled="" type="checkbox"> Conditional routing working</li>
<li><a href="https://knossos.benchristel.com//">HwaNan Payment Adapter</a></li>
</ul>
            </article>
        </main>
        <footer>
            <nav>
                <ul>
                    <li><a href="201.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="211.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </footer>
    </body>
</html>
