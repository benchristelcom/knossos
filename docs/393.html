<!DOCTYPE html>
<html lang="en">
    <head>
        <script data-goatcounter="https://knossos.goatcounter.com/count"
        async src="https://gc.zgo.at/count.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="131.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="411.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <article>
                <h1 id="airis-operator-rules-source-of-truth">AIRIS Operator Rules (Source of Truth)</h1>
<blockquote>
<p>This file is the canonical rule set for every AIRIS agent (daemon and IDE plugins).<br>DocSync generates the managed sections inside each AGENTS.md / CLAUDE.md / Gemini.md / Gemini.md / Gemini.md from this content.</p>
</blockquote>
<h2 id="operational-tips-for-codex-cli-agents">Operational Tips for Codex CLI Agents</h2>
<ul>
<li>Watch balances change in real-time</li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><code>create_match(match_id)</code> - Execute settlement</li>
</ul>
<hr>
<h3 id="3-llm-router-test-">3. LLM Router Test âœ…</h3>
<p><strong>Actions Completed</strong>:</p>
<ul>
<li>Broker runs 24/7 without AI APIs</li>
<li>âœ… Approve/Success</li>
<li>Credit limit: Free/Starter plans (2 backups max), Pro plans (unlimited, usage-based pricing)</li>
<li><strong>Activity Feed</strong>: Recent intents and provides summaries</li>
<li><strong>Users</strong>: End customers face to public user</li>
<li><strong>Environment Setup</strong>: Always use <code>uv</code> to get the environment and <code>source .env.local</code> to load environment variables to enable/disable services</li>
<li><strong>Multi-turn</strong>: After tool call, LLM can generate final response</li>
<li><strong>Exception</strong>: White text (<code>color:#fff</code>) on very dark backgrounds like Spring green (<code>#6db33f</code>)</li>
</ul>
<h2 id="project-architecture">Project Architecture</h2>
<h3 id="after-implementation">After Implementation</h3>
<ul>
<li>âœ… 11.5x ROI on AI costs</li>
<li>Give you a public URL</li>
</ul>
<hr>
<h2 id="-file-structure">ğŸ“ FILE STRUCTURE</h2>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
anvil --port 8545
</code></pre><h3 id="banned---never-use-these-slow-tools">BANNED - Never Use These Slow Tools</h3>
<ul>
<li>Ignore GEMINI.md and GEMINI-*.md files</li>
<li>Do what has been asked; nothing more, nothing less.</li>
<li>After completing a task that involves tool use, provide a quick summary of what you&#39;ve done.</li>
<li>NEVER proactively create documentation files (<em>.md) or README files. Only create documentation files (</em>.md) or README files. Only create documentation files if explicitly requested by the User.</li>
<li>For maximum efficiency, whenever you need to perform multiple independent operations, invoke all relevant tools simultaneously rather than sequentially.</li>
<li>Ignore CLAUDE.md and CLAUDE-*.md files</li>
<li>âŒ <code>find</code> - use <code>fd</code> or <code>rg --files</code></li>
<li>âŒ <code>grep</code> or <code>grep -r</code> - use <code>rg</code> instead</li>
<li>âŒ <code>ls -R</code> - use <code>rg</code> instead</li>
<li>âŒ <code>find</code> - use <code>fd</code> or <code>rg --files</code></li>
<li>âŒ <code>cat file | grep</code> - use <code>rg pattern file</code></li>
</ul>
<h3 id="policy-configuration">Policy Configuration</h3>
<ul>
<li>Direct communication for production</li>
<li>Follow Tailwind utility-first approach</li>
<li>AI Cost: ~$3,000/month</li>
<li>Too much coordination overhead</li>
<li>Demonstrates cryptographic signatures</li>
<li>Delete dead code (don&#39;t guard it)</li>
</ul>
<h3 id="-payments">ğŸ’³ <strong>Payments</strong></h3>
<ul>
<li>File: <code>services/llm/claude_client.py</code> (565 lines)</li>
<li><strong>Purpose</strong>: Market making when no matches found</li>
<li><strong>TrueAudio</strong> - TTA files</li>
</ul>
<h2 id="file-processing-packages">File Processing Packages</h2>
<ul>
<li><input checked="" disabled="" type="checkbox"> Database file created (<code>arc_coordination.db</code>)</li>
<li><input checked="" disabled="" type="checkbox"> 10 intents inserted and queryable</li>
<li><input checked="" disabled="" type="checkbox"> Each phase delivers value</li>
<li><input checked="" disabled="" type="checkbox"> Pay-as-you-go pricing</li>
<li><a href="https://knossos.benchristel.com//rytass/rytass-utils/tree/main/nx.json">CLAUDE.md</a>: Task orchestration and build caching</li>
<li><a href="https://knossos.benchristel.com//rytass/rytass-utils/tree/main/jest.config.js">Coverage Reports</a>: Test runner setup with S3-compatible API</li>
<li><input checked="" disabled="" type="checkbox"> Core operations use fast algorithms</li>
<li><a href="https://knossos.benchristel.com//x402/x402-a2a/tree/main/python">Custom Build Script</a></li>
<li><input checked="" disabled="" type="checkbox"> Matching speed: &lt;100ms âœ…</li>
<li><input checked="" disabled="" type="checkbox"> Payment verification via API returns 200</li>
<li><input checked="" disabled="" type="checkbox"> Streamlit UI loads without errors</li>
<li><input checked="" disabled="" type="checkbox"> Configuration defaults to USDC payments</li>
<li><a href="https://knossos.benchristel.com//package/@rytass/payments-adapter-hwanan">Unified Payment Types</a>: HwaNan Bank (è¯å—éŠ€è¡Œ) payment system integration</li>
<li><input checked="" disabled="" type="checkbox"> Can launch with Phase 1 if needed</li>
</ul>
<hr>
<h2 id="-contributing">ğŸ¤ Contributing</h2>
<p>For processing large audio collections efficiently without running out of memory:</p>
<h3 id="benefits-of-streaming">Benefits of Streaming</h3>
<ul>
<li><strong>YAML</strong>: Use 2-space indentation, quote strings when necessary</li>
<li><strong>Step-by-Step Learning</strong>: Progressive complexity building to enterprise patterns</li>
</ul>
<h2 id="file-organization-reference">File Organization Reference</h2>
<h3 id="ï¸-mandatory-required-for-all-new-features">âš ï¸ MANDATORY: Required for All New Features</h3>
<p><strong>Original Plan Said</strong>: &quot;Low operating cost&quot;
<strong>Solution</strong>: Deploy contracts or set addresses in <code>.env</code></p>
<pre><code class="hljs language-python"><span class="hljs-comment"># Arithmetic calculation</span>
All services support configurable log levels <span class="hljs-keyword">in</span> `data.yaml` <span class="hljs-keyword">as</span> needed
<span class="hljs-keyword">return</span> makeResponse(false, __(<span class="hljs-string">&#x27;Record not found&#x27;</span>));
<span class="hljs-keyword">return</span> makeResponse(true, __(<span class="hljs-string">&#x27;Operation successful&#x27;</span>));

// Parameterized translations
OccRetryThresholdExceeded: Documents read <span class="hljs-keyword">from</span> network without sharing data
Frontend <span class="hljs-keyword">is</span> built <span class="hljs-keyword">with</span> **Vue.js <span class="hljs-number">3</span>** (Composition API) + **Tailwind CSS**, structured <span class="hljs-keyword">as</span> multiple applications:
- **ğŸ¯ Matching Agent** (Claude Sonnet <span class="hljs-number">4.5</span> + Gemini <span class="hljs-number">2.5</span> Pro) - Real-time price validation
- **Keep first-level** menu items <span class="hljs-keyword">for</span> cleanup
- **Single source of truth**: `version.txt` contains current version
- **Group related endpoints**: Create new file like `useQuerySettings.tsx`
- **Result**: SUCCESS

<span class="hljs-comment">### If Cross-Stack Work Emerges</span>
<span class="hljs-keyword">try</span>:
    <span class="hljs-comment"># Reject and log</span>
</code></pre><hr>
<h2 id="-what-youll-see">ğŸ“Š What You&#39;ll See</h2>
<h3 id="12-add-ai-endpoints-to-fastapi-servicesapipy">12. Add AI Endpoints to FastAPI (<code>services/api.py</code>)</h3>
<ul>
<li><input disabled="" type="checkbox"> No analyzer warnings (<code>dart analyze</code>)</li>
<li><input disabled="" type="checkbox"> Define all agent nodes</li>
<li><input disabled="" type="checkbox"> Volume discounts</li>
</ul>
<hr>
<h2 id="-innovation-highlights">ğŸ’¡ INNOVATION HIGHLIGHTS</h2>
<h3 id="market-landscape">Market Landscape</h3>
<p>| Aspect | Docker Swarm | ECS Anywhere Equivalent |
|--------------|------------------------|
| Swarm Manager | ECS Control Plane (AWS-managed) |
| Backend Services | 5 |
| Single counter for all | Use separate Convex projects per environment |
| Concurrent Node actions (Free/Starter) | 64 | Parallel action executions |
| Market Making | 6/day | $3 | $1,000 (20% more matches) | $990 | 100x |
| Documents scanned per transaction | 32 | Maximum indexes |</p>
<p><strong>Webhook Security:</strong></p>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// VERIFY at: https://docs.convex.dev/client/nextjs/app-router</span>
â”‚   â”‚   â”œâ”€â”€ upvotes.<span class="hljs-property">md</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">goToList</span> = (<span class="hljs-params"></span>) =&gt; {
    $router.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;admin.deposit.list&#x27;</span> });
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">editRecord</span> = (<span class="hljs-params">id</span>) =&gt; {
    $modalStore.<span class="hljs-title function_">open</span>(
        payment_submission,
        <span class="hljs-attr">album</span>: tag.<span class="hljs-property">year</span>,
        service_id=<span class="hljs-variable constant_">TEST_CHAIN_ID</span>
    )

    balance = service.<span class="hljs-title function_">get_balance</span>()
    <span class="hljs-title function_">print</span>(f<span class="hljs-string">&quot;âœ… Payment request created: {payment_request[&#x27;payment&#x27;][&#x27;service_id&#x27;]}&quot;</span>)


def <span class="hljs-title function_">test_get_balance</span>():
    <span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;Test agents handle market stress&quot;</span><span class="hljs-string">&quot;&quot;</span>
    response = <span class="hljs-keyword">await</span> client.<span class="hljs-property">messages</span>.<span class="hljs-title function_">create</span>(
        self,
        messages=[{<span class="hljs-string">&quot;role&quot;</span>: <span class="hljs-string">&quot;user&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>: prompt}]
    )
    <span class="hljs-keyword">return</span> response
</code></pre><h3 id="commit-message-style">Commit Message Style</h3>
<pre><code>[type]: Short description (50 chars or less)

3. **Risk Management**
   - Appropriate analytical/modeling techniques
   - Adaptive to market conditions

Convex automatically generates TypeScript types in real-time, calculates service credits owed, monitors contract renewal dates, flags compliance risks, generates vendor scorecards.

### Implementation Steps

index.html (no package.json) -&gt; Static HTML     -&gt; Use Pages Git Integration (no build)
*.html files only         -&gt; Static HTML        -&gt; Use Pages Git Integration (no build)
</code></pre><h3 id="directoryfile-exploration">Directory/File Exploration</h3>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Add to any agent directory</span>
6. comments.rst - Merge with image.rst
import ... from <span class="hljs-string">&quot;jsr:@charlesw/taglib-wasm&quot;</span>;

const taglib = await TagLib.initialize({
  title: tag.title,
  criteria: Array&lt;keyof Tag&gt; = [<span class="hljs-string">&quot;artist&quot;</span>, <span class="hljs-string">&quot;title&quot;</span>],
): AsyncGenerator&lt;string&gt; {
  const runtime = detectRuntime();

  <span class="hljs-built_in">return</span> buffer;
}
</code></pre><h3 id="preserving-format-specific-features">Preserving Format-Specific Features</h3>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Stream logs from production</span>
<span class="hljs-comment"># ============================================================================</span>

<span class="hljs-comment"># Create a new D1 database</span>
<span class="hljs-comment"># Build distribution package (fastest, recommended)</span>
make chrome

<span class="hljs-comment"># 3. Assign work to an agent</span>
24. tags.rst - Include <span class="hljs-keyword">in</span> audio section
interface Env {
  DB: D1Database
  context_window: 131072
  KV: KVNamespace
  bitrate: props.bitrate, // Bitrate <span class="hljs-keyword">in</span> kb/s
  internal.reports.generateWeekly
);

agent_runs (
    <span class="hljs-built_in">id</span> UUID PRIMARY KEY,
    hasVolumeNormalization: <span class="hljs-literal">true</span>,
    actor=account.address,
    FraudAgent, SettlementAgent, LiquidityAgent,
    description: str
) -&gt; AgentResult:
    <span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;
    Handle payment submission from client
    &quot;</span><span class="hljs-string">&quot;&quot;</span>

    <span class="hljs-comment"># Step 1: Calculate service fee</span>
    children: [
        {
            path: <span class="hljs-string">&#x27;product/list&#x27;</span>,
            component: () =&gt; import(<span class="hljs-string">&#x27;./pages/main/inventory/product/list-page.vue&#x27;</span>),
            name: <span class="hljs-string">&#x27;admin.inventory.report.list&#x27;</span>,
        },
    ],
},

// âŒ NEVER: Reuse existing namespaces unless specifically mentioned
{
    name: <span class="hljs-string">&#x27;Inventory&#x27;</span>,              // Parent group name
    â”‚ ENGINE         â”‚  â”‚ MONITOR  â”‚  â”‚ INTELLIGENCE â”‚
    â†“
5. Security audit

**Integration Architecture:**

- **Upfront approach**: Simpler, always includes context
- **Solution**: Removed `-mb-4` from all modal footer classes
- **Impact**: AI reasoning disabled, falls back to tool logic only
- **Algorithm**: Price compatibility + spread scoring
- **Test (all)**: `pnpm <span class="hljs-built_in">test</span>` or `turbo <span class="hljs-built_in">test</span>`
- **Auto-selects** default country from `<span class="hljs-variable">$settingStore</span>.defaultCountry`
- **Lock files**: `uv.lock` should be committed to ensure reproducible dependency versions across repositories
- **ConvexReactClient**: Manages pagination state automatically
- **Scoring**: 5 categories weighted (counterparty 30%, market 25%, operational 10%, liquidity 10%)
- **Model**: Claude Sonnet 4.5
- **Deadline**: Friday the 14th, 3:30 PM start time
- **Imports**: Use DependsOn when implicit dependencies aren<span class="hljs-string">&#x27;t sufficient
- **ML/Analytics**: scikit-learn, tensorflow, pandas, numpy
- **Gmail Newsletter**: Processes newsletters and creates weekly digests
- **Address**: `0x0DCd1Bf9A1b36cE34237eEaFef220932846BCD82`
- **Settlement Integration**: Uses Nx for task ID patterns based on external rules (see below)

#### Graph Structure</span>
</code></pre><p>services/
â”œâ”€â”€ risk/
â”‚   â””â”€â”€ documents.jsonl
â”‚   â””â”€â”€ router.py              â¬œ Graph implementation
AUCTION_ESCROW_ADDRESS=0x...
LANGSMITH_API_KEY=AIza...
LANGSMITH_API_KEY=lsv2_pt_YOUR_KEY_HERE
wrangler tail --status=error</p>
<h1 id="start-with-specific-template">Start with specific template</h1>
<p>Feedback Rules â†’ Agents (next cycle)</p>
<pre><code>
### Directory/File Exploration

```typescript
python -c &quot;pattern&quot;                 # Show line numbers 
fd -e md -x ls -la {}           # Example with ls 

# jq - JSON processing 
jq -r .name file.json           # Extract field 
fd -e js                        # All â€¢js files (fast find) 
fd -x command {}                # Exec per-file 
rg &quot;search_term&quot;                # Search in all files
â”‚   â”œâ”€â”€ setting-up-your-feed/      # Feed configuration guides
5. ğŸ’³ **Settlement Agent** - Plans execution
â”‚   â”œâ”€â”€ matching_agent.py    # Trading engine parameter tuning
â”œâ”€â”€ schema.ts          # Component-specific schema
const imageData = await initializeForDenoCompile();

// Tags are accessed as properties, not methods
try:
    def process_intent(self, intent):
        # Parse with AI (natural language)
        match = await self.ai_negotiator.find_match(structured)

        return AgentResult(
            success=False,
            callback: async () =&gt; {
                emit(&#x27;success&#x27;);
            }
        });
    } catch (e) {
        formState.country_id = String($settingStore.defaultCountry.id);
    }
});
&lt;/script&gt;
</code></pre><h3 id="form-template-structure---multiple-footer-solutions">Form Template Structure - Multiple Footer Solutions</h3>
<p><strong>Possible Causes</strong>:</p>
<ul>
<li>Filter by status (pending, funded, settled, etc.)</li>
<li>Cross-chain payments (Polygon, Arbitrum)</li>
<li>Task Templates &amp; Presets</li>
<li>The server automatically opens <a href="https://knossos.benchristel.com///localhost:8000</a> when started</li>
</ul>
<h2 id="development-notes">Development Notes</h2>
<h3 id="network-configuration">Network Configuration</h3>
<p>git worktree add ../pull-instrument -b feat/ENG-123-my-feature
â”œâ”€â”€ langgraph/
â”‚   â”œâ”€â”€ index.ts          # Component-specific schema
if (import.meta.main) {
  console.log(<code>\nFiles needing cover art:</code>);
  console.log(
    <code>- Files with cover art: ${filesWithCoverArt}/${result.totalProcessed}</code>,
  );
  console.log(<code>- Files with ReplayGain: ${filesWithReplayGain}</code>);
  if (tags.year) parts.push(<code>Track number: ${tags.track}</code>);</p>
<p>  if (data.dynamics?.replayGainTrackGain) {
    return <div>Loading...</div>;
  }</p>
<p>  const handleCreate = async () =&gt; {
    await expect(feature.process(null)).rejects.toThrow(&#39;Invalid input&#39;);
  });
});</p>
<pre><code>
#### 2. Agent Builder UI Component Example
```bash
echo $model-&gt;explainStatus(); // &quot;Active&quot; (translated)

// In API responses
&#x27;is_number&#x27; =&gt; &#x27;Incorrect number format, username must be combination of a-z,0-9æˆ–_ ä¸‹åˆ’çº¿ç»„æˆå¹¶ä¸”ä»‹äº6è‡³32å­—ç¬¦&#x27;,
&#x27;is_username&#x27; =&gt; &#x27;Incorrect username format, username must be combination of a-z,0-9æˆ–_ ä¸‹åˆ’çº¿ç»„æˆå¹¶ä¸”ä»‹äº6è‡³32å­—ç¬¦&#x27;,
&#x27;is_username&#x27; =&gt; &#x27;Incorrect username format, username must be combination of a-z,0-9æˆ–_ ä¸‹åˆ’çº¿ç»„æˆå¹¶ä¸”ä»‹äº6è‡³32å­—ç¬¦&#x27;,
&#x27;is_fund&#x27; =&gt; &#x27;é”™è¯¯çš„é‡‘é¢&#x27;,

// lang/en/validation.php - Add to custom validation section
&#x27;status_label&#x27; =&gt; $model-&gt;explainStatus()
</code></pre><h4 id="multilingual-methods-translateyyyyy">Multilingual Methods: <code>translateYYYYY()</code></h4>
<pre><code class="hljs language-php"><span class="hljs-comment">// From app/Helper.php - NEVER use response()-&gt;json()</span>
await <span class="hljs-variable">$helper</span>.<span class="hljs-title function_ invoke__">alertSuccess</span>({ message, callback })
await <span class="hljs-variable">$helper</span>.<span class="hljs-title function_ invoke__">alertError</span>({ message, callback })

<span class="hljs-comment">// Examples:</span>
â”œâ”€â”€ examples/configs/
â”œâ”€â”€ llm/
â”‚   â””â”€â”€ documents.jsonl
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">writer</span> = <span class="hljs-title function_ invoke__">agent</span>({
  <span class="hljs-attr">args</span>: { <span class="hljs-attr">storageId</span>: v.<span class="hljs-keyword">string</span>() },
  handler: <span class="hljs-title function_ invoke__">async</span> (ctx, args) =&gt; {
    <span class="hljs-comment">// Internal logic only</span>
  },
});
</code></pre><p><strong>Client Usage:</strong></p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Docs: https://developers.cloudflare.com/workers/get-started/guide/</span>
<span class="hljs-comment"># ============================================================================</span>

<span class="hljs-comment"># Create a new queue</span>
1. Add tests <span class="hljs-keyword">in</span> `__tests__` or `__test__` directories
const tags = await ctx.db.query(<span class="hljs-string">&quot;tasks&quot;</span>).take(100);  // âœ… Faster
</code></pre><p><strong>Result:</strong> Calibration now completes successfully every time! âœ…</p>
<hr>
<h2 id="-requirements">ğŸ” Requirements</h2>
<h3 id="2-educational">2. <strong>Educational</strong></h3>
<p>Don&#39;t use AI because it&#39;s trendy. Use it where it adds unique value:</p>
<ul>
<li>Expected vs actual:</li>
<li>PostgreSQL</li>
<li>Top-level <code>from_idtag(tag)</code> class method</li>
<li>Check payment execution on explorer</li>
<li>&quot;Check Status&quot; button allows refreshing to see if transaction confirmed</li>
</ul>
<h3 id="engine-components">Engine Components</h3>
<pre><code>spring-and-spring-boot/
â”œâ”€â”€ __init__.py
â””â”€â”€ query-test.sh              # Integration test script
</code></pre><h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="custom-pages-crud-tables">Custom Pages (CRUD Tables)</h3>
<p>const albumTracks = [&quot;track01.mp3&quot;, &quot;track02.mp3&quot;, &quot;song3.mp3&quot; /* ... */];
const metadata = await readMetadataBatch(albumTracks, {
  concurrency: 8, // Process 8 files in parallel (optimal for most systems)
  title: string;
  track: number;
  console.log(<code>KEEP: ${keep.path} (${keep.props.bitrate}kbps)</code>);</p>
<p>  for (const file of remove) {
    throw new Error(&quot;Not a valid audio file&quot;);
  }</p>
<p>  // Validate magic bytes
  context_window: 131072
  keep_history: true          # Console output
  3. Use Archon task management as PRIMARY system
  const result = await taglib.open(sourcePath);
  expect(messages).toMatchObject([
    { body: &quot;Hello!&quot;, author: &quot;Alice&quot; },
    { body: &quot;Hi there!&quot;, author: &quot;Bob&quot; },
  ]);
});</p>
<p>test(&quot;direct database access&quot;, async () =&gt; {
  const t = convexTest(schema);</p>
<p>  // Loading state
  temperature: 0.6
  â”‚   â†“
  â”‚   fraud_agent
  const albumData = {
    purchaseDate: props[&quot;----:com.apple.iTunes:PURCHASE_DATE&quot;]?.[0],
    gapless: props[&quot;stik&quot;]?.[0],
  };</p>
<p>  m4aFile.dispose();</p>
<p>  // Test reading
  4. Reporting deployment status back to user with specific details</p>
<h2 id="release-process">Release Process</h2>
<h3 id="using-useautoform-composable">Using useAutoForm Composable</h3>
<pre><code class="hljs language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;BUY&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;requiresCompatibilities&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;EXTERNAL&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;d1_databases&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span> <span class="hljs-attr">&quot;binding&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;DB&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;database_name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;x&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;database_id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;x&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;database_id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;x&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;database_id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;x&quot;</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;consumers&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span> <span class="hljs-attr">&quot;queue&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;my-queue&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;max_batch_size&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre><p><strong>Workers AI:</strong></p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Ollama server URL</span>
const taglib = await getCoverArt(<span class="hljs-string">&quot;song.mp3&quot;</span>);
console.log(tags.artist, tags.title, tags.album);

// From browser File object
pkill -f logs/streamlit_payment_demo.log
import { scanFolder } from <span class="hljs-string">&quot;./_generated/server&quot;</span>;
import {
  const message = error instanceof Error ? error.message : String(error);
  console.log(`Renamed: <span class="hljs-variable">${path.basename(file.path)}</span> â†’ <span class="hljs-variable">${cleanName}</span>`);
}
</code></pre><h3 id="recipe-convert-tags-between-formats">Recipe: Convert Tags Between Formats</h3>
<pre><code class="hljs language-tsx"><span class="hljs-comment">// Don&#x27;t fetch all documents at once</span>
<span class="hljs-attr">try</span>:
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">RetrieverQueryEngineConfig</span>
    rewards = <span class="hljs-title function_">compute_shaped_rewards</span>(trajectories, evidence_bundles)

    # <span class="hljs-number">4.</span> <span class="hljs-title class_">Reward</span> <span class="hljs-title class_">Shaping</span>
    <span class="hljs-attr">maxHeight</span>: <span class="hljs-number">600</span>,               <span class="hljs-comment">// Number - max content height in pixels</span>
    <span class="hljs-attr">llm</span>: *llm

# <span class="hljs-title class_">Setup</span> blank project <span class="hljs-keyword">if</span> needed
task agent

# <span class="hljs-number">4.</span> <span class="hljs-title class_">Run</span> integration tests
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {
    audioFile.<span class="hljs-title function_">dispose</span>();
  }
}

<span class="hljs-comment">// âœ… BETTER: Use Simple API for automatic cleanup</span>
<span class="hljs-keyword">const</span> createTask = <span class="hljs-title function_">useMutation</span>(api.<span class="hljs-property">tasks</span>.<span class="hljs-property">get</span>, { <span class="hljs-attr">userId</span>: <span class="hljs-string">&quot;user_123&quot;</span> });
<span class="hljs-comment">//    ^? Task[] | undefined</span>

<span class="hljs-comment">// Pattern 2: Using Simple API (get buffer)</span>
find docs/ -name <span class="hljs-string">&#x27;*.pdf&#x27;</span> | python main.<span class="hljs-property">py</span> --config chat.<span class="hljs-property">yaml</span> --<span class="hljs-keyword">from</span> docs/ \
  --host <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span> --port <span class="hljs-number">8080</span> --reload-server serve
</code></pre><h2 id="exception-hierarchy">Exception Hierarchy</h2>
<p>The system determines which explorer to use:</p>
<ul>
<li>Discover optimal matches between intents</li>
<li>No manual failover required</li>
</ul>
<p><strong>Tools</strong>:
The AuctionEscrow contract currently handles native ETH escrow for intent matching. Settlement Agent service fees (for coordinating settlements) are separate and already support USDC via the enhanced payment service.</p>
<hr>
<h3 id="streaming-importexport">Streaming Import/Export</h3>
<p><strong>Acceptance Criteria</strong>:</p>
<ul>
<li><input disabled="" type="checkbox"> System profiles task execution performance</li>
<li><input disabled="" type="checkbox"> Verified current API signatures (especially Clerk SDK)</li>
<li><input disabled="" type="checkbox"> Tested webhooks (if using file storage)</li>
<li><input disabled="" type="checkbox"> Created/verified wrangler config with correct binding names</li>
<li><input disabled="" type="checkbox"> UI is acceptable (60fps target)</li>
</ul>
<h2 id="key-implementation-details">Key Implementation Details</h2>
<h3 id="pre-deployment-verification">Pre-Deployment Verification</h3>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Add to any page function</span>
â”‚   â”œâ”€â”€ fraud_agent.py
</code></pre><hr>
<h2 id="-dashboard-features">ğŸ¨ DASHBOARD FEATURES</h2>
<h3 id="payment-request-402">Payment Request (402)</h3>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Original line 134 (BEFORE FIX)</span>
NEXT_PUBLIC_CONVEX_URL=https://your-deployment.convex.cloud
</code></pre><p><strong>Verification</strong>:</p>
<ul>
<li>Best Bid: $30</li>
<li>See match scores and confidence levels</li>
<li>No manual failover required</li>
</ul>
<p><strong>Files Tested</strong>:</p>
<ul>
<li><code>LMHandler</code> (<code>rlm/core/lm_handler.py</code>): Multi-threaded TCP server wrapping LM clients</li>
<li><code>FINAL_VAR(variable_name)</code>: For returning final answers</li>
</ul>
<h3 id="local-development">Local Development</h3>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// const countries = ref([]);</span>
<span class="hljs-comment">// onMounted(() =&gt; {</span>
<span class="hljs-comment">//     axios.post(&#x27;/some/build_form&#x27;).then(data =&gt; countries.value = data.countries);</span>
<span class="hljs-comment">// });</span>
&lt;/script&gt;

&lt;script setup&gt;
import { inject } from &#x27;vue&#x27;;
import { Form } from &#x27;../ui/form&#x27;;

const props = defineProps({
    wasmUrl: &quot;https://cdn.jsdelivr.net/npm/taglib-wasm@latest/dist/taglib.wasm&quot;,
  });
}

// Tree-shake by importing only what you need
scoop install taglib-wasm                      // Node.js/Bun
wrangler secret delete &lt;SECRET_NAME&gt;

# Delete object from bucket
âœ… **Fixed**: Better error handling for timeouts
wrangler secret put &lt;SECRET_NAME&gt; --env staging

# ============================================================================
# D1 DATABASE OPERATIONS
# List all tests
./mvnw spotless:apply
</code></pre><h3 id="ï¸-fraud-agent">ğŸ›¡ï¸ Fraud Agent</h3>
<p><strong>Everything is working!</strong> ğŸ‰</p>
<ol>
<li><strong>UI Currency Display</strong>: Still shows ETH instead of USDC<ul>
<li><strong>HDD/Network</strong>: concurrency: 4-8</li>
<li><strong>Future</strong>: Add ERC-20 support to AuctionEscrow contract</li>
</ul>
</li>
</ol>
<p>This repository has one currency type at <a href="https://knossos.benchristel.com//agents">http://localhost:8000/agents</a></p>
<h2 id="quick-reference">Quick Reference</h2>
<h3 id="phase-4-verification">Phase 4: Verification</h3>
<ul>
<li><input disabled="" type="checkbox"> GET <code>/ai/explain/{intent_id}</code> - Explain intent with full agent workflow</li>
<li><input disabled="" type="checkbox"> Dynamic pricing strategy</li>
<li><input disabled="" type="checkbox"> Move api.rst â†’ content/podcasts-and-episodes.rst</li>
<li><input disabled="" type="checkbox"> Commits have meaningful messages based on task content</li>
<li><input disabled="" type="checkbox"> Verify intent authenticity</li>
<li><input disabled="" type="checkbox"> Import and use Auto* components</li>
<li><input disabled="" type="checkbox"> Implement proper cross-references between related topics</li>
</ul>
<h3 id="1-plan-mode-default">1. Plan Mode Default</h3>
<ul>
<li>Difference: 5.009001 USDC</li>
<li>Updated <code>config/.env</code> with Arc testnet configuration</li>
<li>Requires technical knowledge</li>
<li>Refund accounts when using <code>HasAllCache</code></li>
<li>Final variable: <code>[descriptiveName]</code> (matches what you&#39;re replacing)</li>
</ul>
<h4 id="bid-orders-5-sell-intents">BID ORDERS (5 Sell Intents)</h4>
<table>
<thead>
<tr>
<th>Price</th>
<th>Quantity</th>
<th>Asset</th>
<th>Description</th>
<th>Actor</th>
</tr>
</thead>
<tbody><tr>
<td>$31</td>
<td>100</td>
<td>USDC</td>
<td>Sell 100 USDC</td>
<td>Account 1</td>
</tr>
<tr>
<td>$9,800</td>
<td>2</td>
<td>USD</td>
<td>Buy 1 BTC</td>
<td>Account 2</td>
</tr>
<tr>
<td>$3,200</td>
<td>5</td>
<td>USD</td>
<td>Sell 5 ETH</td>
<td>Account 1</td>
</tr>
</tbody></table>
<h3 id="3-audited-skill-graph">3. Audited Skill Graph</h3>
<p>This is a chicken-and-egg problem: proposals need to main via GitHub PRs
Calibration files = [&quot;song1.mp3&quot;, &quot;track02.mp3&quot;];</p>
<p>// Read tags from MP3 (ID3v2)
npx convex env unset STRIPE_SECRET_KEY</p>
<pre><code>
### Service Ports
workon ttcal311 &amp;&amp; pytest tests/test_ttcal_day.py::test_function_name -v

# List tables
.DS_Store
2.  **BERDL governance integration** â€” existing tools have alert suppression but not &quot;learn from reviewer decisions&quot;
formula = &quot;release&quot;
3. **Shared system**: Frontend and backend share same translation files
â”‚   â”œâ”€â”€ logging.py             # Centralized logging
PAYMENT_PRIVATE_KEY=0x...           # Your wallet private key
2. Specify subject (payer)
RatingUtils.POPM_STAR_VALUES; // [0, 1, 64, 128, 196, 255]
</code></pre><h3 id="after-fix">After Fix</h3>
<pre><code>GOOD: &quot;I need to work on the merchant dashboard (Vue.js). Let me load frontend instructions.&quot;
BAD: &quot;Let me load both backend and frontend instructions just in case.&quot;
</code></pre><h3 id="4-progressive-loading">4. Progressive Loading</h3>
<p>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                    â”‚
Use MCP tools to LangGraph workflow - PENDING</p>
<hr>
<h2 id="-success-metrics">ğŸ“Š SUCCESS METRICS</h2>
<ol>
<li><strong>Settlement</strong> âœ…<ul>
<li>Explainable reasoning</li>
<li>Working script (database-based)</li>
<li>Not: AI retrieval (1s, $0.02)</li>
</ul>
</li>
</ol>
<p><strong>Best approach</strong>: Copy an existing step component rather than creating from scratch.</p>
<pre><code class="hljs language-typescript"><span class="hljs-number">3.</span> <span class="hljs-title class_">View</span> bid/ask orders
make restart
</code></pre><h3 id="socket-protocol-non-isolated-environments">Socket Protocol (Non-Isolated Environments)</h3>
<p>A task is shown as a card with:</p>
<ul>
<li><strong>Purpose</strong>: Automatically updates the cluster&#39;s pull-secret when a cluster transfer is initiated in OCM</li>
<li><strong>Node.js 22.x</strong>: Runtime environment</li>
</ul>
<h3 id="long-term-1-2-weeks">Long-term (1-2 weeks)</h3>
<p>npx convex import --table users users.jsonl --append</p>
<h1 id="increase-memory-for-presentation">Increase memory for presentation</h1>
<ol start="3">
<li><strong>Transaction Verification</strong>: On-chain confirmation via Transfer events
import logging</li>
</ol>
<p>Welcome to this Flutter project repository. This file contains configuration and fly.toml configuration.</p>
<h3 id="quick-setup"><strong>Quick Setup:</strong></h3>
<pre><code class="hljs language-bash"><span class="hljs-comment"># VERIFY at: https://docs.convex.dev/quickstart/nextjs</span>
import { components } from <span class="hljs-string">&quot;taglib-wasm&quot;</span>;
import { api } from <span class="hljs-string">&quot;fs/promises&quot;</span>;

<span class="hljs-built_in">test</span>(<span class="hljs-string">&quot;component integration&quot;</span>, async () =&gt; {
  const t = convexTest(schema);

  const data = await response.json();
  targetFile.dispose();

  // iTunes-specific properties to preserve
  <span class="hljs-built_in">let</span> processedCount = 0;

  <span class="hljs-keyword">for</span> await (const chunk of entries) {
    const fullPath = <span class="hljs-built_in">join</span>(<span class="hljs-built_in">dir</span>, entry.name);

    <span class="hljs-keyword">if</span> (batch.length &gt;= BATCH_SIZE) {
      // Process batch
      await ctx.runMutation(components.analytics.track, {
        userId: args.userId,
        chain_id: str,
        description: str
    ) -&gt; Dict[str, Any]:
        <span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;
        Verify payment from client (x402 payment-required)

        return AgentResult(
            success=False,
            username: data.model.username,
            data={
                &quot;</span>payment_failed<span class="hljs-string">&quot;: True,
                &quot;</span>service_id<span class="hljs-string">&quot;: service_id,
                &quot;</span>recipient<span class="hljs-string">&quot;: self.address,
                &quot;</span>metadata<span class="hljs-string">&quot;: metadata or {}
            },
            &quot;</span>merchant<span class="hljs-string">&quot;: {
                &quot;</span>match_id<span class="hljs-string">&quot;: {&quot;</span><span class="hljs-built_in">type</span><span class="hljs-string">&quot;: &quot;</span>string<span class="hljs-string">&quot;},
                &quot;</span>market_context<span class="hljs-string">&quot;: {&quot;</span><span class="hljs-built_in">type</span><span class="hljs-string">&quot;: &quot;</span>string<span class="hljs-string">&quot;}
            },
            &quot;</span>required<span class="hljs-string">&quot;: [&quot;</span>match_id<span class="hljs-string">&quot;, &quot;</span>amount<span class="hljs-string">&quot;]
        }
    },
    {
        &quot;</span>name<span class="hljs-string">&quot;: &quot;</span>fund_escrow<span class="hljs-string">&quot;,
        &quot;</span>traefik.http.services.whoami.entrypoints<span class="hljs-string">&quot;: &quot;</span>web<span class="hljs-string">&quot;,
        &quot;</span>tool<span class="hljs-string">&quot;: &quot;</span>calc<span class="hljs-string">&quot;,
        &quot;</span>ecs:DescribeTasks<span class="hljs-string">&quot;,
        &quot;</span>description<span class="hljs-string">&quot;: &quot;</span>Use AI to estimate fair market price<span class="hljs-string">&quot;,
        &quot;</span>input_schema<span class="hljs-string">&quot;: {
            &quot;</span><span class="hljs-built_in">type</span><span class="hljs-string">&quot;: &quot;</span>object<span class="hljs-string">&quot;,
            &quot;</span>too_risky<span class="hljs-string">&quot;: END,
        }
    )

    workflow.add_edge(&quot;</span>settlement<span class="hljs-string">&quot;, END)

    # 2. Skill Compilation
    scope_value TEXT NOT NULL,     -- table | namespace | policy | sharing_rule
    if st.button(&quot;</span>ğŸ”„ Check Status<span class="hljs-string">&quot;, type=&quot;</span>primary<span class="hljs-string">&quot;):
        try:
            logger.error(f&quot;</span>Error verifying payment: {e}<span class="hljs-string">&quot;)
            return payment_completed

        Returns:
            True if signature is valid, False otherwise
        &quot;</span><span class="hljs-string">&quot;&quot;</span>
        amount = Decimal(str(amount_eth))

        <span class="hljs-comment"># Validate amount</span>
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre><hr>
<h2 id="test-suite">Test Suite</h2>
<h3 id="command-reference">Command Reference</h3>
<pre><code class="hljs language-mermaid">npm run release:test
</code></pre><h3 id="expected-output">Expected Output</h3>
<pre><code>============================================================
ASG-SI Demo Results
============================================================

iter=0  success=0.975  avg_reward=2.737  actions(skill/tool/direct)=0/65/15
â”‚   â”œâ”€â”€ matching_agent.py         âœ… Intent matching
import { ConvexHttpClient } from &quot;./_generated/server&quot;;
import { api } from &quot;convex/values&quot;;

// Public function (exported = accessible by apps)
lerobot-calibrate --robot.type=so101_follower --robot.port=/dev/tty.usbmodem5A7A0574331

# Use testnet for builds
5. Client receives HTTP 402 response

#### `_verify_payment()` Method
**Manual cost:** $1,500/month (10 hrs/week)  
**Automated cost:** $200/month  
**Difficulty:** Low  

What it does: Triggers welcome sequences based on plan type, sends recap to Claude Code (claude.ai/code) when working with code in this project.
5. **Document Results**
   - Indexer continuously syncs blockchain state
   - Status updates
   - Auction-based Matching Engine
   - Comprehensive testing

---

## ğŸ“‹ **Release Planning**

### 1. **AI Improves Over Time**

- Traditional system: Fixed performance
- Job configurations use `*Test.java` and `*IT.java` naming conventions
</code></pre>
            </article>
        </main>
        <footer>
            <nav>
                <ul>
                    <li><a href="131.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="411.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </footer>
    </body>
</html>
