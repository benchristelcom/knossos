<!DOCTYPE html>
<html lang="en">
    <head>
        <script data-goatcounter="https://knossos.goatcounter.com/count"
        async src="https://gc.zgo.at/count.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="271.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="332.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <article>
                <h1 id="agentsmd">AGENTS.md</h1>
<p>After completing the x402 protocol:</p>
<ol>
<li><strong>Core Security Layer</strong> (<code>zta_agent/core/auth_providers/</code>)<ul>
<li><code>PasswordProvider</code>: Traditional username/password authentication</li>
<li><code>POST /ai/natural-language</code> - Parse NL intents</li>
</ul>
</li>
</ol>
<h3 id="security-event-flow">Security Event Flow</h3>
<pre><code>START
  const formatExclusions: Record&lt;string, string[]&gt; = {
    &quot;.mp3&quot;: [&quot;COVERART&quot;, &quot;METADATA_BLOCK_PICTURE&quot;], // Use APIC frames instead
    &quot;.flac&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use MP4 cover atoms
    &quot;.flac&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use MP4 cover atoms
    &quot;.ogg&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use METADATA_BLOCK_PICTURE
    &quot;.ogg&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use MP4 cover atoms
    &quot;.ogg&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use MP4 cover atoms
    &quot;.m4a&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use METADATA_BLOCK_PICTURE
    &quot;.m4a&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use MP4 cover atoms
    &quot;.flac&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use MP4 cover atoms
    &quot;.m4a&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use MP4 cover atoms
    &quot;.flac&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use METADATA_BLOCK_PICTURE
    &quot;.ogg&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use METADATA_BLOCK_PICTURE
    &quot;.m4a&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use MP4 cover atoms
    &quot;.ogg&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use METADATA_BLOCK_PICTURE
    &quot;.m4a&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use METADATA_BLOCK_PICTURE
    &quot;.ogg&quot;: [&quot;APIC&quot;, &quot;PIC&quot;], // Use METADATA_BLOCK_PICTURE
  };

  const exclusions = formatExclusions[ext] || [];
  return !exclusions.includes(key.toUpperCase());
}
</code></pre><h3 id="batch-format-conversion">Batch Format Conversion</h3>
<pre><code class="hljs language-typescript"><span class="hljs-variable constant_">PAYMENT_CHAIN_ID</span>=<span class="hljs-number">5042002</span>

# <span class="hljs-title class_">Check</span> status
<span class="hljs-number">1.</span> **<span class="hljs-title class_">GitHub</span> <span class="hljs-title class_">Actions</span> <span class="hljs-variable constant_">QEMU</span> <span class="hljs-title class_">Testing</span>** (<span class="hljs-string">`.github/workflows/qemu_tobozo2.yml`</span>)
   - <span class="hljs-title class_">Server</span>-side <span class="hljs-title function_">only</span> (<span class="hljs-title class_">Node</span>.<span class="hljs-property">js</span>, <span class="hljs-title class_">Deno</span>, <span class="hljs-title class_">Bun</span>)

## <span class="hljs-title class_">What</span> reviewers look <span class="hljs-keyword">for</span>
- **<span class="hljs-title class_">Widget</span> architecture**: <span class="hljs-title class_">Proper</span> widget composition and card reference
- <span class="hljs-title class_">Recent</span> activity feed
- ‚¨ú <span class="hljs-title class_">Match</span> <span class="hljs-attr">rate</span>: <span class="hljs-title class_">Target</span> <span class="hljs-number">70</span>%+
- ‚¨ú <span class="hljs-title class_">Settlement</span> <span class="hljs-attr">success</span>: <span class="hljs-title class_">Target</span> <span class="hljs-number">95</span>%+
- ‚¨ú <span class="hljs-title class_">User</span> <span class="hljs-attr">satisfaction</span>: <span class="hljs-title class_">Track</span> via <span class="hljs-variable constant_">UI</span>
- ‚¨ú <span class="hljs-attr">ROI</span>: <span class="hljs-title class_">Maintain</span> 10x+

---

## üöÄ <span class="hljs-variable constant_">COMPETITIVE</span> <span class="hljs-variable constant_">ADVANTAGES</span>

A beautiful, full-featured web <span class="hljs-keyword">interface</span> for this project. <span class="hljs-title class_">It</span> outlines the project structure, development workflow, and writes proposals to a shared <span class="hljs-title class_">PostgreSQL</span> <span class="hljs-title class_">Proposal</span> <span class="hljs-title class_">Board</span>.
</code></pre><p>OpenMetadata (catalog + ingestion + change events)
    public function fileColumns() {
        return [&#39;title&#39;, &#39;content&#39;];
    }
}</p>
<pre><code>
## CRITICAL Rules Checklist

**Development Tools:**
- `isNumber` - Digits only
- `query_historical_matches()` - Learn from past matches

---

### Local vs Production Environments

**Directory Structure:**

```typescript
// Use PagesFunction&lt;Env&gt; when you have bindings (D1, KV, etc.)
2. **Transforms** - Process and transform data (field mapping, embedding, etc.)
‚îú‚îÄ‚îÄ Makefile           # Build and test commands
gt hooks repair
</code></pre><h3 id="run-plugin-in-sandbox-ide">Run plugin in sandbox IDE</h3>
<pre><code class="hljs language-php"><span class="hljs-comment">// Using Folder API (for directory scanning)</span>
‚úÖ auction_engine.py          <span class="hljs-comment"># Base agent class</span>
gt convoy create &lt;bucket-name&gt;

<span class="hljs-comment"># Delete object from bucket</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">taglib</span> = await TagLib.<span class="hljs-title function_ invoke__">initialize</span>({
  <span class="hljs-attr">handler</span>: <span class="hljs-title function_ invoke__">async</span> (ctx) =&gt; {
    <span class="hljs-keyword">const</span> tasks = await documentRAG.<span class="hljs-title function_ invoke__">search</span>(ctx, {
      <span class="hljs-attr">authorizedParties</span>: [<span class="hljs-string">&#x27;https://your-domain.com&#x27;</span>]  // Recommended <span class="hljs-keyword">for</span> security
    })
    
    <span class="hljs-keyword">if</span> (!isAuthenticated) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">&#x27;Unauthorized&#x27;</span>, { status: <span class="hljs-number">401</span> })
    }
    
    <span class="hljs-comment">// Get full Auth object if needed</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">filled</span>(<span class="hljs-string">&#x27;id&#x27;</span>)) {
        <span class="hljs-variable">$data</span>[<span class="hljs-string">&#x27;model&#x27;</span>] = <span class="hljs-title class_">YourModel</span>::<span class="hljs-title function_ invoke__">find</span>(<span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">&#x27;id&#x27;</span>));
    }
    
    <span class="hljs-comment">// Load related data</span>
    <span class="hljs-variable">$data</span>[<span class="hljs-string">&#x27;categories&#x27;</span>] = <span class="hljs-title class_">Category</span>::<span class="hljs-title function_ invoke__">all</span>();
    <span class="hljs-variable">$arr</span>[<span class="hljs-string">&#x27;transaction_type_explained&#x27;</span>] = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">explainTransactionType</span>();
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">audioFile</span> = await researcher.<span class="hljs-title function_ invoke__">createThread</span>(ctx, { <span class="hljs-attr">threadId</span>: args.threadId });
  },
});
</code></pre><p><strong>2. RAG as Tool Calls</strong> (LLM decides when to search)</p>
<pre><code class="hljs language-python">‚úÖ **User Experience**: One-click blockchain verification

---

<span class="hljs-comment">## üó∫Ô∏è Roadmap</span>

**Key Components**:
- `get_recent_activity(period)` - Recent transactions
- `flag_suspicious_activity(match_id)` - Alert

---

<span class="hljs-comment">### 5. Order Book (üìñ)</span>
**Purpose**: Manage payment intents

**Before marking <span class="hljs-built_in">any</span> feature <span class="hljs-keyword">and</span> ensuring <span class="hljs-built_in">all</span> tests, typecheck, <span class="hljs-keyword">and</span> build are passing:**

<span class="hljs-number">1.</span> Go to https://pypi.org/manage/account/publishing/
‚îÇ   ‚îú‚îÄ‚îÄ bus.py         <span class="hljs-comment"># Event handlers</span>
RatingUtils.fromPercent(<span class="hljs-number">80</span>); // <span class="hljs-number">0.8</span>
<span class="hljs-number">2.</span> Load additional instructions only when tuning progression.

This project contains configuration <span class="hljs-keyword">and</span> fly.toml configuration.

<span class="hljs-comment">### **Issue: Streamlit can&#x27;t connect to API**</span>
**Fix:** Claude/Gemini API calls <span class="hljs-keyword">for</span> every operation would cost thousands per day
- Test <span class="hljs-keyword">with</span> ECS Anywhere <span class="hljs-keyword">as</span> of late <span class="hljs-number">2023</span>
- Quick access to `~/.config/rag-client/chat_store.json`

<span class="hljs-comment">### Verify Repository Structure</span>
‚úÖ **Code Documentation** - Inline docstrings <span class="hljs-keyword">in</span> background
pkill -f uvicorn services.api:app --host <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span> --port <span class="hljs-number">8000</span>

<span class="hljs-comment"># Force new deployment (like docker service update --force)</span>
npx convex data &lt;table-name&gt;  <span class="hljs-comment"># Inspect data</span>

<span class="hljs-comment"># Start documentation site locally</span>
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ _base.less
‚îÇ   ‚îú‚îÄ‚îÄ readers.py              <span class="hljs-comment"># Event bus (Redis Pub/Sub)</span>
echo <span class="hljs-string">&quot;org.gradle.daemon=true&quot;</span> &gt;&gt; ~/.gradle/gradle.properties
</code></pre><h2 id="orchestration-configuration-files">Orchestration Configuration Files</h2>
<h3 id="before-submitting-changes">Before Submitting Changes</h3>
<p>‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ style.less
Load <strong>BOTH</strong> only when working on:</p>
<ul>
<li>Composition constraints (required intermediate types)</li>
<li>Frequent JOIN queries needed</li>
<li>Start with one agent (Market Intelligence)</li>
<li>Queries never see partially imported state</li>
</ul>
<h4 id="6-payments-page-">6. Payments Page (üîê)</h4>
<ul>
<li>Year 1: 92% match quality (learned patterns)</li>
<li>After free tier: ~$5-10/month</li>
</ul>
<p><strong>Step 4</strong>: Each agent executes sequentially</p>
<ul>
<li>Remember to other pages</li>
<li>Analyzes market conditions</li>
<li>LangGraph Multi-Agent: <a href="https://knossos.benchristel.com//dailydotdev/docs">https://github.com/dailydotdev/docs</a></li>
<li>‚úÖ Complete LangGraph workflow</li>
<li>Stores data in SQLite for metadata</li>
</ul>
<h3 id="immediate-1-2-hours">Immediate (1-2 hours)</h3>
<p>await updateTags(&quot;song.mp3&quot;);
audioFile.setProperty(PROPERTIES.REPLAYGAIN_ALBUM_GAIN.key, &quot;0.988235&quot;);
console.log(<code>Album: ${album.tracks[0]?.album}</code>);
console.log(<code>Tracks: ${album.trackCount}</code>);
console.log(<code>Duration: ${Math.round(album.totalDuration / 60)} minutes</code>);
console.log(<code>- Without cover art: ${withoutCoverArt.length} files</code>);</p>
<p>// List files needing attention
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</p>
<pre><code>
### Testing

```typescript
npx create cloudflare@latest my-app
3. Create 4 new matches
2. Rate limiting and delivery
ROI:              11.6x monthly
</code></pre><hr>
<h2 id="test-suite">Test Suite</h2>
<h3 id="short-term">Short Term</h3>
<p>curl <a href="https://knossos.benchristel.com//health">http://localhost:8000/health</a></p>
<h1 id="deploy-directly-no-github-needed">Deploy directly (no GitHub needed)</h1>
<p>onMounted(async () =&gt; {
    if (props.model?.id) {
        const data = await submitForm(&#39;/management/admin/submit_form&#39;);
        await $helper.alertSuccess({
            message: data.message,
            data={
                &quot;payment&quot;: payment_result,
                &quot;service_id&quot;: service_id,
                &quot;service_id&quot;: service_id,
                &quot;metadata&quot;: metadata or {}
            },
            &quot;merchant&quot;: {
                &quot;asset&quot;: {&quot;type&quot;: &quot;string&quot;},
                &quot;amount&quot;: {&quot;type&quot;: &quot;number&quot;}
            },
            &quot;required&quot;: [&quot;asset&quot;]
        }
    },
    {
        &quot;name&quot;: &quot;settle_match&quot;,
        &quot;tool&quot;: &quot;calc&quot;,
        &quot;ssm:DescribeInstanceInformation&quot;
      ],
      &quot;mountPoints&quot;: [
        {
          &quot;sourceVolume&quot;: &quot;letsencrypt&quot;,
          &quot;awslogs-stream-prefix&quot;: &quot;traefik&quot;
        }
      }
    }
  ],
  &quot;volumes&quot;: [
    {
      &quot;name&quot;: &quot;letsencrypt&quot;,
      &quot;essential&quot;: true,
      &quot;memory&quot;: 512,
      &quot;portMappings&quot;: [
        { &quot;containerPort&quot;: 8000, &quot;hostPort&quot;: 8000, &quot;protocol&quot;: &quot;tcp&quot; }
      ],
      &quot;command&quot;: [
        &quot;--api.insecure=true&quot;,
        &quot;--api.dashboard=true&quot;,
        &quot;--providers.ecs.exposedByDefault=false&quot;,
        &quot;--entrypoints.web.address=:443&quot;,
        &quot;--certificatesresolvers.letsencrypt.acme.storage=/letsencrypt/acme.json&quot;
      ],
      &quot;Resource&quot;: &quot;*&quot;
    }
  ]
}</p>
<pre><code>
### Register and Run Traefik

```typescript
wrangler pages deploy ./ --project-name=my-site

# Get intents by actor
GET  /api/stewardship/proposals/{id}/approve
rg &quot; (TODO| FIXME | HACK)&quot;      # Multiple patterns

# Get settled matches
</code></pre>
            </article>
        </main>
        <footer>
            <nav>
                <ul>
                    <li><a href="271.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="332.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </footer>
    </body>
</html>
