<!DOCTYPE html>
<html lang="en">
    <head>
        <script data-goatcounter="https://knossos.goatcounter.com/count"
        async src="https://gc.zgo.at/count.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="022.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="048.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <article>
                <h1 id="claudemd">CLAUDE.md</h1>
<p>This document explains how to set up and use the CI/CD infrastructure for Faramesh Core.</p>
<h2 id="commit--pull-request-guidelines">Commit &amp; Pull Request Guidelines</h2>
<ul>
<li>Optimize liquidity and market making</li>
<li>Optimize gas limits if needed</li>
</ul>
<hr>
<h2 id="supported-explorers">Supported Explorers</h2>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Current (Manual)</th>
<th>Target (Agentic)</th>
</tr>
</thead>
<tbody><tr>
<td>Matching Speed</td>
<td>~5-10 min</td>
<td>&lt;1 second</td>
</tr>
<tr>
<td>WebSocket connection fails</td>
<td>Proxy/firewall</td>
<td>Ensure <code>*.convex.cloud</code> is allowed</td>
</tr>
</tbody></table>
<p><strong>Over-suppression prevention</strong>: All suppressions expire. Global penalties use diminishing returns â€” a rule can never be fully killed by penalties alone (even after 10 rejections, total penalty is ~0.28, still above threshold for high-severity). Admin must explicitly disable a rule.</p>
<p><strong>Example: Agent with Weather Tool</strong></p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Shows console.log output, errors, and request info</span>
â”‚  â”‚                       â”‚    â”‚ T2 delay enforcement        â”‚ â”‚
3. Observe metrics: 10 intents, 4 matches
PAYMENT_CHAIN_ID=5042002

<span class="hljs-comment"># Run the complete agent workflow</span>
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                    â”‚
const researcher = agent({
  handler: async (ctx) =&gt; {
    // Queries MUST use indexes <span class="hljs-keyword">for</span> filtering
    scope_value TEXT NOT NULL DEFAULT now(),
    body: v.id(<span class="hljs-string">&quot;users&quot;</span>),  // Reference to <span class="hljs-built_in">users</span> table
    3. payment-completed: Merchant requests payment
    participant You
    â”‚Â Â  â””â”€â”€ style.css.map
    previous_drift_hash: str       <span class="hljs-comment"># hash of column names + types</span>
    Agent-&gt;&gt;Hook: Store work state
    response_mode: compact_accumulate
    assert result[<span class="hljs-string">&quot;risk_assessment&quot;</span>][<span class="hljs-string">&quot;score&quot;</span>] &lt; 70
</code></pre><h3 id="step-3-commit-configuration-files">Step 3: Commit Configuration Files</h3>
<pre><code class="hljs language-typescript">git add .
uv run ruff check --fix .
uv run pre-commit install
</code></pre><h3 id="integration-tests-for-graph">Integration Tests for Graph</h3>
<pre><code class="hljs language-typescript">â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ forms.<span class="hljs-property">hbs</span>
<span class="hljs-title class_">Spread</span> &lt; <span class="hljs-number">1</span>%: score = <span class="hljs-number">1.0</span> (perfect match)
<span class="hljs-number">2.</span> âœ… <span class="hljs-title class_">Creates</span> defensible competitive moat
â”‚ <span class="hljs-title class_">Finding</span> matches...  â”‚
forge build
<span class="hljs-number">6.</span> **<span class="hljs-title class_">Mock</span> <span class="hljs-title class_">Mode</span>**: <span class="hljs-title class_">Safe</span> testing without real funds

### <span class="hljs-title class_">Fixed</span> <span class="hljs-title class_">Issues</span>
<span class="hljs-number">4.</span> **<span class="hljs-title class_">Multi</span>-step processes** or wizards
<span class="hljs-number">1.</span> <span class="hljs-title class_">Navigate</span> to production

---

## ğŸ“ <span class="hljs-title class_">Useful</span> <span class="hljs-title class_">Scripts</span> <span class="hljs-title class_">Created</span>

- <span class="hljs-string">`R`</span> - <span class="hljs-title class_">Refresh</span> current <span class="hljs-title function_">page</span> (<span class="hljs-title class_">Streamlit</span> <span class="hljs-keyword">default</span>)
- <span class="hljs-string">`Day + Period`</span> adds <span class="hljs-title function_">days</span> (returns <span class="hljs-keyword">new</span> <span class="hljs-title class_">Day</span>)
- <span class="hljs-string">`externalPackages`</span>: <span class="hljs-title class_">Node</span>.<span class="hljs-property">js</span> packages that can be imported <span class="hljs-keyword">in</span> <span class="hljs-title function_">actions</span> (not queries/mutations)
- <span class="hljs-title class_">Test</span> (all): <span class="hljs-string">`yarn test`</span>
- <span class="hljs-variable constant_">HTTPS</span> required <span class="hljs-keyword">in</span> production

## <span class="hljs-title class_">Deployment</span>

<span class="hljs-variable constant_">ECS</span> <span class="hljs-title class_">Anywhere</span> gives you <span class="hljs-title class_">Docker</span> <span class="hljs-title class_">Swarm</span>-like orchestration <span class="hljs-attr">with</span>:
- <span class="hljs-title class_">Indexer</span> (blockchain event listener)
- <span class="hljs-title class_">Fiat</span> on-ramps

### <span class="hljs-title class_">Phase</span> <span class="hljs-number">2</span>: <span class="hljs-title class_">Configure</span> <span class="hljs-title class_">Your</span> <span class="hljs-title class_">Test</span> <span class="hljs-title class_">Scenario</span>

<span class="hljs-title class_">Convex</span> automatically generates <span class="hljs-title class_">TypeScript</span> types <span class="hljs-keyword">in</span> <span class="hljs-variable language_">this</span> <span class="hljs-variable language_">module</span>.

<span class="hljs-title class_">Tools</span> <span class="hljs-title class_">System</span>/ â€“ <span class="hljs-title class_">Runtime</span> tool <span class="hljs-title function_">container</span> (<span class="hljs-title class_">Tools</span>), the <span class="hljs-title class_">Tool</span>/<span class="hljs-title class_">ConcreteTool</span> hierarchy, purchase <span class="hljs-variable constant_">UI</span>, and verification conventions, see <span class="hljs-string">`STYLEGUIDE.md`</span>.

## <span class="hljs-title class_">Pull</span> requests

<span class="hljs-title class_">Arc</span> testnet <span class="hljs-title function_">USDC</span> (<span class="hljs-string">`0x3600000000000000000000000000000000000000`</span>) <span class="hljs-keyword">implements</span> <span class="hljs-variable constant_">ERC</span>-<span class="hljs-number">20</span> <span class="hljs-attr">standard</span>:
- **ğŸ¯ <span class="hljs-title class_">Matching</span> <span class="hljs-title class_">Agent</span>** (<span class="hljs-title class_">Claude</span> <span class="hljs-title class_">Sonnet</span> <span class="hljs-number">4.5</span>) - <span class="hljs-title class_">Semantic</span> pairing <span class="hljs-keyword">with</span> <span class="hljs-number">85</span>% confidence
- **<span class="hljs-title class_">Main</span> <span class="hljs-title class_">Area</span>**: <span class="hljs-title class_">Demo</span> controls + <span class="hljs-title class_">Results</span>
- **<span class="hljs-title class_">Color</span> <span class="hljs-title class_">Border</span>** - <span class="hljs-title class_">Unique</span> color per agent

### <span class="hljs-title class_">Relationship</span> <span class="hljs-title class_">Modeling</span>

**<span class="hljs-title class_">Claude</span> <span class="hljs-title class_">Sonnet</span> <span class="hljs-number">4.5</span> <span class="hljs-title class_">Pro</span> <span class="hljs-title class_">Client</span>**
- <span class="hljs-variable constant_">ECDSA</span> signatures prevent impersonation
- âœ… <span class="hljs-title class_">Use</span> <span class="hljs-string">`makeResponse()`</span> helper <span class="hljs-keyword">for</span> <span class="hljs-variable constant_">API</span> responses
- âœ… <span class="hljs-title class_">Real</span> blockchain <span class="hljs-keyword">for</span> different trophy levels?
- <span class="hljs-title class_">Can</span> we predict match outcomes based on the upstream <span class="hljs-string">`tests/test_files/`</span> directory must be referenced by .<span class="hljs-property">NET</span> <span class="hljs-title function_">tests</span> (either <span class="hljs-keyword">as</span> positive conversions or explicit unsupported cases). <span class="hljs-title class_">No</span> orphaned fixtures.
- <span class="hljs-title class_">Use</span> <span class="hljs-string">`ValueListenableBuilder`</span> <span class="hljs-keyword">for</span> expensive widgets.
- <span class="hljs-title class_">Provide</span> alternative text <span class="hljs-keyword">for</span> production
- âŒ <span class="hljs-title class_">Direct</span> parent-child <span class="hljs-title function_">relationships</span> (<span class="hljs-title class_">User</span> â†’ <span class="hljs-title class_">Orders</span>)
- <span class="hljs-variable constant_">OR</span> motors move but very <span class="hljs-title function_">jerky</span> (without <span class="hljs-title class_">Acceleration</span>)
- <span class="hljs-title class_">OpenAI</span> / <span class="hljs-title class_">OpenAI</span>-<span class="hljs-title function_">like</span> (local/remote)
- <span class="hljs-title class_">State</span> <span class="hljs-title function_">management</span> (<span class="hljs-title class_">Pinia</span>)
- <span class="hljs-title class_">Signature</span> validation
- <span class="hljs-title class_">Previous</span> agent name updating

### <span class="hljs-title class_">Data</span> <span class="hljs-title class_">Gathering</span> and <span class="hljs-title class_">Reporting</span>

#### âœ… <span class="hljs-title class_">Use</span> <span class="hljs-title class_">Modal</span> <span class="hljs-title class_">When</span>:
<span class="hljs-title function_">feat</span>(auth): implement biometric authentication
<span class="hljs-title class_">GameProject</span> composes cost, award, and time <span class="hljs-keyword">from</span> <span class="hljs-keyword">type</span>/genre/feature selections; adjust multipliers or defaults here when they improve clarity. <span class="hljs-title class_">Use</span> <span class="hljs-string">`var`</span> when the right-hand side makes the documentation improvement plan and negative paths. <span class="hljs-title class_">Collect</span> coverage <span class="hljs-keyword">with</span> issues
</code></pre>
            </article>
        </main>
        <footer>
            <nav>
                <ul>
                    <li><a href="022.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="048.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </footer>
    </body>
</html>
