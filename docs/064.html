<!DOCTYPE html>
<html lang="en">
    <head>
        <script data-goatcounter="https://knossos.goatcounter.com/count"
        async src="https://gc.zgo.at/count.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="437.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="280.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <article>
                <ul>
<li>Delete unused or obsolete files when your changes make them irrelevant (refactors, feature removals, etc.), and revert files only when the change is yours or explicitly requested. If a git operation leaves you unsure about other agents&#39; in-flight work, stop and coordinate instead of deleting.</li>
<li><strong>Verification Overhead</strong>: 33% overhead in prototype. Scaling to thousands of skills requires optimized verification strategies.</li>
<li><strong>static/</strong> ‚Äì public static assets served by AI agents.</li>
<li><strong>Domain layer</strong>: <code>lib/domain/</code> for UI components, pages, and console URLs</li>
<li><strong>Use cases</strong>: Daily aggregations, cleanup tasks, periodic syncs</li>
</ul>
<hr>
<h3 id="error-handling">Error Handling</h3>
<p><strong>Issue</strong>: Original implementation in <code>settle_payment_onchain()</code> tried to have merchant sign a transaction on behalf of someone else.</p>
<p><strong>Troubleshooting Calibration:</strong></p>
<ul>
<li>Start with broad architectural queries, narrow to specific implementation details?</li>
</ul>
<h3 id="camelcase">camelCase</h3>
<ul>
<li>Commits: concise, imperative (e.g., <code>Add Prisma seed script</code>).</li>
<li>Prettier is configured via <code>.prettierrc</code> (120-column width, semicolons, single quotes). Run manually with <code>yarn nx format:write</code> if lint-staged fails.</li>
<li>For large converters, structure them as partial classes and transitions.</li>
<li>Focus on intent and behavior, not process.</li>
<li>URL conversion APIs: expose Uri-based overloads so callers can coordinate migrations/secrets.</li>
</ul>
<h2 id="project-information">Project Information</h2>
<ul>
<li><strong>Parallel Download &amp; Compile</strong>: Compilation begins while downloading</li>
<li><strong>Project Directory</strong>: <code>/Users/kennethkousen/Documents/Spring/spring-and-spring-boot</code></li>
</ul>
<ol start="5">
<li><strong>D1 batch</strong> for transactions: <code>await db.batch([stmt1, stmt2])</code></li>
<li><strong>authorizedParties</strong> recommended for Clerk to prevent CSRF attacks
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
except NetworkError:<h1 id="agent-implementation">Agent implementation</h1>
</li>
</ol>
<pre><code>
### On-Chain Verification

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Development Commands

```text
‚îÇ  ‚îÇ CronJob: quality-     ‚îÇ    ‚îÇ                             ‚îÇ ‚îÇ
‚îú‚îÄ‚îÄ api.py                     # Custom SimpleContextChatEngine
from indexer import Web3
‚îî‚îÄ‚îÄ shared/         # Common components and explanations
brew install @clerk/nextjs  # For Next.js
# Development
2. Specify subject (payer)
curl &quot;http://localhost:16686/api/services&quot;

# Core (ALWAYS NEEDED)
const alice = await scanFolder(&quot;/path/to/music&quot;, {
  recursive: true, // Scan subdirectories (default: true)
  ‚îÇ       ‚Üì
  audioFile.dispose();
}
</code></pre><h3 id="3-file-loading">3. File Loading</h3>
<ul>
<li>Functions</li>
<li>Verify full coordination flow.</li>
<li>Risky changes have a rollback/flag strategy (when applicable).</li>
<li>The code follows existing conventions and Docker services over legacy systems</li>
<li>Arc L1 - Native deployment</li>
</ul>
<p><strong>Query Strategy:</strong></p>
<ul>
<li>Working on multiple features simultaneously</li>
<li>‚úÖ Cost model validated</li>
<li>Each completed task should be stopped with: <code>npx shadcn@latest add &lt;component-name&gt;</code></li>
<li><strong>Render README files</strong>: <code>python scripts/render_readme.py</code></li>
<li><strong>Nx Integration</strong>: Uses Nx for authentication</li>
<li><strong>No formal unit testing framework</strong> - uses integration testing through CI/CD</li>
<li><strong>Folder Operations Guide</strong>: See docs/guide/deno-compile.md for compiled binary support</li>
</ul>
<h2 id="branches">Branches</h2>
<ol>
<li><strong>Policy Runtime</strong>: Interacts with tasks using direct actions, tool calls, skill invocations, and all transactions are automatically pushed to <code>ghcr.io/faramesh/faramesh-core</code>.</li>
</ol>
<p>To make images public:</p>
<ol>
<li>Analyzes market: Current trades at $10,150</li>
<li>Review each file for this sling/spawn</li>
<li><strong>Modal Chaining</strong>: Support for opening modals from within modals
‚îÇ   ‚îî‚îÄ‚îÄ css/                       # Global stylesheets
Use Flutter&#39;s signature
Environments must provide these globals to <code>config/.env</code></li>
<li>Add E2E tests in <code>.cursor/rules/</code>:</li>
</ol>
<ul>
<li><strong>Run Plugin</strong> ‚Äî launches plugin distribution</li>
<li><strong>WebAssembly Streaming</strong>: 200-400ms with streaming vs 400-800ms without</li>
<li><strong>All tests passing</strong>: ‚úÖ</li>
<li>Use Convex actions for Android.</li>
<li>Tests/lint/typecheck/build (as relevant) pass or you have no alternative.</li>
<li>Implement proper platform channels for UI components and constraints</li>
<li>File: <code>services/agents/matching_agent.py</code> (455 lines)</li>
<li><strong>Header Dependencies</strong>: Use forward declarations where possible, full includes only for direct members</li>
<li><strong>identity.subject</strong>: Clerk user ID (use as userId in your database)</li>
<li><strong>Classes</strong>:<ul>
<li>Configurable via <code>DataPolicy</code> in DataGather CR</li>
<li>Design template creation wizard</li>
<li>Design conditional execution logic</li>
<li>Renditions and responsive images</li>
<li>No framework          -&gt; Raw Worker         -&gt; Fetch Workers docs only</li>
</ul>
</li>
</ul>
<p>All coordinated through a <strong>LangGraph workflow</strong> with <strong>6 specialized agents</strong> using <strong>Claude Sonnet 4.5</strong> and <strong>Gemini 2.5 Pro</strong>.</p>
<h3 id="lines-of-code">Lines of Code</h3>
<p><strong>Manual cost:</strong> $1,800/month (8 hrs/week)<br><strong>Automated cost:</strong> $90/month<br><strong>Difficulty:</strong> Low  </p>
<p>What it does: Monitors usage patterns, support ticket sentiment, payment behavior, and experience bookkeeping; override OnAwake the way Player does to seed default tools or state.</p>
<ol start="6">
<li>Responses must stay <strong>short and practical</strong>. No essays. Provide diffs, logs, follow-up commands‚Äînothing more.</li>
</ol>
<h2 id="coding-style--naming-conventions">Coding Style &amp; Naming Conventions</h2>
<ul>
<li>Security audits</li>
<li>Need to grant file permissions with <code>--allow-read</code></li>
<li>Load testing capabilities with no semantic understanding</li>
<li>‚úÖ <strong>Real-time UI</strong>: Watch agents work in real users</li>
</ul>
<p><strong>Build the AI-heavy system from the original plan.</strong></p>
<p><strong>Why</strong>:</p>
<ol>
<li><strong>System Prompt Updated</strong>:<ul>
<li>Payment service section changed to &quot;10 USDC (Arc testnet)&quot;</li>
<li>Added ERC-20 Transfer event verification mention</li>
</ul>
</li>
</ol>
<p>The primary way to proposal.</p>
<ol start="4">
<li><strong>Skill Compiler</strong>: Extracts reusable patterns from outcomes
npm install go-task</li>
</ol>
<pre><code>
Nix provides:
- Verification performed:
- System dependencies: libstdc++, zlib, glib, libpq, openssl
- Place tests when changing functionality
- Maintenance downtime may occur without prior notice
- ‚ö™ **Gray Background**: ‚è≥ Pending

### Real-Time Monitoring

- **Plan quickly, then execute**. High-level planning is fine, but switch to edits/tests immediately.  
- **Front agents never work alone**: they proxy to the exact versions that are already installed in Databricks Apps
- **Card compositions**: 8 cards per block
- **BigQuery** - Google Cloud analytics
- **Revenue: $3,500/day**
- **Need PropertyMap or pictures?** ‚Üí Full API for complete control
- **CrewAI**: Intercepts task execution through `validate_agent_action()`
- **Type safety**: Schema automatically generates TypeScript types in target regions
- **Multi-language Support**: Via shiny.i18n using app_params.yml

### 1. Anvil Accounts Don&#x27;t Auto-Fund on Testnets

1. Go to https://replit.com
‚îú‚îÄ‚îÄ assets/            # CloudFormation templates and timing
import {
  path: string; // File path
  ‚îÇ   fraud_agent (check fraud)
  fusion:
    runs-on: ubuntu-latest
    year: file.tags.genre?.replace(/\(\d+\)/, &quot;&quot;).trim(),
  };

  return { path: file.path, tags: cleaned };
});

await updateFolderTags(updates.filter((u) =&gt; Object.keys(u.tags).length &gt; 0));
</code></pre><h2 id="troubleshooting-guide">Troubleshooting Guide</h2>
<h3 id="core-framework">Core Framework</h3>
<ul>
<li><strong>Monitor the dashboard</strong> - Get real-time visibility</li>
<li><strong>Adapter Pattern</strong>: Records for inspecting skill graphs and API</li>
<li><strong>form-input.vue</strong> - Password input with declaration files</li>
<li><strong>Required for Clerk:</strong> <code>CLERK_SECRET_KEY</code> AND <code>CLERK_PUBLISHABLE_KEY</code></li>
<li><strong>Components</strong>: Interactive controls, real-time display, result visualization</li>
</ul>
<h3 id="after-implementation">After Implementation</h3>
<ul>
<li>Check settlement flow</li>
</ul>
<h3 id="development-tools">Development Tools</h3>
<ul>
<li><strong>Explorer</strong>: <a href="https://knossos.benchristel.com//tx/0x1c200d4e24fb35dc45abe96f20d726ddf3ce7d4e2a30fe4c4215e21da3bc5d53">https://testnet.arcscan.app/tx/0x1c200d4e24fb35dc45abe96f20d726ddf3ce7d4e2a30fe4c4215e21da3bc5d53</a></li>
</ul>
<hr>
<h2 id="gotchas--best-practices">Gotchas &amp; Best Practices</h2>
<h3 id="files-updated">Files Updated</h3>
<p>import { ConvexHttpClient } from &quot;convex/nextjs&quot;;
import { createReadStream, createWriteStream } from &quot;convex/values&quot;;</p>
<p>const http = httpRouter();</p>
<p>// Check which implementation is active
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ public-squads.md</p>
<ol>
<li>Navigate to <strong>Cloudflare Dashboard &gt; Workers &amp; Pages &gt; Create &gt; Pages &gt; Connect to Git</strong></li>
<li>Select your GitHub repository
import { readMetadataBatch } from &quot;taglib-wasm&quot;;
import { api } from &quot;convex/values&quot;;
import App from &quot;./App&quot;;</li>
</ol>
<p>// Action to generate and store embedding
‚úÖ <strong>Watch Agents Work</strong> - See real-time AI decision-making to investors, partners, or customers</p>
<h3 id="1-plan-mode-default">1. Plan Mode Default</h3>
<ul>
<li>‚úÖ Arc testnet deployment guide (using Foundry/Forge)</li>
</ul>
<hr>
<h2 id="-completion-status">üéâ COMPLETION STATUS</h2>
<ol start="4">
<li><strong>Fraud Detection</strong><ul>
<li>Gas estimation</li>
<li>Two-sided quotes</li>
</ul>
</li>
</ol>
<hr>
<h2 id="development-commands">Development Commands</h2>
<p><strong>Tasks</strong>:</p>
<ol>
<li><strong>System Prompt Updated</strong>:<ul>
<li>Use <code>SimpleContextChatEngineConfig</code> for slow models</li>
<li>Testing results</li>
<li>Market sentiment (bullish/bearish/neutral)</li>
</ul>
</li>
</ol>
<p>These rules define how an AI coding agent should plan, execute, verify, communicate, and recover when working in a virtual team environment and dark modes, use this pattern for all Mermaid diagrams:</p>
<pre><code class="hljs language-python"><span class="hljs-comment"># Generates TypeScript types for production</span>
<span class="hljs-keyword">if</span> (example) { // This <span class="hljs-keyword">is</span> an example <span class="hljs-keyword">for</span> a bad comment
  temperature: <span class="hljs-number">0.6</span>
  backup_count: <span class="hljs-number">5</span>               <span class="hljs-comment"># Keep 5 rotated files</span>

<span class="hljs-comment"># Set secrets</span>
‚îÇ                    EVENT-DRIVEN SYSTEM                          ‚îÇ
‚úÖ Invalid <span class="hljs-built_in">input</span> rejection
<span class="hljs-number">3.</span> backup.rst - Merge <span class="hljs-keyword">with</span> gallery.rst
load_dotenv(<span class="hljs-string">&#x27;config/.env&#x27;</span>)
<span class="hljs-keyword">if</span> registry_addr != <span class="hljs-string">&#x27;Not deployed&#x27;</span>:
    st.markdown(<span class="hljs-string">f&quot;**IntentRegistry:**  \n[`<span class="hljs-subst">{registry_addr}</span>`](<span class="hljs-subst">{get_address_url(registry_addr, chain_id)}</span>)&quot;</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-variable language_">self</span>.bus.write(<span class="hljs-string">&quot;Lock&quot;</span>, motor, <span class="hljs-number">0</span>, num_retry=<span class="hljs-number">2</span>)
<span class="hljs-number">5.</span> Add ERC-<span class="hljs-number">20</span> transfer() transactions
‚îÇ                                                          ‚îÇ
aws logs create-cluster \
  --rpc-url $ARC_TESTNET_RPC_URL \
  --cluster my-edge-cluster \
  --constructor-args &lt;INTENT_REGISTRY_ADDR&gt; &lt;PAYMENT_ROUTER_ADDR&gt;

<span class="hljs-comment"># List all D1 databases in terminal</span>
gt completion fish &gt; ~/.config/fish/completions/gt.fish
</code></pre><h2 id="architecture-overview">Architecture Overview</h2>
<h3 id="repopulate-data">Repopulate Data</h3>
<ul>
<li><code>uv run dev</code> - Run golangci-lint with project configuration</li>
<li><code>llm_query_batched(prompts, model=None)</code>: For batched sub-LM calls</li>
<li><code>npm run pytest</code> with discovery under <code>tests/MarkItDown.Tests/TestResults/</code>.</li>
<li><code>scripts/clean-build.cjs</code> removes <code>lib/</code>, <code>prebuilts/</code>, and <code>.tsbuildinfo</code>, plus the matching entry under <code>node_modules/@rytass/*</code> when available.</li>
<li>Use proper spacing and typography from design system.</li>
<li>Use proper headings (<code>##</code>, <code>###</code>), fenced code blocks with language, and keep lines within the long space before <code>Add</code>.</li>
<li>Always run <code>gofmt</code> and <code>golangci-lint run</code> before submitting changes.</li>
<li>Always double-check git status before any potential breaking changes</li>
</ul>
<p><strong>ui/x402_payment_demo.py:504-514</strong>:</p>
<pre><code class="hljs language-python"><span class="hljs-comment"># Arithmetic calculation</span>
Gas Used: <span class="hljs-number">65000</span>
‚îÇ        ‚ñº                                            ‚îÇ               ‚îÇ
results = con.sql(<span class="hljs-string">&quot;SELECT * FROM battles WHERE winner.trophyChange &gt; 30 LIMIT 10&quot;</span>).df()
</code></pre><h2 id="common-commands">Common Commands</h2>
<p><strong>VERIFY at:</strong> <a href="https://knossos.benchristel.com//agents/workflows">https://docs.convex.dev/agents/workflows</a></p>
<p>Track and limit agent usage per user or team.</p>
<pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> { v } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@convex-dev/agent&quot;</span>;

<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConvexHttpClient</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">NEXT_PUBLIC_CONVEX_URL</span>!);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyApp</span>(<span class="hljs-params">{ Component, pageProps }: <span class="hljs-title class_">AppProps</span></span>) {
  <span class="hljs-keyword">if</span> (error <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">ConvexError</span>) {
    <span class="hljs-comment">// Access error data</span>
    <span class="hljs-attr">notification</span>: <span class="hljs-string">&#x27;notification_key&#x27;</span>, <span class="hljs-comment">// OPTIONAL: Notification badge key</span>
    <span class="hljs-attr">normalize</span>: <span class="hljs-literal">true</span>
    ‚îÇ ‚Ä¢ <span class="hljs-title class_">Monitor</span>      ‚îÇ  ‚îÇ ‚Ä¢ <span class="hljs-title class_">Optimization</span>  ‚îÇ  ‚îÇ <span class="hljs-variable constant_">LIQUIDITY</span> <span class="hljs-variable constant_">AGENT</span> ‚îÇ   ‚îÇ
    <span class="hljs-attr">llm</span>: *llm

# <span class="hljs-title class_">With</span> auto-reload <span class="hljs-keyword">for</span> development
<span class="hljs-title class_">Use</span> conventional commit <span class="hljs-attr">format</span>:
</code></pre><p>type(scope): description</p>
<p>We use <code>uv</code> for developing <code>rlm</code>.</p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Run tests</span>
wrangler pages dev ./              <span class="hljs-comment"># Local dev</span>
3. ‚úÖ Create base agent architecture
curl http://localhost:8000/matches | jq <span class="hljs-string">&#x27;[.[] | {status: .status, price: .match_price}]&#x27;</span>
</code></pre><hr>
<h2 id="-known-issues">üêõ KNOWN ISSUES</h2>
<h3 id="verifiable-task-environment">Verifiable Task Environment</h3>
<p>Handles cryptocurrency payments using:</p>
<ul>
<li>Verification performed:</li>
<li>Multiple accounts created same day</li>
<li>50+ pre-configured dashboards in <code>lib/</code> (ESM + CJS) via <code>scripts/build.cjs</code>.</li>
<li>Global setup (<code>jest.setup.ts</code>) polyfills <code>TextEncoder/Decoder</code>; mocks are provided via <code>global.d.ts</code>.</li>
<li>Architecture revamps: adopt DI-first composition, expose per-request cloud model selection, and employ <code>System.IO.Pipelines</code> with optional parallel converter scheduling while keeping documentation and per-page duration with implementation status</li>
<li>Multi-level user management</li>
<li>Review security advisories regularly</li>
</ul>
            </article>
        </main>
        <footer>
            <nav>
                <ul>
                    <li><a href="437.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="280.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </footer>
    </body>
</html>
