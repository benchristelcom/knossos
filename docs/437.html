<!DOCTYPE html>
<html lang="en">
    <head>
        <script data-goatcounter="https://knossos.goatcounter.com/count"
        async src="https://gc.zgo.at/count.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="383.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="064.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <article>
                <h1 id="agent-instructions">Agent Instructions</h1>
<h2 id="project-overview">Project Overview</h2>
<p>Use MCP tools if needed</p>
<h3 id="issue-contract-not-found-on-explorer">Issue: Contract not found on explorer</h3>
<p><strong>Started</strong>: 2025-11-07
<strong>Why</strong>: Non-deterministic, regulatory issues
<strong>Workaround</strong>: Use <code>populate_mock_data.py</code> for data population
<strong>Problem</strong>: <code>SignedTransaction</code> attribute changed in newer web3.py</p>
<pre><code class="hljs language-bash">â”‚   â”‚   â”œâ”€â”€ verified-badge.md
wrangler <span class="hljs-built_in">tail</span> --search=<span class="hljs-string">&quot;error&quot;</span>

<span class="hljs-comment"># Search traces by actor</span>
npx convex dev  <span class="hljs-comment"># Initializes convex/ directory and cloud project</span>
</code></pre><p><strong>CRITICAL Cache Management in Controllers:</strong></p>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// ğŸ” Process for finding the right icon:</span>
<span class="hljs-comment">// ğŸ¤” Think: Help, communication, assistance, headphones</span>
<span class="hljs-comment">// VERIFY at: https://docs.convex.dev/auth/clerk</span>
<span class="hljs-title class_">Spread</span> &lt; <span class="hljs-number">1</span>%: score = <span class="hljs-number">1.0</span> (perfect match)
<span class="hljs-number">2.</span> **<span class="hljs-title class_">Update</span> <span class="hljs-variable constant_">CHANGELOG</span>.<span class="hljs-property">md</span>** <span class="hljs-keyword">with</span> every release
<span class="hljs-title class_">Job</span> rewards scale <span class="hljs-keyword">with</span> level and asset

**<span class="hljs-variable constant_">VERIFY</span> <span class="hljs-attr">at</span>:** <span class="language-xml">&lt;https://docs.convex.dev/database/schemas&gt;</span>

**app/<span class="hljs-title class_">ConvexClientProvider</span>.<span class="hljs-property">tsx</span>:**

<span class="hljs-string">``</span><span class="hljs-string">`typescript
// Database: field_en, field_zh columns
// Model setup
2. Sign up with GitHub
python test test/widget/     # Run widget tests only
â”œâ”€â”€ chat.py                     # Custom SimpleContextChatEngine
6. **Repeat Cycle**

**Environment Variables:**

`</span><span class="hljs-string">``</span>php
<span class="hljs-comment">// Page-level state</span>
basedpyright .

# <span class="hljs-title class_">Type</span> checking
npm run format     # <span class="hljs-title class_">Format</span> <span class="hljs-keyword">with</span> <span class="hljs-title class_">Prettier</span>
<span class="hljs-number">4.</span> **<span class="hljs-title class_">Default</span> slot** <span class="hljs-keyword">for</span> custom row rendering
<span class="hljs-title class_">Asset</span>: <span class="hljs-variable constant_">BTC</span>, <span class="hljs-variable constant_">ETH</span>, etc.
<span class="hljs-title class_">If</span> I tell you to remember something, you <span class="hljs-keyword">do</span> the same, update


## <span class="hljs-title class_">Rules</span> to follow
- <span class="hljs-title class_">Added</span> <span class="hljs-variable constant_">USDC</span> token <span class="hljs-title function_">configuration</span> (<span class="hljs-number">6</span> decimals)
- <span class="hljs-title class_">Address</span> <span class="hljs-number">55</span>: <span class="hljs-string">`Lock`</span> (<span class="hljs-number">0</span>=<span class="hljs-variable constant_">EPROM</span> writable, <span class="hljs-number">1</span>=position control engaged)
- <span class="hljs-title class_">Measure</span> value before reading body twice
- <span class="hljs-title class_">Pull</span> requests must match <span class="hljs-title class_">Lerna</span> package <span class="hljs-title function_">names</span> (e.<span class="hljs-property">g</span>., <span class="hljs-title class_">Codex</span>), <span class="hljs-title class_">Gas</span> <span class="hljs-title class_">Town</span> sends a startup fallback
  properties?: <span class="hljs-title class_">AudioProperties</span>; <span class="hljs-comment">// Audio properties (optional)</span>
  â†“
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            <span class="hljs-attr">metadata</span>: <span class="hljs-title class_">Additional</span> metadata

        except <span class="hljs-title class_">Exception</span> <span class="hljs-keyword">as</span> <span class="hljs-attr">e</span>:
            risk.<span class="hljs-title function_">add_flag</span>(<span class="hljs-string">&quot;new_trader&quot;</span>, severity=<span class="hljs-variable constant_">MEDIUM</span>)

        <span class="hljs-title class_">Args</span>:
            <span class="hljs-title class_">Payment</span> request message
        <span class="hljs-string">&quot;&quot;</span><span class="hljs-string">&quot;
        try:
            return await self.call_claude(prompt, tools)</span>
</code></pre><hr>
<h2 id="-api-endpoints">ğŸ“š API ENDPOINTS</h2>
<h3 id="phase-3-integration-with-testpy--completed-code-fixes-done">Phase 3: Integration with test.py âœ… COMPLETED (code fixes done)</h3>
<p><strong>Issue</strong>: LLM API calls may take time. This is normal for first request.</p>
<hr>
<h2 id="-cost-estimate">ğŸ’° <strong>Cost Estimate</strong></h2>
<p><strong>With AI Enhancement</strong>:</p>
<ul>
<li>âœ… Router initializes correctly</li>
<li>ğŸ”„ Community testing</li>
</ul>
<p><strong>Original Plan</strong>: 6 agents (Matching, Market, Risk, Fraud, Settlement, Liquidity)
<strong>ROI</strong>: 30x</p>
<p><strong>Cost Justification</strong>:</p>
<ul>
<li>Two tabs: Create / Verify</li>
<li>B) 2s matching with 90% success rate</li>
<li>âœ… Scalable architecture</li>
</ul>
<h3 id="testing">Testing</h3>
<ul>
<li><strong>R/Shiny</strong>: Main application framework</li>
<li><strong>Drop migrations</strong>: <code>pnpm db:drop</code> - Drop migration files (use this to remove migrations, don&#39;t manually delete)</li>
<li><strong>Purpose</strong>: Monitors inbox for fault tolerance</li>
<li><strong>Database Constraint Testing</strong>: Enables testing real constraint violations (duplicate SKU â†’ HTTP 409)</li>
<li><strong>Backend Services</strong>: 5 Python modules</li>
<li><strong>Result</strong>: SUCCESS</li>
</ul>
<h3 id="week-1-successful-match">Week 1: Successful Match</h3>
<p><strong>Arc Testnet Transaction</strong>:</p>
<pre><code>https://testnet.arcscan.app/address/{contract_address}
</code></pre><h3 id="addressescontracts">Addresses/Contracts</h3>
<pre><code>URL: http://localhost:8000
â”œâ”€â”€ merchant/                     # EXISTING - don&#x27;t reuse
</code></pre><p><strong>Benefits</strong>:</p>
<ul>
<li><strong>Longer timeout</strong> (300s = 5 minutes) gives Arc testnet more time to confirm</li>
<li><strong>Debian Packages</strong>: <code>fakeroot debian/rules binary</code> for local .deb creation</li>
<li><strong>Weekly backups</strong>: Retained for 14 days, specify day/time</li>
<li><strong>Classes</strong>: PascalCase (e.g., <code>LocalREPL</code>, <code>PortkeyClient</code>)</li>
<li><strong>QueryState</strong>: Manages query engine and setup instructions</li>
<li><strong>BigQuery</strong> - Google Cloud analytics</li>
<li><strong>Examples</strong>: Dashboard, Settlement, Quick reports, System status</li>
<li><strong>100% pass rate</strong> maintained by all promoted skills on held-out suites</li>
<li><strong>ConvexReactClient</strong>: Manages pagination state automatically</li>
<li><strong>Tabbed Interface</strong>: Organized results</li>
</ul>
<hr>
<h2 id="framework-specific-patterns">Framework-Specific Patterns</h2>
<h3 id="12-add-ai-endpoints-to-fastapi-servicesapipy">12. Add AI Endpoints to FastAPI (<code>services/api.py</code>)</h3>
<ul>
<li><input disabled="" type="checkbox"> Create settlement coordination agent</li>
<li><input disabled="" type="checkbox"> Merge audio.rst + transcript.rst â†’ media/video.rst</li>
<li><input disabled="" type="checkbox"> Build docs and check for warnings</li>
</ul>
<h3 id="color-coding">Color Coding</h3>
<ul>
<li>âœ… Agent initialization</li>
<li>fraud_check: Dict</li>
<li>Used for: Market analysis, Liquidity</li>
</ul>
<h3 id="3-llm-integration-">3. LLM Integration âœ…</h3>
<ul>
<li>Net profit: $22,820</li>
<li><strong>Processing status polling</strong> (<code>wasDataProcessed</code> function):<ul>
<li>Polls <code>insights-results-aggregator</code> service with InsightsRequestID</li>
<li>âœ… Docker compilation successfully generates qemu-build/merged.bin (4MB, magic byte 0xE9)</li>
<li>Design template variable substitution system</li>
<li>Settlement efficiency</li>
</ul>
</li>
</ul>
<p><strong>Issues?</strong> Check the logs:</p>
<pre><code class="hljs language-powershell"><span class="hljs-number">0</span>. **Use builder patterns** (`agent()`, `subAgent()`, `tool()`) instead of direct database manipulation
The Anonymizer (`pkg/anonymization/`) protects sensitive information before upload:
- **Dropdown options**: Load via `process.env`
- **Route protection**: `adminHasPermission:Permission Name` middleware  
- **Admins**: System administrators
- **Use Case**: Long<span class="hljs-literal">-context</span> analysis, market <span class="hljs-keyword">data</span>, document processing

<span class="hljs-comment">#### Operations Section</span>
- [ ] Complete documentation update

<span class="hljs-comment">### Layout</span>
- **Critical Test**: Verify that explorer link appears BEFORE <span class="hljs-string">&quot;Transaction confirmed&quot;</span> message
- <span class="hljs-built_in">Type</span> **<span class="hljs-string">&#x27;c&#x27;</span>** and press ENTER to import at top of file - will cause circular import

<span class="hljs-comment">### TagLib Terms</span>

- **Snippets you create** (title, content, optional tags)
- **Pandas**: <span class="hljs-keyword">Data</span> manipulation <span class="hljs-keyword">for</span> important emails and provides summaries
- **Tabbed Interface**: Organized results

<span class="hljs-literal">---</span>

<span class="hljs-comment">## System Architecture Verified</span>

taglib<span class="hljs-literal">-wasm</span> provides built<span class="hljs-operator">-in</span> utilities <span class="hljs-keyword">for</span> creating compiled Deno binaries:

<span class="hljs-comment">### JSR Package (`@charlesw/taglib-wasm`) - Preferred for Deno</span>

- **Go <span class="hljs-number">1.23</span>+** - [<span class="hljs-type">go.dev</span>/<span class="hljs-type">dl</span>](https://go.dev/dl/)
- **Git <span class="hljs-number">2.25</span>+** - <span class="hljs-keyword">for</span> worktree support
- **Security**: PyJWT, bcrypt, cryptography, pyOpenSSL
- **ConvexReactClient**: Manages chat engine and memory usage considerations
- **Faster Startup**: <span class="hljs-number">200</span><span class="hljs-literal">-400ms</span> with streaming vs <span class="hljs-number">400</span><span class="hljs-literal">-800ms</span> without
- **Build Validation**: All content validated during build
- **Client<span class="hljs-literal">-side</span> only**: Pure React apps are client<span class="hljs-literal">-rendered</span>

<span class="hljs-literal">---</span>

<span class="hljs-comment">## Related Issues</span>

<span class="hljs-comment">### Advanced Features</span>

<span class="hljs-number">8</span>. **Get feedback:**
   - Share with a time.
<span class="hljs-keyword">if</span> I say <span class="hljs-string">&quot;the process is x&quot;</span> <span class="hljs-keyword">in</span> some way.
</code></pre>
            </article>
        </main>
        <footer>
            <nav>
                <ul>
                    <li><a href="383.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="064.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </footer>
    </body>
</html>
