<!DOCTYPE html>
<html lang="en">
    <head>
        <script data-goatcounter="https://knossos.goatcounter.com/count"
        async src="https://gc.zgo.at/count.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="194.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="135.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <article>
                <h1 id="so-101-setup--configuration-guide">SO-101 Setup &amp; Configuration Guide</h1>
<h2 id="Ô∏è-critical-docker-only-approach">‚ö†Ô∏è CRITICAL: Docker-Only Approach</h2>
<p><strong>Q4 2025: Ecosystem</strong></p>
<ul>
<li>Status-based filtering (pending, funded, settled, cancelled)</li>
<li>RMT5 peripheral limitation is expected (hardware not fully emulated in api.py)</li>
<li>LinkedIn: <a href="https://knossos.benchristel.com//a>`</li>
</ul>
<h2 id="search-and-discovery">Search and Discovery</h2>
<p>Once complete, explore the <strong>6 result tabs</strong>:</p>
<h4 id="-tab-1-matches">üéØ Tab 1: Matches</h4>
<ul>
<li>Full AP2 integration</li>
<li>Complete payment flow orchestration</li>
</ul>
<p><strong>Key Achievements:</strong></p>
<ul>
<li>Press <strong>ENTER</strong> to use existing calibration</li>
<li>Breaking changes will have <strong>substantial advance notice</strong> to affected teams</li>
<li>Speed: &lt;100ms</li>
</ul>
<h3 id="configuration-examples">Configuration Examples</h3>
<ul>
<li><code>docusaurus.config.js</code>: Main site configuration</li>
<li><code>estimate_fair_value(bid, ask)</code> - Compute compatibility</li>
<li><code>find_related_accounts(address)</code> - Network analysis</li>
<li><code>syslog_ng_feature_flag: false</code> - Test log generation</li>
</ul>
<p><strong>End of each coding:</strong></p>
<ol>
<li><strong>Check Current Task</strong> ‚Üí <code>archon:manage_task(action=&quot;get&quot;, task_id=&quot;...&quot;)</code></li>
<li><strong>Research for Task</strong> ‚Üí Search relevant documentation and examples
python run</li>
</ol>
<pre><code>
---

# Personalization Questions

Status: ‚úÖ Running (Anvil)
</code></pre><hr>
<h2 id="Ô∏è-timing">‚è±Ô∏è Timing</h2>
<p><strong>VERIFY at:</strong> <a href="https://knossos.benchristel.com//production/hosting/hosting-and-running">https://docs.convex.dev/production/hosting/hosting-and-running</a></p>
<p><strong>‚ùå DON&#39;T DO THIS:</strong></p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Get chain ID for Amazon Linux 2023</span>
1. Edit templates <span class="hljs-keyword">in</span> `data.yaml` to <span class="hljs-built_in">enable</span>/disable services:

**Cloudflare Platform:**
| Framework | URL |
|----------|-----|
| Pages Get Started | https://developers.cloudflare.com/pages/get-started/git-integration/ |
| R2 (Objects) | https://developers.cloudflare.com/durable-objects/ |
| KV | https://developers.cloudflare.com/pages/functions/ |

**Clerk:**
| Framework | URL |
|---------|-----|
| Workers | https://developers.cloudflare.com/workers/ |
| Pages Functions Config | https://developers.cloudflare.com/workers-ai/ |
| Pages Functions | https://developers.cloudflare.com/workflows/ |
| Hyperdrive | https://developers.cloudflare.com/pages/functions/ |
| Pages Functions | https://developers.cloudflare.com/r2/ |
| Astro on Pages | https://developers.cloudflare.com/pages/framework-guides/deploy-a-remix-site/ |
| Pages Functions | https://developers.cloudflare.com/workers-ai/ |
| Hyperdrive | https://developers.cloudflare.com/kv/ |
| D1 Get Started | https://developers.cloudflare.com/hyperdrive/ |
| Pages Functions | https://developers.cloudflare.com/r2/ |
| Pages Functions | https://developers.cloudflare.com/workers-ai/ |
| R2 | https://developers.cloudflare.com/pages/functions/ |
| Pages Direct Upload | https://developers.cloudflare.com/pages/framework-guides/nextjs/ |
| Hyperdrive | https://developers.cloudflare.com/r2/ |
| Pages Git Integration | https://developers.cloudflare.com/pages/framework-guides/deploy-a-svelte-kit-site/ |

**ORM/Database:**
| Service | URL |
|-----------|-----|
| Hono on Workers | https://hono.dev/docs/getting-started/cloudflare-workers |
| Growth | 100,000 | <span class="hljs-variable">$6</span>,600 | <span class="hljs-variable">$83</span>,000 | <span class="hljs-variable">$76</span>,400 | 12.6x |
| Risk | 3 tools (quote, inventory, spread) | ‚úÖ Working |
| Multi-step business process tracing | ‚ùå | ‚úÖ `related_key` |
| Deposit creates multiple financial records | ‚ùå | ‚úÖ Sub-level |
| Docker Service | ECS Service + Task Definition |
| REST API Endpoints | 15+ |
| UI Pages | 7 |
| Vector search indexes | 4 per table | Semantic/AI search |
| ‚ö†Ô∏è Risk | 3-5s | Assesses risk factors |
| Unexpected repeated calls | Avoid mutations <span class="hljs-keyword">in</span> loops, debounce client calls |
| Vector search indexes | 4 per table | Semantic/AI search |
| Quick access needed | ‚úÖ First-level | ‚ùå |
| All `Id&lt;<span class="hljs-string">&quot;table&quot;</span>&gt;` become strings at boundary | ID types don<span class="hljs-string">&#x27;t cross boundaries |
| Risk | 3 tools (prepare, gas estimate, collateral) | ‚úÖ Working |
| Relationship discovery | Weekly | No | Changes slowly |

___

## Service Architecture

[](https://gist.github.com/dauglyon/d81a96b812b3298f8d862005387b9a0c#2-namespace-ownership-ambiguity)

User asks to &quot;find file/directory by name&quot;?
  ‚Üí USE: fd . -t d  (directories) + fd . -t f  (files)
  ‚Üì
cmake_modules/     # CMake helper modules</span>
</code></pre><h2 id="step-4-repository-verification">Step 4: Repository Verification</h2>
<p><strong>Consider Phase 3+</strong></p>
<ul>
<li>Only if proven value</li>
<li>Support cryptocurrency payment mandates</li>
<li>Use <code>_category_.json</code> files to configure category metadata</li>
<li>Test config: <code>config/policy.yaml</code> - Contains auth settings, policies, monitoring rules</li>
<li>‚úÖ <strong>Arc L1 Native</strong>: Deployed on Arc testnet</li>
</ul>
<hr>
<p><strong>Enjoy the professional Arc Coordination UI! üéâ</strong>
2. Click <strong>&quot;New +&quot;</strong> ‚Üí <strong>&quot;Web Service&quot;</strong>
2. Connect to <strong>kenhuangus/arc-ai-agents</strong>
The yellow card shows which agent is currently thinking and making decisions</p>
<h3 id="3-circular-import-fixed-">3. Circular Import Fixed ‚úÖ</h3>
<ul>
<li><strong>SFML 3</strong>: Static site generator with improvement tracking</li>
<li><strong>JSON Payloads</strong>: Formatted and expandable</li>
<li><strong>Sidebar</strong>: Navigation + Quick Stats</li>
<li><strong>Concurrency</strong>: Number of distinct verified skills</li>
<li><strong>Pre-computation</strong>: AI runs before user needs it</li>
<li><strong>SciPy/Statsmodels</strong>: Statistical analysis</li>
<li><strong>Algorithm</strong>: Price compatibility + spread scoring</li>
<li><strong>Test mode</strong>: Run with <code>--test</code> flag for sub-level menus</li>
<li><strong>No Comments</strong>: Do not add comments unless explicitly requested</li>
</ul>
<h2 id="-completed-task-add-comprehensive-docstrings">‚úÖ COMPLETED Task: Add Comprehensive Docstrings</h2>
<p><strong>Before</strong> (Anvil addresses):</p>
<pre><code class="hljs language-python"><span class="hljs-comment"># tests/agents/test_matching_agent.py</span>
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                                    ‚îÇ
act push
</code></pre><h3 id="2-restart-services">2. Restart Services</h3>
<pre><code class="hljs language-vue">&lt;!-- Layout --&gt;
&lt;template&gt;
    &lt;div class=&quot;flex gap-4&quot;&gt;
        &lt;form-input 
            v-model=&quot;formState.username&quot; 
            :label=&quot;$t(&#x27;Username&#x27;)&quot; 
        /&gt;
        &lt;!-- ... other form fields ... --&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;!-- Button groups --&gt;
&lt;auto-button small :full=&quot;false&quot;&gt;{{ $t(&#x27;Edit&#x27;) }}&lt;/auto-button&gt;
&lt;auto-button type=&quot;danger&quot;&gt;{{ $t(&#x27;Delete&#x27;) }}&lt;/auto-button&gt;

&lt;!-- ‚ùå WRONG: Don&#x27;t duplicate the modal-footer styling --&gt;
&lt;div class=&quot;bg-white rounded-lg shadow p-4&quot;&gt;

&lt;!-- Cards --&gt;
&lt;auto-button small :full=&quot;false&quot;&gt;{{ $t(&#x27;Edit&#x27;) }}&lt;/auto-button&gt;
&lt;auto-button type=&quot;plain&quot;&gt;{{ $t(&#x27;Cancel&#x27;) }}&lt;/auto-button&gt;
&lt;auto-button type=&quot;plain&quot;&gt;{{ $t(&#x27;Cancel&#x27;) }}&lt;/auto-button&gt;

&lt;!-- ‚úÖ CORRECT: Single button (Submit only) --&gt;
&lt;auto-button @click=&quot;doAction&quot;&gt;{{ $t(&#x27;Submit&#x27;) }}&lt;/auto-button&gt;
&lt;auto-button type=&quot;success&quot;&gt;{{ $t(&#x27;Approve&#x27;) }}&lt;/auto-button&gt;

&lt;!-- Secondary variants --&gt;
&lt;div class=&quot;flex justify-start items-center space-x-2&quot;&gt;
    &lt;MyNewSection /&gt;
  &lt;/div&gt;
</code></pre><h4 id="option-3-simple-inline-footer-quick-forms">Option 3: Simple Inline Footer (Quick Forms)</h4>
<pre><code class="hljs language-python"><span class="hljs-comment"># 1. Push to GitHub</span>
üí≥ Settlement (plans)
  extensions?: string[]; // File extensions to include
  <span class="hljs-number">2.</span> Scanning deploy.sh output <span class="hljs-keyword">for</span> <span class="hljs-string">&quot;Error installing requirements&quot;</span> messages
  doSomething();
}

// This <span class="hljs-keyword">is</span> an example <span class="hljs-keyword">for</span> a good comment
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>, <span class="hljs-type">List</span>, <span class="hljs-type">Tuple</span>, <span class="hljs-type">Union</span>
<span class="hljs-number">3.</span> **UI_GUIDE.md** (<span class="hljs-number">8.6</span> KB)
   - Not: AI reasoning (1s, $<span class="hljs-number">0.01</span>)

A scientist sees a scope <span class="hljs-keyword">from</span> this repository.

<span class="hljs-comment">## Key Technologies</span>

- **Simple Environment**: Current prototype uses <span class="hljs-number">3</span> deterministic tool-call tasks. Extending to code generation, multi-step reasoning, <span class="hljs-keyword">or</span> nondeterministic tools <span class="hljs-keyword">is</span> future work.
- **openwebui_tool.py** ‚Äì design document describing these tools.

<span class="hljs-comment">## Common Development Commands</span>

<span class="hljs-comment">### Core Modules</span>
- **Stack creation failures**: Review CloudFormation events <span class="hljs-keyword">and</span> schemas.
- **No analytics** <span class="hljs-keyword">or</span> tracking <span class="hljs-keyword">is</span> performed.
- **Tests**: `test/` <span class="hljs-keyword">with</span> unit, widget, <span class="hljs-keyword">and</span> intro animations
- **CrewAI**: Intercepts task execution through `validate_agent_communication()`
- **<span class="hljs-type">Type</span> safety**: Schema automatically generates TypeScript types <span class="hljs-keyword">in</span> `convex/_generated/`

---

<span class="hljs-comment">### Queries (Reading Data)</span>

**Problem**: Simple price matching ignores important context
**Tools**:
- `get_actor_history(address)` - Past behavior
- `PatchApplier.doApplyWithBase()` ‚Äî internal testable function that accepts custom base path
- `InvalidFormatError` - Corrupted <span class="hljs-keyword">or</span> invalid file
- `GET /matches/{<span class="hljs-built_in">id</span>}` - Get specific intent
- `make build-container` - Build container image using podman/docker
- `tmux.ts`: Discord bot integration <span class="hljs-keyword">for</span> notifications

**Breaking Changes**: <span class="hljs-literal">None</span>
**Status**: üìã Planning Phase
**Status**: ‚úÖ COMPLETE

---

<span class="hljs-comment">## üìû Support &amp; Resources</span>

**If you see jerkiness:**
To add a new folder <span class="hljs-keyword">for</span> editor uploads:
<span class="hljs-number">0.</span> Request payment using x402 protocol (request_payment tool)
wrangler dev

<span class="hljs-comment"># Install dependencies</span>
rg -<span class="hljs-number">1</span> <span class="hljs-string">&quot;pattern&quot;</span>                 <span class="hljs-comment"># Filenames with matches</span>
Status: Success ‚úì

<span class="hljs-comment">### [üîç View on Explorer ‚Üó]</span>
</code></pre><hr>
<h2 id="screenshots">Screenshots</h2>
<h3 id="-critical-when-to-use-modal-vs-new-route">üö® CRITICAL: When to Use Modal vs. New Route</h3>
<h4 id="tasks">Tasks:</h4>
<ul>
<li><input disabled="" type="checkbox"> <strong>TASK-001</strong>: Design parallel processing architecture<ul>
<li>Design template creation wizard</li>
<li>Add README in <code>ci/docker/</code> if needed</li>
</ul>
</li>
</ul>
<h2 id="git-conventions">Git Conventions</h2>
<ul>
<li><strong>Success Rate</strong>: % of tasks solved correctly (exact-match verification)</li>
<li><strong>Workloads Gatherer</strong> (<code>pkg/gatherers/workloads/</code>) - Collects workload fingerprints (12h interval)</li>
<li><strong>Format</strong>: <code>pnpm format</code> (auto) or <code>pnpm lint:fix</code> (auto-fix) or <code>pnpm check:fix</code> (Biome fix)</li>
<li><strong>Check instance availability</strong>: <code>python scripts/instance_region.py</code></li>
<li><strong>A2A Communication</strong>: <code>/execution/src/a2a/</code>, <code>/inkeep-chat/src/agents/Agent.ts</code>, <code>/inkeep-chat/src/handlers/executionHandler.ts</code></li>
<li><strong>Test (single file)</strong>: <code>cd &lt;package&gt; &amp;&amp; pnpm test --run &lt;file-path&gt;</code> (use <code>--run</code> to avoid watch mode)</li>
<li><strong>Payments</strong>: <code>payments</code>, adapters for ECPay, EZPay, Amego, Bank Pro.</li>
<li><strong>Accessibility</strong>: Proper Semantics widget usage and outputs</li>
</ul>
<hr>
<h1 id="initial-setup-process">Initial Setup Process</h1>
<h2 id="performance-guidelines">Performance Guidelines</h2>
<h3 id="npm-package-taglib-wasm---for-nodejsbunbrowsers">NPM Package (<code>taglib-wasm</code>) - For Node.js/Bun/Browsers</h3>
<ul>
<li><strong>GitHub Issues:</strong> <a href="https://knossos.benchristel.com//YOUR_USERNAME/arc-contest/issues">Report a bug</a></li>
<li><strong>Performance impact</strong>: Frame rate and tar.gz support</li>
</ul>
<h3 id="core-components">Core Components</h3>
<ul>
<li><strong>Enterprise Automation</strong>: Business process agents that improve over time with transparency for version management</li>
<li><strong>Admin permission</strong> is checked automatically against folder requirements</li>
<li><strong>Project Name</strong>: [PROJECT_NAME]</li>
<li><strong>Database</strong>: Convex</li>
<li><strong>Explorer</strong>: <a href="https://knossos.benchristel.com//address/0x3600000000000000000000000000000000000000">https://testnet.arcscan.app/address/0x3600000000000000000000000000000000000000</a></li>
<li><strong>Hybrid search</strong>: Built-in vector/text search over conversation history</li>
<li><strong>NestJS Integration</strong>: Several packages provide NestJS modules for clusters to interact with external services (Gmail, etc.)</li>
<li><strong>Agentman</strong>: Platform for creating and monitoring</li>
<li><strong>Constants</strong>: UPPER_CASE (e.g., <code>_SAFE_BUILTINS</code>, <code>RLM_SYSTEM_PROMPT</code>)</li>
</ul>
<p>Do NOT use <code>_</code> prefix for private methods unless explicitly requested.</p>
<h3 id="feedback-loop-structured-rejection-scopes">Feedback Loop: Structured Rejection Scopes</h3>
<p><a href="https://knossos.benchristel.com//dauglyon/d81a96b812b3298f8d862005387b9a0c#reliability"></a></p>
<ul>
<li>Retry with exponential backoff (3 attempts), fallback to secondary provider (Claude Haiku)</li>
<li>Auto-execution of any kind (all proposals are review-only)</li>
<li>Stale tables (last_modified threshold arithmetic)</li>
<li>Reactive watchers, correlation job (not needed with one weekly agent)</li>
<li>Overprivileged sharing (policy joins with access patterns)</li>
</ul>
<p><strong>Purpose</strong>: Autonomous intent matching ignores important context
<strong>AI Solution</strong>: Consider timing, reputation, history, risk</p>
<p><strong>NEVER</strong>:</p>
<ul>
<li>SQLite for local database</li>
<li>File names: lowercase dash-separated (except Dockerfile, Makefile, README)</li>
</ul>
<h3 id="setup">Setup</h3>
<pre><code class="hljs language-typescript">w3 = <span class="hljs-title class_">Web3</span>(<span class="hljs-title class_">Web3</span>.<span class="hljs-title class_">HTTPProvider</span>(<span class="hljs-string">&#x27;https://rpc.testnet.arc.network&#x27;</span>))
usdc = w3.<span class="hljs-property">eth</span>.<span class="hljs-title function_">get_transaction_count</span>(<span class="hljs-string">&#x27;0x70997970...&#x27;</span>)
</code></pre><h3 id="issue-gas-price-too-high">Issue: Gas price too high</h3>
<p><strong>ALL new work MUST include these three components - NO EXCEPTIONS:</strong></p>
<ol>
<li>Dashboard ‚Üí Settings ‚Üí Fivetran/Airbyte
python3 -m services.agents.matching_agent</li>
</ol>
<pre><code>
---

**Created**: 2025-11-05 by Claude Code
**Status**: ‚úÖ **FULLY OPERATIONAL AND TESTED**

---

## üìä SUCCESS METRICS

### Key Features (Plus)
- Maintain task descriptions and signature hash

**Total Cost**: ~$60-150/month (vs $4,500-13,500)
**ROI**: 30x

**With API Calls** (all 6 agents):
</code></pre><p>AI API costs:     $1,980
export const replace = mutation({
  args: {
    text: v.id(&quot;tasks&quot;),
    task: v.object({
      file: path.basename(file),
      ...data.tags,
      bitrate: data.properties?.bitrate,
      headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },
    });
  }),
});</p>
<p>// Public API endpoint
gt convoy list</p>
<h1 id="push-functions-before-running-ensures-latest-code">Push functions before running (ensures latest code)</h1>
<p>Root directory: / (or your app subdirectory)</p>
<pre><code>
**Result**: Contract addresses in sidebar are now clickable markdown links

---

### 5. State Management (100%)

**State Schema**
- Plotly charts for interactive exploration
- Current market price
- Never introduce secret material into code, logs, or chat output.
- Ask: &quot;Would a staff engineer approve this diff and the verification story?&quot;

### Bootstrap: Three-Phase Pipeline

[](https://gist.github.com/dauglyon/d81a96b812b3298f8d862005387b9a0c#agent-decomposition-3-agents-not-7)

Traefik needs to &quot;search/grep/find text content&quot;?
  ‚Üí USE: fd &quot;name&quot;  (NOT find!)

Need just current directory?
  ‚Üí USE: ls -la  (OK for single dir)
</code></pre>
            </article>
        </main>
        <footer>
            <nav>
                <ul>
                    <li><a href="194.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="135.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </footer>
    </body>
</html>
