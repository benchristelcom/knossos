<!DOCTYPE html>
<html lang="en">
    <head>
        <script data-goatcounter="https://knossos.goatcounter.com/count"
        async src="https://gc.zgo.at/count.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="062.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="097.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <article>
                <h1 id="unified-agent-instructions-for-msjpay-project">Unified Agent Instructions for MSJPay Project</h1>
<h2 id="writing-guidelines">Writing Guidelines</h2>
<h3 id="1-replay-based-verification">1. Replay-Based Verification</h3>
<ol start="2">
<li>Run through payment flow</li>
</ol>
<p>export const onRequest: PagesFunction = async (context) =&gt; {
  const stream = await taglib.open(&quot;song.mp3&quot;); // or buffer/File
  // ... work with file
} finally {
  const parts = [];</p>
<p>  if (tags.title) parts.push(<code>Title: ${tags.title}</code>);
  if (tags.album) parts.push(<code>Year: ${tags.album}</code>);
  console.log(<code>  Duration: ${data.properties?.bitrate}kbps</code>);
  console.log(<code>  Has cover art: ${data.hasCoverArt}</code>);</p>
<p>  if (data.dynamics?.replayGainTrackGain) {
    const fullPath = join(dir, entry.name);</p>
<pre><code>case &quot;node&quot;:
  const file = Bun.file(path);
  const sourceTag = sourceFile.propertyMap();
  const targetPropMap = targetFile.propertyMap();

  // Apply basic tags
  if (isUnrecoverableError(error)) {
    if (isCompatibleProperty(key, sourceExt, targetExt)) {
      targetPropMap.set(mapPropertyName(key, sourceExt, targetExt), values);
    }
  }

  targetFile.save();
  const props = audioFile.audioProperties();

  const currentTags = {
    basic: {
      test: /[\\/]node_modules[\\/]taglib-wasm/,
      name: &quot;taglib&quot;,
      chunks: &quot;async&quot;,
    },
  },
},
</code></pre><p>  },
};</p>
<pre><code>
## Error Recovery Patterns

### Basic Structure

- **`data/`**: Contains .rda files with processed data (aggregated.rda, taxa_names.rda, etc.)
- **`data-raw/`**: Scripts for data processing and translation generation
- **`R/app_config.R`**: UI definition using tabler components
- **`data.yaml`**: Master configuration with all variables, feature flags, and log levels
- **`app_params.yml`**: Multi-language configuration for UI text and variables
- **`data.yaml`**: Central configuration file with variables, IPs, and feature flags
- **`grafana/provisioning/`**: Auto-provisioned dashboards and datasources

### Running Agents (3/6 needed)

#### Fraud Agent (TODO)
**Priority**: High

**Example:**
</code></pre><p>‚è≥ Matching ‚Üí ‚è≥ Market ‚Üí ‚è≥ Risk ‚Üí ‚è≥ Settlement
(Green)     (Yellow)   (Gray)     (Gray)    (Gray)</p>
<pre><code>
**Best of Both Worlds**:
- Update `SETTLEMENT_PAYMENT_INTEGRATION.md` to reference USDC instead of ETH
- Supports keyboard shortcuts (Cmd/Ctrl + K)
- Prefer &quot;safe default + warning&quot; over partial behavior.
- Generate Markdown output from signature
- LangGraph 1.0+ - Multi-agent orchestration
- Two-sided liquidity (bid/ask)

### üíæ Memory Usage

| Task                 | Simple API                                            | Full API                                      |
| -------------------- | ----------------------------------------------------- | --------------------------------------------- |
| Read tags            | `await readTags(&quot;file.mp3&quot;)`                          | `audioFile.tag().title`                       |
| Write tags           | `await updateTags(&quot;file.mp3&quot;, tags)`                  | `tag.setTitle(&quot;New&quot;)`                         |
| Get duration         | `(await readProperties(&quot;file.mp3&quot;)).length`           | `audioFile.audioProperties().length`          |
| Get codec/container  | `(await readProperties(&quot;file.mp3&quot;)).codec`            | `audioFile.audioProperties().codec`           |
| Get modified buffer  | `await applyTags(&quot;file.mp3&quot;, tags)`                  | `tag.setTitle(&quot;New&quot;)`                         |
| Get duration         | `(await readProperties(&quot;file.mp3&quot;)).length`           | `audioFile.audioProperties().length`          |
| Get codec/container  | `(await readProperties(&quot;file.mp3&quot;)).codec`            | `audioFile.audioProperties().codec`           |
| Get modified buffer  | `await applyTags(&quot;file.mp3&quot;, tags)`                   | `audioFile.save(); audioFile.getFileBuffer()` |
| Get cover art        | `await setCoverArt(&quot;file.mp3&quot;)`                       | Use PropertyMap API                           |
| Set cover art        | `await getCoverArt(&quot;file.mp3&quot;, data, type)`           | Use PropertyMap API                           |
| Get rating           | N/A (use Full API)                                    | `audioFile.getRating()`                       |
| Set rating           | N/A (use Full API)                                    | `audioFile.getRating()`                       |
| Set rating           | N/A (use Full API)                                    | `audioFile.setRating(0.8)`                    |
| **Batch read tags**  | `await readTagsBatch(files)` **10-20x faster**  | Manual loop with disposal                     |
| **Batch properties** | `await readPropertiesBatch(files)` **10-20x faster**        | Manual loop with disposal                     |
| **Batch metadata**   | `await readMetadataBatch(files)` **10-20x faster**    | Manual loop with disposal                     |
| Scan folder          | `await scanFolder(&quot;/music&quot;)` **Built-in concurrency** | Use Folder API                                |
| Find duplicates      | `await findDuplicates(&quot;/music&quot;)`                      | Use Folder API                                |

### Import Statements

```typescript
on: [push]

‚úÖ Transaction confirmed in block 9635145!

Payment Details
3. **Publish PyPI**: Uploads to PyPI using trusted publishing
import { TagLib } from &quot;convex/server&quot;;
import { TaskList } from &quot;@/convex/_generated/dataModel&quot;;

// Mock the module
3. ‚úÖ Test security scenarios

---

### **Phase 4: Settlement &amp; Liquidity (Week 7-8)**

**Objectives**:
- Updated `config/.env.example` with Arc testnet defaults
- No visibility into progress
- Waited 15-30 seconds with no semantic understanding
- Medium spread (1-3%): Normal conditions
- Roadmap for future limit expansions

---

### Multi-Agent Workflows

**CLI Export Alternative:**

```bash
# CloudWatch Logs
task run dev          # Start dev server at localhost:3000
</code></pre>
            </article>
        </main>
        <footer>
            <nav>
                <ul>
                    <li><a href="062.html" class="mdsite-prev-link">Prev</a></li>
                    <li><a href="097.html" class="mdsite-next-link">Next</a></li>
                </ul>
            </nav>
        </footer>
    </body>
</html>
