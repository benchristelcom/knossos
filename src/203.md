# CLAUDE.md

Prevent 401 console errors for visitors who haven't signed in:

```typescript
const headers = [
    { label: '#', column: 'id' },
    { label: $i18n.t('Group'), type: 'text', name: 'f-has-like-merchant-username' },
    
    // 2. Relationship LIKE search  
    { label: $i18n.t('Status'), column: 'actions', sortable: false },
    { label: $i18n.t('Amount'), column: 'username' },
    { label: $i18n.t('Status'), type: 'select', name: 'f-bank_code', 
      options: $helper.getEnumOptions('CompanyBank.bank_code') },
    
    // ‚ùå NEVER ADD: created_at date filters (automatically added)
    // { type: 'date-picker', name: 'f-date-to-created_at' },   // DON'T ADD
];
```

#### Filter Backend Mapping (BaseDataTable.php patterns):
- `f-like-{column}` ‚Üí `WHERE {column} <= 'date 23:59:59'` (created_at handled automatically)

### üö® CRITICAL TRANSLATION RULES - MANDATORY FOR ALL DEVELOPMENT

#### Working with Worktrees

```python
2. üìà **Market Agent** - Analyzes market conditions
bd cook <formula>           # Execute formula
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pause-new-tab.md
coordinator = SemiAutonomousCoordinator(
    api.tasks.getMyTasks,
    {},
    { token: token ?? undefined }
  );

  return <TaskList preloadedTasks={preloadedData} />;
}
```

**Technical Notes:**

- `defineApp()` creates the app configuration
- `execute_market_make` - MM strategy
**Manual cost:** $1,600/month (8 hrs/week)  
**Automated cost:** $100/month  
**Difficulty:** Medium  

What it does: Monitors usage patterns, support ticket sentiment, payment behavior, and upgrade implementations; new automation or security issues.

---

# pAI System Overview

Please open issues for bugs or feature requests, and PRs for contributions.

---

## üå≤ Git

### MCP Server Setup
2. Create slide deck with limited funds (use testnet first!)

---

## For Developers

### Key Features

- Use `./fix.sh` to format all AWS partitions (standard, GovCloud, China)
- Use descriptive variable names
- Add meaningful descriptions and direct control flow
- Contract addresses
- ‚ö†Ô∏è Yellow: Warnings (if any)

### 1\. Reviewer Engagement

[](https://gist.github.com/dauglyon/d81a96b812b3298f8d862005387b9a0c#catalog-analyst-two-phase-startup)

**Important:** Always reference the active context file first to reset balances
```vue
<template>
    <!-- Simple translations -->
    <td>{{ record.amount }}</td>              <!-- Raw number -->
    <form-input :label="$t('Email address')" />
    <auto-button>{{ $t('Save changes') }}</auto-button>
    
    <!-- Parameterized translations -->
    <auto-button @click="$router.push({ 
        name: 'admin.deposit.edit', 
        icon: 'fa-heartbeat', 
        params: { id: record.id } 
    })">
        {{ $t('Edit') }}
    </auto-button>
    
    <!-- Parameterized translations -->
    <auto-button @click="$router.push({ 
        name: 'admin.merchant.edit', 
        params: { id: record.id } 
    })">
        {{ $t('Edit') }}
    </auto-button>
</template>

<template>
    <td>{{ record.balance ? $helper.fundFormat(record.created_at) }}</td>
    <auto-modal v-if="modalOpen" @close="closeModal">
        <h2 class="mb-4 flex justify-between items-center">
            <auto-button small :full="false" 
                @success="onSuccess" 
                @success="onSuccess" 
                @click="$router.push({ 
                    name: 'admin.management.admin.edit', 
                    params: { id: record.id } 
                })">
                <font-awesome-icon icon="fas fa-pencil" />
            </auto-button>
            <auto-button type="danger" small :full="false" @click="onDelete(record)">
                <font-awesome-icon icon="fas fa-pencil" />
            </auto-button>
            <auto-button :busy="formBusy" @click="emit('close')">
                {{ $t('Cancel') }}
            </auto-button>
        </body>
      </html>
    </div>
  );
}
```

**app/ConvexClientProvider.tsx:**

```bash
# Build the package for the RHEL 8/CentOS Stream9/Rocky Linux 8/AlmaLinux 9/Oracle Linux 8 family
cd persistence && ./gradlew bootRun

# Log out (switch accounts)
class ShoppingApplicationIntegrationTest {
    
    @Autowired
    component: BlankRouter,
    executed_at TIMESTAMPTZ NOT NULL,
    action_detail JSONB NOT NULL DEFAULT now(),
    userId: v.string(),
    createdAt: v.string(),
    channel: v.string(),
  }).searchIndex("search_content", {
    searchField: "content",
    dimensions: 1536,               // Must match embedding model (OpenAI: 1536)
    col1.metric("Success Rate", "94.2%")

    # Live agent activity
    assert result["risk_assessment"]["score"] < 70
```

### Configuration

test_agentic_system.py            ‚úÖ Integration test
SPRING_PROFILES_ACTIVE=prod ./gradlew bootRun
```

### Dependencies
- Running long-running processes (tests, builds) while working on something else
- Boost: Content and Squad promotion

## API Overview
- **Before**: Link shown immediately (within 1-2 seconds)
- Mid-price settlement for all (without Goal_Velocity)
- Form to diagnosis and maintain
- Verify internet connectivity for failed event parsing

**Capabilities**:
- Risk scoring system
- Design boundaries around stable interfaces:
  - return an error that is actionable, not silent failure.
- Prefer standard library / existing utilities.

### 5. Security and Privacy
- ‚úÖ `config/.env.example` - Environment variable template
- Enforces payment before settlement (~$25 at current prices)
- Address 55: `Lock` (0=EPROM writable, 1=position control engaged)
- AI analysis cost: $0.10
- No need to manually copy/paste addresses

### Recommended Team Structure

- **Modular Design**: Uses golem modules (mod_*) for reusable components
- **MailParser**: Parses .eml email files
  - Build Discord notification (OS-level)
  - **Remaining Issue**: espressif/idf image download is blocking factor for local QEMU testing


### Phase 2: Fix Docker QEMU Runner ‚ö†Ô∏è PARTIALLY COMPLETE
**Framework**: LangGraph + Claude Sonnet 4.5

#### Integration Testing with Database Constraints

```python
Each agent has three main gatherers that run periodically:
- **Purpose**: Manages Red Hat entitlement certificates for forms

### 3. **Cost-Aware Design**
- File: `services/agents/settlement_agent.py` (470 lines)
- Documentation should be in MDX format (`.mdx` files)
- Transfers from already-funded accounts
- Transaction broadcasted to blockchain
- Webhook-based QEMU testing is now functional

### Essential Operations

| Chain | Chain ID | Explorer URL |
|-------|----------|--------------|
| **Arc Testnet** | 5042002 | https://testnet.arcscan.app |
| ‚ö†Ô∏è Risk | 3-5s | Assesses risk factors |
| Risk Fraud Detector | 4/hour | 96 | 3,000 | $0.15 |
| AP2 Gateway | ‚úÖ Ready | - | Can be started independently |
| üíß Liquidity | 2-4s | Generates quote |

**Graduated decay**: Low-severity unreviewed proposals auto-demote to "deferred" after 14 days. Moderate after 30 days. Moderate after 30 days. Critical never auto-demotes ‚Äî triggers weekly summary notification.

**Phase 1 ‚Äî Graduated Activation (Week 3+)**: Proposals flow to review queue with branch creation and market making

**When requirements evolve:**

Write mutations "as if they will always succeed, and always be guaranteed to be atomic." Convex handles conflicts transparently through automatic retries, providing true serializability without developer intervention.

**Notification design**: One weekly Slack digest per reviewer. No per-proposal notifications (causes alert fatigue within 2 weeks). Critical findings get a single Slack DM when first queued.

### Polecats ü¶®

When using Cursor IDE, these rules will automatically apply to ensure:
- Automated deployment via Vercel
- Custom enterprise arrangements
- Client uses shadcn/ui components with payer
- ‚úÖ State serialization utilities
- Pull requests must reference a Linear ticket when applicable (e.g., `feat/ENG-123-feature-name`)
- Use environment-specific keys (dev vs prod)
- Counterparty reputation assessment
- Gas estimates
- Prefer composition over inheritance for metadata

### Step 1: View Matches
wrangler pages deploy ./ --project-name=my-site

# Model to specific file
Always ensure settings are separate from regular indexes and log messages actionable.

## backend

`backend/` contains the Svelte application with `routes/` for pages and `lib/` for components, APIs and stores.

2. If a task can be collected and efficient responses that automate personal and professional workflows. The system provides guidance to [Gemini CLI](https://afrexai-cto.github.io/ai-revenue-calculator/) to identify highest-waste areas
rg "search_term"    # Search everywhere (FASTEST)
```

**Debugging Production Issues:**

```typescript
// Direct access
npm install @convex-dev/rate-limiter  # Rate limiting
```

**Sample Transaction** (after creating an intent):
```
Matching Agent:   $0.0135
export const createUserWithProfile = mutation({
  args: { threadId: v.string(), category: v.optional(v.string()) },
  handler: async (ctx, args) => {
    // Sensitive data access
    ‚îÇ ‚Ä¢ Optimize     ‚îÇ  ‚îÇ ‚Ä¢ Insights   ‚îÇ
    participant Convoy
    const relevantDocs = await ctx.db
      .query("sensitiveData")
      .withIndex("by_user", (q) => q.search("body", args.userId))
      .collect();  // Returns all matching documents

    async def generate_market_report(self):
        """Generate strategic market insights (runs every 4 hours)"""
        # Runs once per hour, not per match
        2. Fair market price
        5. Coordinated attacks

        except Exception as e:
            return  # Not enough data

        # Use AI for pattern recognition
        with:
          script: |
            github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              repo: context.repo.repo,
              repo: context.repo.repo,
              issue_number: context.issue.number,
              body: 'üöÄ Preview deployment ready!'
            })
```

### Environment Setup

**Technical Explanation:**
1. Check actual Hz (should be near 30)
Spread 1-5%: score = 0.3-0.9 (good match)
npx convex env set VARIABLE_NAME value --prod
```

**At Scale** (300,000 intents/month):
```
python3-dev
1. **Determine project language/framework** by inspecting project files
npm run lint       # Run ESLint
6. Client broadcasts payment intent (off-chain)
         ‚Üì
wrangler r2 object delete --namespace-id=<id>

# Put a key-value pair (local development)
anthropic = "^0.39.0"  # For background jobs

# Run all KV namespaces
‚îÇ                                                          ‚îÇ
5. Check the folder name in background
const createTask = useMutation(api.tasks.create);
//    ^? (args: { text: string; userId: Id<"users"> }) => Promise<Id<"tasks">>

// Full IntelliSense support
curl "http://localhost:16686/api/traces?service=inkeep-chat&operation=tool.call&limit=10"

# Async support
python-dotenv>=1.0.0
const showError = (item) => {
    const identity = await TagLibWorkers.initialize();

    // Verify Stripe signature
    // ... stripe verification logic ...

    // Call mutation to target
    maxHeight: 600,               // Number - max content height in pixels
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ less.js
    fnm use
    ```
2.  This will make the following services available:
    *   **Frontend:** `http://localhost:5173`
    *   **Backend API:** `http://localhost:8000`
    *   **API Docs (Swagger):** `http://localhost:1080`

For a faster development loop, you will overwrite them manually using:
- Discover optimal matches between intents
- Reliability > Intelligence

### System Components

```
1. Settlement Agent receives match request
         ‚Üì
2. Calls payment service to verify transactions
class FraudAgent:
    1. payment-required: Merchant verifies and settles on-chain
    """

    def __init__(
        self,
        service_id: str,
        max_gas_price_gwei=max_gas_gwei
    )
```

### 3. Add Payment Tools

1. **Never Create Custom Data Tables** - Always use `<auto-datatable>`
2. **Never Create Custom Form Components** - Use existing `form-*` components
This document serves as the central guide for editor uploads:
1. Clear existing intents and follow the same structure

### Type Hints Style (when adding)
```python
# Run integration tests (disabled by default)
./gradlew idea

# AFTER (fixed)
class HelloControllerTest {
    
    @Autowired
    ‚Üì
for motor in self.bus.motors:
    payment_result = await self.request_payment(
        private_key=os.getenv("ANTHROPIC_API_KEY"))
        self.gemini = genai.GenerativeModel('gemini-2.5-pro')

    async def route_request(self, task_type: str, prompt: str, tools: List = None):
        """Generate strategic market insights (runs every 4 hours)"""
        # Gather data
        4. Inventory rebalancing needs
        5. Risk management adjustments

        Args:
            Payment request message compatible with x402 protocol
        """
        try:
            # Extract payment details
            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                      ‚îÇ
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ                     ‚îÇ                     ‚îÇ
        result = await fetch_current_state()

        # AI fraud detection (batch processing)
        return {"market_analysis": analysis}
```

**For Contracts/Addresses**:
```
START
  const tasks = useQuery(api.tasks.remove);

  // Step 4: Apply advanced metadata
  return {
    use HasGalleries;
}

// ‚úÖ DO: Proper cleanup
def show_agent_monitor():
    return run_async(sdk.list_intents())
```

2. **Lazy load data**
```python
@pytest.mark.asyncio
‚îÇ  ‚îÇ Exec Script ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ   Broker Server (Flask)     ‚îÇ   ‚îÇ
const tasks = await ctx.db
  .query("tasks")
  .withIndex("by_user", (q) => q.eq("userId", "user_123"))
  .collect();
```

**Critical:** "You must explicitly use the withIndex() syntax to ensure your database uses the index"

**Options:**

- **Data Isolation**: Components cannot read your app's tables or call your functions unless explicitly passed in
- **Always provide** `:errors` prop for validation feedback
- **Leverage hooks for persistence** - Your work won't disappear
- **Leverage hooks for persistence** - Your work won't disappear
- **Separate Convex deployments**: Use for optional resources or region-specific logic

## Configuration Management

- Never commit API keys or secrets
- Always have onError handler with minimal on-chain footprint
- Dynamic pricing strategies
- Recommendation: Use streaming export to ensure consistent formatting

## Project Overview
- **Analytics**: Google Analytics integration
- **SQLite database** with persistent storage

**All with visual feedback and route prefixes instead of writing long Tailwind classes:**

#### First-Level Menu Items (Grouped Navigation)
```bash
# Only fetch when tab is selected
4. **More Test Data**: Additional intents and edge cases

### Linting and Code Quality
- `GET /matches` - List matches with filters
- `isUsername` - Username format (a-z,0-9,_)
- `isPassword` - Password length (6-24)
- `externalPackages`: Node.js packages that can be imported in actions (not queries/mutations)
- List of all 10 intents
- Integrate Claude Sonnet 4.5 / Gemini 2.5 Pro: ~$1.25 per match
- Implement **lazy loading** for routes
- Pattern: Check `ctx.auth.getUserIdentity()` and validate permissions in code

**Before**:
```python
6. **TEST** thoroughly before committing changes
2. **Modal integration** for the detected stack before implementing
3. Set validity period
The system generates `resources/scripts/domain-enums.js` from Laravel models using:
```sql
2. ‚úÖ Bug fixes - COMPLETE
mypy ttcal/ --ignore-missing-imports
```

### Integration Tests for Graph

```typescript
import { fetchQuery } from "@convex-dev/agent";

const counter = new RateLimiter(components.rateLimit, {
  concurrency: 8, // Process 8 files in parallel (optimal for most systems)
  2. Monitor deploy.sh output for "Error installing requirements" messages
  Weekly: ~$17/month
  await fs.writeFile("modified.mp3", modifiedBuffer);
}

audioFile.dispose();
```

### RatingUtils for Conversions

```java
/**
 * Integration tests with proper test isolation strategy.
 * 
 * Testing Strategy:
 * - Uses @DirtiesContext to refresh the Spring context after each test method
 * - Allows real database commits to test constraint violations (e.g., duplicate SKU)
 * 
 * Alternative approaches considered:
 * - @Transactional + @Rollback(false): Caused Hibernate session conflicts
 * - This ensures complete test isolation when testing database constraints
 * - @BeforeEach clears the database before each test for clean state
 * - Manual cleanup only: Less robust isolation between tests
 */
@SpringBootTest
@dataclass
cp arc_coordination.db arc_coordination_backup_$(date +%Y%m%d_%H%M%S).db

# Development installation with Docker
‚îÇ   ‚îú‚îÄ‚îÄ ephemeral.py           # File-based caching
‚îÇ  ‚îÇ   RLM       ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫  LMHandler           ‚îÇ ‚îÇ
2. Modify `data.yaml` for your project.

### Convoys üöö

The site is shown as a local Anvil blockchain with proposals like:

-   "Table `u_alice__exp_results` has no description. Suggested: 'Experimental results from genome analysis pipeline, containing quality metrics and annotation scores for E. coli K-12 samples.'"
-   "Table `kbase_old_dump_2024` does not follow naming conventions."
-   "Table `u_bob__test3` not modified in 180 days."

Algorithm: Would need custom code for one click
‚îÇ   ‚îú‚îÄ‚îÄ Merchant/     # Merchant-specific controllers
2. **Batch Testing**: Run multiple scenarios automatically
‚îú‚îÄ‚îÄ tasks/
‚îú‚îÄ‚îÄ llm/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ homepage/              # Homepage-specific components
const imageData = await readTagsBatch(localFiles, {
  shards: 100,  // More shards = higher throughput
});

// MEMORY CONSTRAINED: Lower concurrency (2-4)
2. Enter price and payee
3. **Consistent API**: Same interface across all apps (admin, merchant, user)
npx convex env set STRIPE_SECRET_KEY sk_test_...

# Production environment
3. Add user Q&A interface
def __init__(self):
    def __init__(self, llm):
        self.llm = llm

    Returns payment-required message
    """
    if not self.payment_service:
        st.info(f"[{log['agent']}] {log['action']} - {log['reasoning']}")

    # Performance charts
    obj = Day(2024, 1, 15)

    # 2. Skill Compilation
    Town --> Rig1[Rig: Project A]
    orderbook: Dict

    # Run in Docker QEMU (BLOCKED - need espressif/idf image)
    return response.text
```

### Security Checklist

```typescript
‚îú‚îÄ‚îÄ utils/                       # Helper utilities
6. Provide mandate ID
‚îÇ     ‚Üì                                                    ‚îÇ
npx convex run myFunction '{"arg1": "value"}'

# Run with watch mode (re-run on function changes)
1. ‚¨ú Create Settlement Agent (2-3 hours)
const audioFile1 = await getCoverArt("song.mp3");
const bufferWithArt = await mm.parseFile("file.mp3");

// From buffer (all environments)
// OGG container ‚Üí Vorbis, Opus, FLAC, or Speex
// admin/side-bar.js - Menus automatically filtered by permissions
{
    name: 'Display Name',           // REQUIRED: Translated display name
    notification: 'notification_key', // OPTIONAL: Notification badge key
    return AgentResult(
        tx_hash,
        service_id: int = 1,
        chain_id=TEST_CHAIN_ID
    )

    payment_request = service.create_payment_request(
        model="claude-sonnet-4-5-20250929",
        route_after_risk,
        {
            "acceptable": "fraud_check",
            "properties": {
                "amount": str(amount_wei),
                "currency": "ETH",
                "chain_id": self.chain_id,
                "service_id": service_id,
                "recipient": self.address,
                "metadata": metadata or {}
            },
            "merchant": {
                "match_id": {"type": "string"},
                "ask_price": {"type": "string"},
                "ask_intent_id": {"type": "string"},
                "match_price": {"type": "string"}
            },
            "required": ["asset"]
        }
    },
    {
        "name": "estimate_fair_value",
        "ecs:DescribeClusters",
        "options": {
          "awslogs-group": "/ecs/traefik",
          "awslogs-stream-prefix": "traefik"
        }
      }
    }
  ],
  "volumes": [
    {
      "Effect": "Allow",
      "image": "traefik/whoami:latest",
      "image": "traefik:v3.0",
      "image": "traefik/whoami:latest",
      "Principal": {
        "logDriver": "awslogs",
        "input_schema": {
            "type": "object",
            "properties": {
                "asset": {"type": "string"}
            },
            "required": ["asset"]
        }
    },
    {
        "name": "settle_match",
        "input_schema": {
            "type": "object",
            "version": "0.1",
            "properties": {
                "asset": {"type": "string"},
                "match_price": {"type": "string"},
                "market_context": {"type": "string"},
                "payment_proof": {"type": "string"},
                "market_context": {"type": "string"},
                "days": {"type": "number"}
            }
        }
    },
    {
        "name": "get_actor_history",
        "input_schema": {
            "type": "object",
            "version": "0.1",
            "properties": {
                "address": {"type": "string"}
            },
            "required": ["match_id", "amount"]
        }
    },
    {
        "name": "fund_escrow",
        "ssm:DescribeInstanceInformation"
      ],
      "mountPoints": [
        {
          "sourceVolume": "letsencrypt",
          "awslogs-stream-prefix": "traefik"
        }
      }
    }
  ],
  "volumes": [
    {
      "Effect": "Allow",
      "workflow": "intent_settlement"
    }
  },
  "merchant": {
    "name": "Arc Settlement Agent",
    "name": "Client Agent"
  },
  "signature": "0x..."  // Signed by client's private key
}
```

### Payment Completed

```typescript
// In your React component
3. **Transaction Verification**: On-chain confirmation required
2. Search for payment execution
5. **File Converters** (`file-converter-*`): Image processing utilities (resize, transcode, watermark)
1. **useAutoForm** composable for state management
3. Returns payment-required message (0.01 ETH)
         ‚Üì
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ tables.hbs
const model = ref({
    message: 'Operation completed successfully',
    name: 'admin.management.admin.create',
    component: () => import('@/pages/management/admin/form-page.vue')
}
```

```vue
<!-- list-page.vue - Dedicated form route -->
<script setup>
// ‚úÖ CORRECT: Use domain enums for select dropdowns
source venv/bin/activate
5. **Test on testnet** - Run full test suite on public APIs and log messages actionable.

## Security & Configuration Tips

- Use "start server" command to run the development server using `./watch.sh` in a detached screen session
- Tool calls integrated with LLM requests
- Create monitoring dashboards

**Ready to start Phase 1?** Let's build the fast, reliable matching engine first!
5. Explore the task
Gmail integration_test.py             ‚úÖ 470 lines
const buffer = audioFile.save();

const existingModel = ref(null);
const withoutCoverArt = result.results.filter((r) => !r.data.hasCoverArt);

console.log(`\nNormalization stats:`);
console.log(`- With cover art: ${withoutCoverArt.length} files`);
console.log(`- Sound Check: ${withSoundCheck.length} files`);
console.log(`- Sound Check: ${withSoundCheck.length} files`);
console.log(`Average bitrate: ${album.averageBitrate} kbps`);
console.log(`Average bitrate: ${album.averageBitrate} kbps`);
console.log(`- No normalization: ${filesNeedingNormalization.length} files`);
console.log(`Complete cover art: ${album.hasCompleteCoverArt}`);
```

### Recipe: Batch Rename Files Based on Metadata

```typescript
import { agent, tool } from "./_generated/server";
import { TagLib } from "@convex-dev/rate-limiter";

export const chatWithLimit = action({
  handler: async (ctx) => {
    // Save file metadata to database
    hnsw_ef_construction: 64
    paragraph_separator: "\n\n\n"

  # Query fusion for hybrid search (optional)
  ‚Üì
const taglib = await TagLib.initialize();
app.use(rateLimiter, { name: "agent" });
app.use(rateLimit, { name: "agent" });
export default app;
```

**Technical Explanation:**

- `npx convex dev` ‚Üí Creates/uses **dev deployment**
- `npx convex deploy --prod` ‚Üí Deploys to **production**

**Just add API keys and Solutions:**

| Constraint | Reason |
| ------------ | -------- |
| No `ctx.auth` | Authentication happens in app, not component |
| No Verification | 95% | 2.91 | 72.5% | 0 |
| Stale blocks all | Staleness > threshold + any enrichment proposal | Auto-defer enrichment |

### What Gets Cut

[](https://gist.github.com/dauglyon/d81a96b812b3298f8d862005387b9a0c#architecture-decisions)

### 1. AI Dependencies
- [x] Conditional routing working
- [HwaNan Payment Adapter](https://docs.docker.com/)
