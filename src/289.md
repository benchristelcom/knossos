# Repository Map

Access at: `npx convex dashboard`

**Step 3a**: Add to ViewType union (around line 51):

```tsx
make dmg            # macOS DMG installer  
archon:search_code_examples(query="[specific feature] implementation", match_count=2)
```

### Environment Variables

```typescript
// âœ… ALWAYS use 'float' for money, NEVER 'decimal'
public function getCasts(): array
{
    use SoftDeletes, MultiLanguage, UploadFile, HasAllCache;  // As needed
    
    // Type casting
    faChartLine,          // âœ… NEW: Add your discovered icon
    columns: list[ColumnInfo]
    Hooks2 -.git worktree.-> GitRepo2[Git Repository]

    Hooks1 -.git worktree.-> GitRepo1[Git Repository]
    Rig1 --> Hooks1[Hooks<br/>Persistent storage]
    Town[Town Workspace<br/>via convoy list]
    asks: List[Dict]
    orderbook: Dict

    # Execution state
    Mayor->>Convoy: Report completion
    Suspended --> Active: Agent resumed
    docker compose watch
    ```
3.  Activate the virtual environment:
    ```bash
    ./scripts/generate-client.sh
    ```
2.  This will make the following services available:
    *   **Frontend:** `http://localhost:5173`
    *   **API Docs (Swagger):** `http://localhost:8000/docs`
    *   **Email Catcher (MailCatcher):** `http://localhost:8080`
    *   **Email Catcher (MailCatcher):** `http://localhost:8000/docs`
    *   **Backend API:** `http://localhost:8000`
    *   **Database Admin (Adminer):** `http://localhost:8080`
    *   **Database Admin (Adminer):** `http://localhost:8000/docs`
    *   **Backend API:** `http://localhost:8000`
    *   **Database Admin (Adminer):** `http://localhost:8000/docs`
    *   **Database Admin (Adminer):** `http://localhost:1080`

2. âœ… **ESP32** (Xtensa)
   - UI implementation summary
   - Token: USDC
   - âœ… BlinkParallel reaches "Setup complete - starting blink animation"
   - Added "ERC-20 token payments" mention

Utilities for agents live under `tools/`:

- **knowledge_tool.py** â€“ manage Knowledges.
- **cypress/** â€“ end-to-end test specifications.
- **storage/** and **data/** â€“ persisted files and default data.
- **Assets**: `assets/` for images, icons, fonts, and external services.
- **Container workflow** (`.github/workflows/container.yml`): Builds Docker images
  BUCKET: R2Bucket
  â”‚   â†“
  â†“ (executes, ~3-5 seconds)
import { scanFolder } from "taglib-wasm/workers";

async function InfiniteTaskList() {
  const tasks = await readProperties(file);
  console.log(
    `${file}: ${props.containerFormat} container, ${props.codec} codec`,
  );
}
```

### Recipe: Add Album Art / Cover Image

```vue
<!-- In list-page.vue -->
<form-contact
    workflow.add_conditional_edges(
        "matching",
        route_after_risk,
        {
            "acceptable": "fraud_check",
            "properties": {
                "filter": {
                    "confirmed": receipt['status'] == 1,
                    "finalized": False  # Wait for more confirmations
                }
            }

            logger.info(f"Payment settled on-chain: {tx_hash_hex}")
            return {
                "type": "payment-failed",
                "version": "0.1",
                "error": str(e),
                "timestamp": datetime.utcnow().isoformat()
            }

    def get_balance(self) -> Decimal:
        """Get merchant wallet balance in ETH"""
        match = state["match"]

        prompt = f"""
        Assess risk for this match:

        Match: {match}

        Determine:
        log = receipt['logs'][0]
        if 'topics' in log and len(log['topics']) > 1:
            # First topic is event signature, second is intentId
            payer_balance = self.web3.eth.account.sign_transaction(tx, self.account.key)

            # Send transaction
            max_amount: Maximum payment amount in ETH
            recovered_address = Account.recover_message(
                message_hash,
                description=description
            )
        except Exception as e:
            Payment completed message with transaction hash
        """
        try:
            # First topic is event signature, second is intentId
            message_hash = Web3.keccak(text=str(payment))

            # Recover signer address
            â”‚
            description: Human-readable description
            payment = payment_service.settle_payment_signature(payment_submission)
            rpc_url: Blockchain RPC endpoint
            service_id: Unique identifier for the service
            â”‚                  â”‚                    â”‚            â”‚
    createdAt: v.optional(v.string()),  // Optional field for Clerk integration
  })
    .index("by_clerk_id", ["clerkId"]),
});
```

**Technical Explanation:**

- **convex/_generated/api**: Exports typed function references
- **8080**: Traefik dashboard
- **auto-button.vue** - Password input with built-in React support
- **Awaitility** - Asynchronous testing utilities

## Code Formatting

- âœ… Call `TagLib.initialize()` once and reuse
- Added USDC token configuration (6 decimals)
- OpenRouter (multi-provider)
- When `Lock=0`: Motor is in free-wheel mode OR EPROM is writable
- Preview URL returned by deploy command

---

## âœ… VERIFICATION CHECKLIST

- [Image Resizer](https://www.npmjs.com/package/@rytass/file-converter-adapter-image-resizer): Sharp-based image resizing with streaming support
- [x] Installed google-generativeai (0.8.5) - Gemini 2.5 Pro
- [x] Risk agent tools work
- [ ] Move frontend.rst â†’ content/podcasts-and-episodes.rst
- [ ] Users can test and manage notification preferences

---

## ğŸ‘¥ Team

[Your Name]
- Role: Full-stack developer & AI engineer
- Requires technical knowledge
- Uploads processed data that this portal displays

## Executive Summary

**Before** (Anvil addresses):
```bash
# Integrate via Fivetran or Airbyte
# Enter development shell
import { fetchQuery } from "./_generated/server";
import { readdir } from "convex/values";

// Actions can call external APIs (queries/mutations cannot)
npx convex export --include-file-storage --path ./backup

# Deploy directly (no GitHub needed)
2. Async processing where latency doesn't matter
âœ… Mandate registered: 0x111111111111111111...
Signature: 0x937a66dcb0b4f99614...
PAYMENT_ROUTER_ADDRESS=0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0
export const getThread = query({
  tasks: defineTable({
    name: v.id("users"),
    text: v.string(),
  },
  handler: async (ctx, args) => {
    // args.email is validated before handler runs
    return await ctx.db.patch(args.counterId, {
      count: (counter?.count || 0) + 1
    });
  },
});

// Called 100 times/second â†’ conflicts!
```

**âœ… FIX: Use Sharded Counter component**

```bash
con = duckdb.connect()
loop.run_until_complete(test())

# AFTER (modern)
âœ… **Fixed**: Explorer link shown immediately after broadcast
python main.py --config chat.yaml --from docs/ --streaming query "Explain RAG"
```

**chat** - Interactive conversation mode:
```vue
<Textarea value="50" />;

// âœ… Correct: Properly controlled component
cp config default-agent claude-glm

# Copy environment config
â”‚              â”‚â”€â”€â”  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”Œâ”€â”€â”‚                  â”‚
import { query } from "taglib-wasm";

// Internal function (not accessible by apps)
time.sleep(0.01)  # Prevent bus overload during continuous reading
```

**Result:** All 27 tests pass âœ…

### Issue: "Insufficient token balance" error

**Status Update Examples:**
```jsonc
"saveChanges": "ä¿å­˜æ›´æ”¹",          // WRONG: camelCase
```

#### File Structure & Strategy
```
START
  const modifiedBuffer = audioFile.tag();
  // Forgot to dispose!
}

// âœ… GOOD: Proper cleanup
Settlement Agent:  $0.0080 (only if no matches)

The bottleneck is organized as a Python package with full context files. Always check these files for relevant information before starting work:

### ğŸ‘ Rules of Thumb:

- Updates `faramesh-python-sdk` version
- Full-text search with endpoints:
  - `get_market_price` - Fetch current market price
  - `dir/` - Directory services recipes
  - `APIError`: API server errors
  - `prepare_payment_transaction()` âœ“
  - `pcluster/` - AWS Batch recipes
  - `StorageError`: Database/storage errors
  - `load_retriever()`: Vector index creation and loading
  - `fastagent.config.yaml`: MCP server configurations
  - `X402PaymentService.__init__()` âœ“
  - `batch/` - AWS Batch recipes  
  - `storage/` - Storage solutions (EFS, FSx, S3)
  - `storage` - Optional persistent storage configuration (All or Custom mode with enable/disable per gatherer)
  - `operator.go` - Main `Operator` type for periodic gathering in production
- `examples/configs/openai.yaml`: OpenAI configuration
- `pushgateway_log_level: 'info'` - Grafana log verbosity

### Judging Criteria

Starting workflow for: 0xBID001

Docker-based QEMU locally
  - Lines 167-173: Check for merged.bin instead of PlatformIO build directory
  - Skips duplicate reports (checks `LastCheckedAt` timestamp)

### 4. BaseModel Magic Methods - CRITICAL Features

#### Phase 4: Merchant Verification
- âš ï¸ **NEVER manually edit files in `drizzle/meta/`** - these are managed by drizzle-kit
- NEVER swallow errors silently
- Local Anvil: Shows "(Local Anvil - No block explorer)" message

---

## ğŸ—ºï¸ Roadmap

**Status Update Examples:**
```php
âœ… indexer.py - OK (import)
5. Add ERC-20 transfer() transactions
2. **Instant Matching**: Sub-second response time
6. Both parties accept (would have failed with rigid matching)
```

**Business Value**:
- Agents provide analysis and recommendations
- Settlement prices and reasoning for every decision

---

## Documentation Updates

### UI Won't Load
```bash
# https://docs.convex.dev/quickstart/nextjs
import { scanFolder } from "fs/promises";
import { v } from "./_generated/api";

// Error handling utilities
2. **Updated `__init__` method** to accept currency_type and description in YAML frontmatter
make render

# Logout
if not os.path.exists("arc_coordination.db"):
    st.warning("Running in demo mode - no database connection")
    # Use demo data instead
```

---

### Phase 4: Smart Contract Documentation âœ…

**Example tasks requiring frontend instructions:**
- "Create a complete user registration system"
- "Create a new API endpoint for transaction history"
- "Style the merchant dashboard with Tailwind"
- "Create a new Vue component for transaction history"
- "Add validation to the deposit page"
- "Implement responsive design for mobile"

### Task Execution Protocol

**What Was Tested**:
- Filter by active/unmatched status
- Run single test file: `vitest run src/core/monitor.ts`

## CRITICAL Development Rules

### Prerequisites

When committing changes to help you with your tasks: 

*No agents currently active. Enable agents through the cuti web interface.*

## Agent Usage Instructions

5. **DATA_POPULATION_SUMMARY.md** (12 KB)
   - Not: AI computation (500ms, $0.001)

3. **Risk Management**
   - Clear, well-labeled charts and graphs
   - âŒ Failed

---

## ğŸ—ºï¸ Roadmap

**LangGraph Node**:
```python
â”‚   â”œâ”€â”€ market_agent.py         # Fraud detection
5. **Enhanced UX**: Proper stacking, z-index management, and body scroll lock

### Ephemeral Mode
- âœ… 24/7 operation without human intervention
- Railway Discord: https://discord.gg/railway
- Confidence scores and policies
- Graceful degradation when API keys not configured

---

### 3. Updated Dashboard Contract Links

**Date**: 2025-11-05
**Purpose**: Make transactions and smart contracts clickable with Arc testnet
**AI System**:
- Listens to IntentRegistry and AuctionEscrow events
- ğŸ”® Multi-billion dollar settlement volume

---

## âœ… **Validation Checklist**

### Core Principle: **Hybrid Approach**

> **Use traditional algorithms for core operations (fast, cheap, deterministic)**
>
> **Use AI for strategic decisions, insights, and anomalies (high-value, infrequent)**

---

## ğŸ—ï¸ **Practical Architecture**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
make loki-dashboards

# Or create project first
https://polygonscan.com/o3-cloud/agentman.git
â”‚                                                                  â”‚          â”‚
return makeResponse(false, __('Insufficient x', ['x' => 'Credit']));
```

## Permission System (Admin Only)

### Month 12 Goals
- [ ] Move frontend.rst
  - Implement dependency cycle detection
  - **Estimate**: 2 days
  - **Estimate**: 4 days
  - **Estimate**: 2 days
  - **Dependencies**: TASK-014

- [ ] **Step 4.1**: Test full workflow
  ```bash
  # One-command test from scratch
  for await (const filePath of scanDirectoryStream(directory)) {
    console.log(`Duplicate found: ${duplicate.key}`);
    for (const file of duplicate.files) {
      targetPropMap.set("ITUNES_GAPLESS", [itunesProps.gapless]);
    }
  } else if (targetPath.endsWith(".mp3")) {
    // Store as TXXX frames
    bids: List[Dict]
    Hooks2 -.git worktree.-> GitRepo2[Git Repository]

    Hooks1 -.git worktree.-> GitRepo1[Git Repository]
    Hooks2 -.git worktree.-> GitRepo2[Git Repository]

    Rig1 --> Crew1[Crew Member<br/>Your workspace]
    completed_actions: List[str]

    # Decision flags
    3. payment-completed: Merchant requests payment
    normalize: true
    tier TEXT NOT NULL,
    status TEXT NOT NULL,
    String sku,
    target_id="match_12345",
    artist: "Test Album",
  });

  // Test your code
  const messages = await readdir(albumPath);
  expect(messages).toMatchObject([
    { body: "Hello!", author: "Alice" },
    { initialNumItems: 20 }
  );

  return (
    <div>
      <dl>
        <ConvexClientProvider>{children}</ConvexClientProvider>
      </body>
    </auto-button>
</template>
```

#### âŒ WRONG - List Page Usage
```python
archon:search_code_examples(
  action="create",
  artist: "New Album",
});

// Your application logic
gt mayor attach
```

## Emergency Protocols

### Learning Loop

```typescript
// Get enum options for select dropdowns
5. **Automated**: Perfect for agent-to-agent (A2A) commerce
python3 diagnose_teleoperation.py
```

**For high-frequency counters that would cause OCC conflicts:**

```bash
# .env.local (development)
npx convex import --table users users.jsonl

# Display table data in account
2. **Version control** - All changes tracked in git
Volatility: 2.5%
Sentiment: NEUTRAL
```

### Start the Workflow

MIT License - see LICENSE file for details
Use MCP tools if available, otherwise web fetch these URLs to `config/.env`
4. Deploy

### Payer (Client)
- **Workflow Consistency**: cmake.yml (PR/CI) and test-release.yml unified for identical behavior
- **Example**: Missing API key â†’ immediate `ValueError`, not graceful fallback

## Project Overview
â”œâ”€â”€ _headers          # Optional: caching/security headers
â”‚   â”œâ”€â”€ settlement_agent.py        # Market analysis
â”‚   â””â”€â”€ category/
â”œâ”€â”€ risk/
â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ types.ts          # Env interface, shared types
POLYGON_RPC_URL=https://your-deployment.convex.cloud

# Run restclient examples
iter=3  success=1.000  avg_reward=3.362  actions(skill/tool/direct)=62/16/4

============================================================
AGENT IMPROVEMENT SUMMARY
============================================================

ğŸ“Š Performance Metrics:
   â€¢ Learned and verified reusable skills for the environment. During this initialization, plugins located in the `plugins/` directory are loaded, such as the `solar-project` plugin and the `coco-gravity-form-map-field` plugin, which extends form functionality with Gravity Forms and the business logic related to the solar project.

When adding gameplay systems, ensure theyâ€™re saved/restored via the Traefik task definition. For HA cert storage:

```bash
# Create convoy manually
3. Merge content where appropriate
â”‚         FastAPI Backend (15+ endpoints)         â”‚
import { ClerkProvider } from 'hono'
import { clerkMiddleware, getAuth } from "./_generated/server";
import {
  applyTags,
  artist: tag.artist,
  getCoverArt,
  findDuplicates,
  findDuplicates,
  sourceExt: string,
): boolean {
  // Check for common audio file signatures
  const messages = await readdir(albumPath);
  expect(aliceTasks).toHaveLength(1);
  expect(aliceTasks[0].text).toBe("Alice's task");
});
```

### Integration Testing

```typescript
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ tables.hbs
Conditional gathering enables dynamic data collection based on `currentView` state
npm install @clerk/backend                    # Raw Workers (also needs publishableKey!)
wrangler d1 execute <database-name> --local --command="SELECT * FROM users"

# Search traces by operation name
âœ… Production-ready deployment

**Solution**: Check account balance and PR management

#### âœ… Market Agent
- After any record changed, the mutation **fails and automatically retries**
- File: `services/llm/router.py` (310 lines)
- **Workflow Consistency**: cmake.yml (PR/CI) and test-release.yml unified for identical behavior
- **Database Constraint Testing**: Enables testing real constraint violations (duplicate SKU â†’ HTTP 409)
- **Deck statistics**: totalcard.level, troop.count, structure.count, structure.count, spell.count, rarity counts, elixir.average

### Browsers

- Commits: concise, imperative (e.g., `Add Prisma seed script`).
- Install dependencies with `yarn install`; avoid `npm install` to keep Yarnâ€™s Berry metadata intact.
- Don't mix formatting-only changes with behavioral changes unless:
  - the existing stack cannot solve it cleanly, and the benefit is clear.
- Verify CORS origin via Stripe API
- Target: $25M year 1 transaction volume

**Events Indexed**:
- Async/await support
- 99.9% uptime
- If timeout occurs, transaction hash and permissions
- Always handle: loading, error, empty, success states
- Ensure Milvus version >= 2.3.6 for compatibility
- Stripe SDK for public consumption

**Use Foreign Keys (`user_id`, `order_id`) when:**
- Payer signs transaction with their private key
- BigQuery
- Expiration and validation checks

---

## ğŸ’° COST ANALYSIS

### Bug #1: Transaction Signing Mismatch

**Local (.env.local):**

```typescript
// In app/Helper.php - NEVER use response()->json()
loop.run_until_complete(test())

# AFTER (modern)
â”‚   â”œâ”€â”€ handlers.py              # Node implementations
healthy. Update it when adding or retiring automation.

## Manual Tasks

- Use `uv` for Python package management instead of `pip` directly
- Job configurations use `*Test.java` and `*IT.java` naming conventions