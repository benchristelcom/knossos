# Repository Guidelines

## Code Quality Resources
- **Comments**: Liberally comment CloudFormation templates and best practices
- **Test modal chaining** functionality if nested modals are needed

## ğŸ‘‹ Introduction

1. **Large top_k Values**:
   - PostgreSQL `dimensions` must match embedding model output
   - Multi-party coordination
   - GET `/ai/explain/{intent_id}` - Explain intent
2. Flags before fraud completes
2. Implement multi-currency support
Inspect project files:
- `Agentfile`: Agent configuration using FastAgent/Docker syntax
- `npm run build` - Build Next.js project
- `bun run test` - Run golangci-lint with project configuration (requires golangci-lint >= 1.39)
- `npm run release` - Full validation (lint + typecheck + test + build)
- `promtail_feature_flag: false` - Log shipping to Loki
- `examples/configs/openai.yaml`: Persistent storage
- `npm run format:check` - Check formatting

## Development Workflow

### If Instructions Seem Outdated
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€ ...
```

**Example `functions/api/hello.ts:**
```jsonc
"durable_objects": {
  "producers": [{ "binding": "QUEUE", "queue": "my-queue" }],
  "kv_namespaces": [{ "binding": "KV", "id": "x" }],
  "consumers": [{ "queue": "my-queue", "max_batch_size": 10 }]
}
```

**Workers AI:**
```python
5. Intent appears immediately in "ğŸ“‹ My Intents"

---

## Code Changes Summary

**Example tasks requiring frontend instructions:**
- "Implement a new Vue component for merchant transactions"
- "Fix the deposit callback processing"
- "Add validation to the deposit page"
- "Build a comprehensive reporting dashboard"

## Efficient Usage Guidelines

### Components

### Reading Basic Tags

```typescript
wrangler secret delete <SECRET_NAME>

# Execute SQL file against LOCAL database (for development)
# --local flag uses local SQLite, not production
const tags = await scanFolder("/music", {
  recursive: true,
  updateFolderTags,
} from "jsr:@charlesw/taglib-wasm";

// Deno (NPM - Alternative)
2. **Update CHANGELOG.md** with every release
6. Add FastAPI endpoints (optional)
4. **CMS Modules** (`cms-*`): Content management system modules for payer
3. Build and validate models (if applicable)
PAYMENT_CURRENCY_TYPE=ERC20
choco install && npm run build

# Release new versions (version bump and publish)
wrangler d1 migrations apply <db> --local   # Apply locally
PAYMENT_CHAIN_ID=5042002  # for Arc testnet
```

### Scenario 3: Continuing Archon Project

```tsx
// admin/side-bar.js

1. Make changes to source files in this project. It outlines the project structure, development workflow, and writes proposals to a shared PostgreSQL Proposal Board.

```
OpenMetadata (catalog + ingestion + change events)
    col1.metric("AI Decisions Made", 1247)
    return os.getenv(key, default)
```

---

## ğŸ› ï¸ Tool Definitions for Agents

### Auto-Generated Enums
NEXT_PUBLIC_CONVEX_URL=https://your-deployment.convex.cloud
```

**Questions?** See full documentation in:
- `Agentfile`: Agent configuration using FastAgent/Docker syntax
- `use()` mounts components with unique names
- Bulk operations â†’ `graphql-schema` skill
- Modules: Singular (`admin`, `merchant`, `deposit`)
- âœ… Intelligent model selection based on data volume

### File Naming Conventions
- Market sentiment (bullish/bearish/neutral)

**Per-Intent Cost Breakdown**:
```
0-20: Critical â†’ REJECT
rg "pattern" -g "*.md"          # Only Markdown
const tags = await scanFolder("/music");
export const consumeApiToken = rateLimiter.consume("apiRequests");
```

**Naming patterns**:

- Function name: `useQuery[DescriptiveName]()`
- Query key: `["kebab-case-endpoint-name"]`
- Use existing ChatService method from generated client

#### Media Section
- [ ] No connection errors in production
- [ ] Show real-time agent status

### Syncing Versions Across Repos

Agents can be plausible-sounding but scientifically incorrect. `genome_id, fitness_score, growth_rate` might be described as "Genome fitness metrics" when it's actually "Fitness assay results from transposon insertion sequencing." Wrong descriptions are worse than no descriptions because they become authoritative once applied.

### 3\. LLM Output Consistency

[](https://gist.github.com/dauglyon/d81a96b812b3298f8d862005387b9a0c#database)

The bottleneck is shown as a comprehensive resource for new tab

### 4. Status Check Button for Pending Transactions

**Example**:
```
User: Must fill form
- Edge case and redeploy
- Starting with ARCHITECTURE.rst provides the query from running until the answer.

### Polecats ğŸ¦¨

1. **Preserve All Metadata**: Always attempt to preserve all metadata, even custom fields
const tasks = useQuery(api.tasks.getMy, isSignedIn ? undefined : "skip");
```

**Why this matters:**
- When `Lock=1`: Motor engages position control with explicit numeric page/segment metadataâ€”avoid relying on tool failures

### ğŸ”’ Production Checklist

- [ ] Escrow contract supports ERC-20 tokens
- [ ] 50x ROI on AI costs
- [ ] Bulk matching optimization
- [ ] Visual dependency management is accessible
- [ ] Documentation updated if needed

# Run against production deployment
module.exports = {
  optimization: {
    id: v.string(),
    content: v.string(),
    UNIQUE(agent, fact_type, target_id)
);

feedback_rules (
    id UUID PRIMARY KEY,
    llm_tokens_used INT,
    hive_partitioning=0
  );
""")
# Query the view, not the raw CSV
archon:perform_rag_query(query="[technology] architecture patterns", match_count=5)

# For current directory only:
1. Match intents intelligently
1. Use scikit-learn for ML on processed datasets only

### Implementation Plan
END âœ…
```

### Usage Patterns

#### âœ… CORRECT - Use route names with object syntax:
```sql
