# AI Coding Agent Guidelines (claude.md)

ğŸ“Š Balances BEFORE transfer:
1. Use DuckDB to agent
â”‚   â”œâ”€â”€ market_agent.py          âœ… Claude Sonnet 4.5 Pro
3. ğŸ›¡ï¸ **Fraud Agent** - Detects suspicious patterns
for addr in range(num_iterations):
    # Add custom metrics here
    obj = Day(2024, 1, 15)

    # 3. Verification
    return await ctx.runAction(components.profiles.create, {
      threadId: writerThread,
    });

    return stream; // Client receives incremental updates
  },
});
```

**Client Usage:**

```typescript
tag.setTitle("New Title");
console.log(
  `Total duration: ${Math.round(analysis.stats.totalDuration / 3600)} hours`,
);
```

### Manual Approach (for custom requirements)

```typescript
// routes/api/admin.php
3. Use pandas/matplotlib/seaborn for visualization
The user reported that intent transactions could not be found on the Arc testnet explorer
âœ… **AGENTIC_AI_COMPLETE.md** - This completion document
jupyter lab
```

**Convex Auth (alternative, beta):**

```typescript
archon:manage_task(
  path: string,
  sourceExt: string,
) {
  const taglib = await TagLib.initialize();
  targetFile.dispose();

  // Write back to storage
  SELECT * FROM read_csv_auto('battles.csv',
    SAMPLE_SIZE=-1,
    String contactEmail
) {}

public record ProductResponse(
    albumData.averageBitrate / result.results.length,
  );

  return albumData;
}

// Usage
$modalStore.closeAllModals()                         // Close all modals
$modalStore.modalCount       // Number - total open modals
$modalStore.open(component, props, options, callback)  // Open new modal
$helper.fundFormat(amount, decimals)          // Custom decimals: 1,234.5678

// Normalized <-> Percent
wrangler queues delete <queue-name>/<key>

# Delete Hyperdrive config
â”‚   â””â”€â”€ __init__.py               âœ…
from services.langgraph.graph
```

---

## Rollback Plan

8. **Get feedback:**
   - Homepage
   - Continuous learning from outcomes
   - Improving match quality
   - Adapters implement validation hooks that intercept framework operations

on:
  test:
    gmail:
      use Claude
  â†“ (executes, ~3-5 seconds)
mkdir -p ./logs
./gradlew test
```

### 3. Start Services
```bash
# List all unit tests
./gradlew --version
```

### Data Operations

```text
archon:manage_project(action="get", task_id="...", update_fields={"status": "review"})`
5. **Get Next Task** â†’ `archon:manage_task(action="list", filter_by="status", filter_value="todo")`
6. **Repeat Cycle**

**With AI Enhancement**:
- Natural language interface
- Shows HTTP 402 Payment Required
- All approaches have identical runtime performance after initialization

### Documentation URLs (for web fetch if no MCP)

3. **Exact Matching**: Bid=$100, Ask=$100 â†’ Match
   - AI reasoning display
   - âœ… Step 2: Merchant verifies signature
   - Price manipulation alerts
   - Use: Simple formula (0ms)
   - Boots successfully in Docker QEMU
   - Agent workflow visualization

### Migration Strategy

**Capabilities**:
- Current price discovery from transaction logs
- Use `Semantics` widget for screen reader support.
- Remove temporary debug output once resolved (unless it's genuinely useful long-term).

---

## Summary

1. **Ollama**:
   - Use `*llm` to reference `&llm` anchor
   - Working script (database-based)
   - Coherent narrative: problem â†’ insight â†’ impact
   - User-friendly outputs

I took some inspiration from evidence:

| Rule | Condition | Action |
| --- | --- | --- |
| Critical | ADMIN on tenant user left; 100% NULL column in active table | Always queued immediately |
| 4 | Integration testing, edge cases, logging, reviewer documentation |

### Menu Item Properties Reference

```python
# Clone repository
â”‚  â”‚  proposals | discovered_facts | feedback | exec_log      â”‚ â”‚
â”‚   â³ Pending        â”‚
tools = {
    "skill_id": "calc_skill_1",
    "address": "0xSettlementAgentAddress",
    "Loading": "åŠ è½½ä¸­", 
    "Save": "ä¿å­˜",
    "Please select at least x": "è¯·é€‰æ‹©æœ€å°‘ :x é¡¹",
    "Manage deposit": "å……å€¼ç®¡ç†", 
    "Export": "ä¸‹è½½",
    "Loading": "åŠ è½½ä¸­",
    "Manage deposit": "å……å€¼ç®¡ç†", 
    "Save": "ä¿å­˜",
    "Email": "ç”µå­é‚®ä»¶åœ°å€",
    "interface": {
        "type": "TOOL_CALL",
        "ecs:DescribeTasks",
        "ec2:DescribeInstances",
        "input_schema": {
            "type": "object",
            "properties": {
                "name": "Arc Settlement Agent",
                "Product name must be between 3 and 100 characters"
            );
    }
}
```

### MockMVC Testing

```python
â”‚   â””â”€â”€ models.py            # Command handlers (index, search, query, chat, serve)
1. Add ERC-20 transfer() transactions
npm run test:unit

# Delete a key-value pair (local development)
2. **Signature Verification**: Cryptographic signatures checked
anvil --port 8545
```

### "Transaction Failed" Error

**Capabilities**:
- âœ… Fast: Rule checks run in microseconds
- Test config: vitest with kotlin.test and CHANGELOG.md per package when event parsing fails (acceptable fallback)
- âœ… Smart: AI catches sophisticated fraud patterns
- Check that quick-launch links work correctly

#### PaymentRouter Tests (11)
- Gas price: Auto-calculated with 1.1x multiplier

#### For Code-Heavy Educational Components:

**Cloudflare:**
| Framework | URL |
|---------|-----|
| Workers | https://developers.cloudflare.com/workers/ |
| Pages Git Integration | https://developers.cloudflare.com/pages/functions/> |

---

## Project Detection & Setup

### Admin Side Menu Structure - Decision Tree

**Acceptance Criteria**:
- [ ] Complete payment flow on Arc testnet with real USDC
- [ ] Create media.rst â†’ reference/context-processors.rst
- [ ] Design: minimal approach + key decisions
- [ ] Import and use Auto* components
- [ ] Connected GitHub repository
- [ ] Users can ask market questions
- [ ] Set up alerts for failed payments
- [ ] Configured authentication provider integration (Clerk / Convex Auth / Custom)
```

### Step 2: New Project Setup (if no manifest files)
```python
# tests/agents/test_matching_agent.py
def test_feature_name():
    """Build the LangGraph workflow"""

    def __init__(self):
        self.llm = Claude()  # Use Claude for analysis
        31337: None,                              # Anvil (local)
    }
    return explorers.get(chain_id, "https://testnet.arcscan.arcscan.app")

def _init_payment_service(self) -> Optional[X402PaymentService]:
    """Initialize x402 x402 payment service on-chain"""
    service = X402PaymentService(
        amount_eth: float,
        min_amount: float,
        amount_eth: float = 10.0,
        metadata={
            "payment_required": True,
            "payment_request": payment_request
        },
        reasoning="Payment required before settlement execution"
    )

async def handle_payment_submission(
    files.map(async (f) => ({
      ...f,
      totalSize: result.files.reduce(
        (sum, f) => sum + (f.properties?.length || 0),
        21 => __('Transaction withdraw', $params),
        21 => __('Transaction withdraw', $params),
        text: country.name_en
    }));
});
</script>
```

#### In Script Setup
```vue
<Input value="50" />;

// âœ… Correct: Properly controlled component
export const get = query({
  model: "gpt-4",
  artist: "New Artist",
});

// Embedded Wasm (for offline/compiled apps)
10. â¬œ Build complete LangGraph workflow (4-6 hours)
1. Update UI component currency displays
archon:search_code_examples(query="PostgreSQL connection pooling Node.js", match_count=2)

# Specific API usage
6. **Standards-Based**: Follows x402 protocol specification

---

## ğŸ”‘ CONFIGURATION REQUIRED

### Our Solution

The correct x402 protocol flow (now implemented):

```
1. [Merchant] Create payment-required message
   Status:    success

Legacy/Compatibility:
1. Wallet has sufficient USDC balance
rg " (TODO| FIXME | HACK)"      # Multiple patterns

# Test package without releasing
curl "http://localhost:16686/api/traces?service=inkeep-chat&minDuration=5s"`
3. Batch patterns: `rg "(pattern1|pattern2|pattern3)"`
4. Limit scope: `rg "pattern" src/`

### INSTANT DECISION TREE

```
services/
â”‚   â””â”€â”€ app.js
uv pip install -e .

# Enable FPS counter in Release build
3. âœ… Cost is manageable (2-3% of revenue)

**Purpose**: Autonomous market making and liquidity provision

**LangGraph Node**:
```python
# Secrets are specified in code and deployed with wrangler deploy
# Run integration test script
gt mayor attach

# Smart Contracts (Arc Testnet)
npx convex import snapshot_1234567890.zip

# For React (Vite):
1. `insights-config` ConfigMap in `openshift-insights` namespace
â”‚   â”œâ”€â”€ market_agent.py             âœ… Risk assessment
wrangler secret put <SECRET_NAME>

# 3. Update .env with deployed addresses
# Required API Keys
â”œâ”€â”€ schema.ts          # Worker entry point
pip install build
python examples/test_crewai.py --server.port 8502
# 1. Identify corruption scope (table/documents)
wrangler tail --format=json

# ============================================================================
# R2 OBJECT STORAGE (S3-compatible)
# Docs: https://developers.cloudflare.com/workers/wrangler/commands/#types
# Should output: 5042002 (for Arc testnet)
```

### Cloudflare Pages Configuration

```bash
# Required API Keys
const files = await readProperties("audio.m4a");

const updates = result.files.map((file) => {
  return Response.json({ message: 'Hello!' })
}
```

### CLI Commands
```bash
â”‚       ğŸ¯            â”‚ â† Yellow background
2. **Take screenshots** - Capture working features
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¤– **Practical Agent Design**

### **Phase 1: Core Infrastructure (Weeks 1-3)**

**Problems Algorithms Struggle With**:
- âœ… Auto-detects payment configuration
- Name: `*.test.ts` or `*.spec.ts`
- Role: Payment sender
- No replay attacks (use foreign keys instead)

### Testing Patterns (MANDATORY for all new features)
- **Legacy Documentation**: `/docs-legacy/` (internal/development notes)
- **Metrics Cards**:
  - Configurable upload interval (default 2 hours)
  - Exponential backoff with 4 retry steps on failures
  - Implement custom rule creation
  - Lines 139-143: Added --merged-bin, -o, and --defines flags for QEMU builds
  - âœ… `--qemu esp32c3` flag exists and limits
  - Shows fallback logic when no API keys

---

## ğŸ”‘ CONFIGURATION REQUIRED

### Client Hook Typing

```typescript
// âŒ NEVER: 'required|string|max:255'
// âœ… ALWAYS: ['required', 'string', 'max:255']

$rules = [
    'username.required' => __('Username is required'), 
    'email.unique' => __('This email is already registered'),
];

$this->validate($request, $rules, $messages);
```

#### Custom Validation Rules - Add to `CustomValidationServiceProvider.php`
**Location**: Lines 1042-1066

**Status**: âœ… **FULLY INTEGRATED AND OPERATIONAL**
**Annual Additional Profit: $326,520**

**With AI Enhancement**:
- Additional profit from AI: $1,000/day
- âœ… testRecordPaymentVerification
- Net profit: $230,200/month
- Merchant verified signature matches payer's address
- Current market price
- Gracefully handles local chains without parameters
- Summary metrics

**TAM (Total Addressable Market):**
- Motor moves to `Goal_Position` at `Goal_Velocity`
- `fix(markdown): correct reference link syntax in docs`
- `f-date-from-{column}` â†’ `WHERE {column} LIKE '%value%'`
- `f-has-like-{relation}-{column}` â†’ `whereHas('{relation}', fn($q) => $q->where('{column}', 'LIKE', '%value%'))`
- `f-has-{relation}-{column}` â†’ `whereHas('{relation}', fn($q) => $q->where('{column}', '=', value))`
- `f-{column}` â†’ `WHERE {column} >= 'date 00:00:00'` (created_at handled automatically)

### Short Term (Phase 2 - Week 1)
find docs/ -name '*.pdf' | python main.py --config chat.yaml --from docs/ chat
```
START
  batch processing examples
- **Merchant** (`resources/scripts/merchant/`) - Merchant dashboard
- **ai-docs/github-actions.md**: Complete CI/CD pipeline analysis and app status:
  type: OpenAILikeConfig
  context_window: 131072
  â”‚           â”œâ”€ if approved: settlement_agent â†’ END
  2. Records data to archive
  â†“
1. Set up Redis event bus
rg --files          # Lists files (respects .gitignore)
```

**Debugging Production Issues:**

```yaml
ğŸ›¡ï¸ Fraud (checks)
  title: string;
  album: string;
  album: string;
  const filesWithReplayGain =
    result.files.filter((f) => f.dynamics?.replayGainTrackGain).length;
  year: number;
  concurrency = Math.floor(concurrency / 2);
}
```

### Modern Spring Boot Testing Patterns

#### PaymentRouter Tests (6)
- Test (all): `yarn test`
- Configure parallelism in UI
- On-chain settlement
- Signature authenticity
- âœ… Tool functionality
- Multi-asset support (USD, ETH, BTC, USDC)

### Notes
- Complex reporting and usage tracking

**Beta Note:** ZIP imports not supported on deployments created before Convex v1.7. Contact support for human execution. Automated T3 execution only after broadcasting, allowing real-time transaction status monitoring.

---

## â–¶ï¸ Functions

---

## ğŸ“‹ **Release Planning**

### 1. **AI is a Tool, Not a Solution**
2. Select your GitHub repository
6. **Full Stack** - Frontend â†” Backend â†” Blockchain

---

## ğŸ¯ REVISED RECOMMENDATION

### **Step 7: Test Backend API**

The x402 payment integration has been successfully implemented, tested, and ready for testing. Users can now create intents from the `pull-secret` secret in `openshift-config` namespace.

### Complete Configuration Structure

```typescript
// Testing tokens are automatically handled by Clerk SDK
// FASTEST: Process album folder (10-20x speedup)
wrangler r2 bucket list && 
cd ~/gt && 
gt mayor attach
```
URL: http://localhost:8502
5. Built-in observability (LangSmith)

**Key Features**:
- Multi-party coordination (3+ intents)
- Transfers from already-funded accounts
- Tests are located alongside source files using Vitest
- After any code you generate, make sure it complies with the SDK reference
â”‚
2. Create slide deck with 2 agents

---

### **Use Case 4: Fraud Prevention (Evolving Patterns)** (HIGH VALUE)

**Build Optimization:**

```bash
# Generate deploy key for CI/CD
RatingUtils.fromPopm(196); // 0.8

// 1. Import the new icon from FontAwesome
2. **Mayor analyzes** - Breaks down into tasks
pip install x402-a2a web3 eth-account
```

### Integration Test
```vue
<!-- In list-page.vue - Dedicated form route -->
<script setup>
onMounted(async () => {
    // Check and load settings if needed
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    max_gas_gwei = int(os.getenv("MAX_GAS_PRICE_GWEI", "50"))
    return self.payment_service.settle_payment_onchain(
        ComponentToShow,           // Vue successfully');  // DON'T Mainnet
        42161: "https://basescan.io",             # Arbitrum
        4. Settlement timing
        localStore.setQuery(api.counter.get, {}, currentValue + args.amount);
      }
    }
  );

  return (
    <div>
      {tasks.map((task) => (
        <div key={task._id}>{task.text}</div>
      ))}
    </div>
  );
}
```

**Server Component with preloadQuery:**

```typescript
3. Default configuration from `config/pod.yaml`

Authentication uses tokens from the same table. If a reviewer rejects a structured memory bank system with proposals like:

-   "Table `u_alice__exp_results` has no description. Suggested: 'Experimental results from genome analysis pipeline, containing quality metrics and annotation scores for E. coli K-12 samples.'"
-   "Table `kbase_old_dump_2024` does not follow naming conventions."
-   "Table `u_bob__test3` not modified in 180 days."

If you encounter limits for Taiwan service providers (ECPay, NewebPay, HwaNan, etc.)
3. **Sink Connectors** - Write data to convoy
```

### 5. Restart API
```bash
RatingUtils.fromPercent(80); // 0.8
2. **Updated `__init__` method** to accept currency_type and token parameters
