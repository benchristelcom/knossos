# Agent Instructions

## Code Formatting

- TypeScript, 2-space indentation, single quotes, trailing commas.
- Degrade gracefully:
  - Maximum trading volume
  - Lines 167-173: Check for merged.bin instead of PlatformIO build directory
  - JSON parsing
  - Plan dependency resolution algorithm
  - Create multi-instance management system
  - Ready for graph implementation
- [x] Success message displays in UI
- [x] State persistence working
- [x] AI used for high-value, infrequent tasks
- [x] Works offline (no API dependency)
- [x] Identify which files can be merged
- [Every8d SMS Adapter](https://www.npmjs.com/package/@rytass/member-base-nestjs-module): GraphQL API layer for secrets management

## Glossary

### 2. Transparency üîç
- Users can instantly verify transactions on-chain
- ‚úÖ Payment integrated into agent reasoning
- ‚úÖ testVerifyPayment
- Validate examples against current best practices

## Global Development Installation

You are a seasoned engineering manager and professional software engineer. You are operating in a virtual environment (`.venv`).

**Activate virtual environment:**
```jsonc
"kv_namespaces": [
  { "binding": "HYPERDRIVE", "id": "HYPERDRIVE_ID" }
]
```

**KV Namespace:**
```jsonc
"New payment amount x from y": "Êî∂Âà∞‰ªòÊ¨æ :x Êù•Ëá™ :y",  // zh.json
"x not found": ":x‰∏çÂ≠òÂú®",                      // zh.json  
"EMAIL_ADDRESS": "ÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄ",      // WRONG: ALL CAPS
"use client";
import { api } from "fs/promises";

async function batchConvertMetadata(
  action="update",
  method: "POST",
  task_id="...",
  update_fields={"status": "review"}
)

# Complete task after review passes
‚îú‚îÄ‚îÄ persistence/       # Database access patterns
3. **Held-Out Testing**: Replay on 3-10 fresh tasks of same kind
‚îÇ  6. Deliver Service + Payment Completed                  ‚îÇ
5. **Loading states** during submission

### Related Files
- `Credentials`: User/agent identity with encrypted password storage
- `fund_escrow(match_id, amount)` - Lock funds
- `src/css/custom.css`: Global styles and theming

### Documentation URLs (for web fetch if no MCP)
PAYMENT_PRIVATE_KEY=0x...          # Merchant wallet private key
5. Intent appears immediately in "üìã My Intents"

---

## Code Changes Summary

**Common Issues and Solutions:**

| Constraint | Reason |
| ------------ | -------- |
| No `ctx.auth` | Authentication happens in app, not component |
| Stale blocks all | Staleness > threshold + any enrichment proposal | Auto-defer enrichment |

### Contact Number Validation
```bash
# Docs: https://developers.cloudflare.com/durable-objects/
# D1 is Cloudflare's key-value storage (eventually consistent)
# ============================================================================

# Create a new D1 database
# 1. Create component from Circle faucet
2. ‚úÖ Build simple test suite

---

## üèóÔ∏è ARCHITECTURE DECISIONS

### Ablation Studies

| Method                  | Files       | Time     | Speed           | Best For         |
| ----------------------- | ----------- | -------- | --------------- | ---------------- |
| Sequential `readTags()` | 19 files    | ~90s     | 1x baseline     | Single files     |
| **`readTagsBatch()`**   | 19 files    | **~5s**  | **18x faster**  | File lists       |
| **`scanFolder()`**      | 1000 files  | **2-4s** | **~10x faster** | Directories      |
| Worker Pool             | Complex ops | ~22s     | 4x faster       | Heavy processing |

### Authentication: Service Account Reads, Reviewer-Delegated Writes

[](https://gist.github.com/dauglyon/d81a96b812b3298f8d862005387b9a0c#1-reviewer-engagement)

The initial design proposed 7 specialized agents (Schema Drift Detector, Naming Convention Auditor, Staleness Monitor, Metadata Enricher, Relationship Discoverer, Permission Auditor, Data Quality Scanner). The research consistently shows this is over-decomposed. Separate agents only for training signals, ASG-SI uses verification to Claude Code (claude.ai/code) when working with code in this repository.

## Data retention and deletion

- Commits: concise, imperative (e.g., `Add Prisma seed script`).
- All first-party code lives at `jest.config.js`.

## Key Commands

### Step 1: View Live Data
1. **Always call `graph.init()`** after creating agent relationships to pandas only for final analysis/visualization: `con.sql("...").df()`
2. Review project status: `archon:manage_task(action="get", task_id="...", update_fields={"status": "review"})`
5. **Get Next Task** ‚Üí `archon:manage_task(action="list", filter_by="status", filter_value="todo")`
6. **Repeat Cycle**

**AI Investment ROI: 10x+ in Year 1** ‚úÖ

---

### Threads and Messages

**All 27 tests passing** - Run with `forge test -vv`

#### Tool 1: `request_payment`
```json
{
  "family": "traefik",
  "timestamp": "2025-01-05T10:30:00Z",
  "skill_program_hash": "2a3f9c8d4e1b5a6c",
  "compatibility_flags": ["nodejs_compat"]
}
```

### Binding Configurations

**After each task, conduct focused research:**

```bash
# Create namespace
2. Create page function
3. ‚úÖ Integrate with AP2 payments
3. **Never assume** API signatures, function syntax, or hook patterns

### 2. Streamlit Label Warnings
**Manual cost:** $3,200/month (10 hrs/week)  
**Automated cost:** $90/month  
**Difficulty:** Low  

What it does: Scans receipts (OCR), categorizes expenses, checks policy compliance, flags anomalies, routes for approval, syncs to accounting software.

To modify agent configuration:
fd . -t f           # All files (fastest)
‚îú‚îÄ‚îÄ references.bib          # Bibliography
2. Select **"üí≥ x402 Payment Demo"** from sidebar
const headers = [
    { label: '#', column: 'id' },
    { label: $i18n.t('Status'), column: 'status', export_column: 'status_explained' }, // Use different column for export
    { label: $i18n.t('Username'), type: 'text', name: 'f-has-like-country-name_en' },
]"

// ‚úÖ CORRECT: DataTable loads its own data automatically
81-100: Minimal ‚Üí Fast-track
```

**Verification**:
- Implement Settlement Agent
- ‚úÖ Extend `BaseModel` for simple state, `StateNotifierProvider` for complex state, `StateNotifierProvider` for complex state.
- Use package aliases in job configuration based on Codex CLI workflows

---

## üîå Phase 4: API Integration

### Scenario 1: Foundation (High Priority)
- [ ] Implement conditional routing:
  ```
  matching_agent ‚Üí
    const random = Math.random();
    const embedding = data[0].embedding;

    // Call external API (Stripe, OpenAI, etc.)
    const response = await writer.createThread(ctx, {
      storageId: args.query,
      tokens: response.usage.totalTokens,
    });

    return response;
  },
});
```

**Technical Explanation:**

- **Rate limiting**: Prevent abuse, comply with LLM provider limits
- **8080**: Traefik dashboard
- **Client-side only**: Pure React apps are client-rendered

---

## Framework-Specific Patterns

### Real-Time Monitoring

- **LLM Model**: Uses Lerna for independent versioning and Yarn workspaces for defining agents with minimal boilerplate
- **Error Handling**: Use try-catch, validate with Zod schemas, handle errors explicitly
- **Frontend Engineer** (1): Tool integration and notebooks
const showMessage = () => {
    alert(t('Operation successful'))
}

// With parameters
3. Execute the indentation style from transaction receipt:

```python
# Run with stochastic policy (baseline, no model needed)
docker-compose up
# Get chain ID for explorer links
import {
    audioFile.dispose();
  }
}

// ‚úÖ BETTER: Use Simple API for automatic cleanup
curl "http://localhost:16686/api/traces?service=inkeep-chat&operation=tool.call&limit=10"`

**Debugging Tool Calls:**
If you hit the 1 MiB document limit, split data across multiple transactions.

#### Backup Limitations & Requirements

**Error:** `KeyError: 'ANTHROPIC_API_KEY'`

**Fix:** In Streamlit Cloud, secrets are accessed via `st.secrets`:

```python
"""
Tests for x402 payment service
"""

from typing import Dict, Any
‚îÇ Finding matches...  ‚îÇ
Project Setup:
- [ ] Tested end-to-end
- [ ] PRs are prioritized and prevented
- [ ] Test sorting and pagination
- [ ] Tools integrated with blockchain
- [ ] Verified authentication provider:
    - [ ] Clerk: Added production issuer URL in Convex dashboard
    - [ ] Custom: Configured JWT verification
- [ ] Create deployment.rst ‚Üí media/video.rst
- [ ] Performance improvements are visualized over time
- [ ] Add troubleshooting guides

### Database Naming Conventions

- **Stack**: React, TypeScript, Node.js
- **TypeScript**: Use strict typing with noUncheckedIndexedAccess, define interfaces/types for props
- **Clear intervals** in `onBeforeUnmount`
- **Database Layer**: `/packages/agents-core/src/data-access/` (agents, tasks, conversations, tools)
- **Metrics Cards**:
  - Automatic retry logic with exponential backoff for connection failures
  - Update `ci/AGENTS.md` with QEMU testing instructions
  - Create conditional logic evaluation
  - Add project-specific scan profiles
  - **Estimate**: 2 days
  - **Estimate**: 2 days
  - **Dependencies**: TASK-024

- [ ] **TASK-029**: Build scheduling UI
  - Develop common refactoring templates
  - Authentication and permissions
  - Repository pattern explanation
  - Settlement efficiency

**VERIFY at:** <https://docs.convex.dev/production/hosting/hosting-and-running>

```json
{
  "type": "BUY",
  "compatibility_date": "2024-12-01",
  "description": "Request payment for settlement service using x402 protocol",
  "version": "0.1",
  "verifier_version": "1.0"
}
```

---

## üìà Evaluation & Metrics

### 2. Permission Handling ‚úÖ
- ‚úÖ testCancelIntentUnauthorized
- Match status updates

#### **AuctionEscrow.sol** - `/contracts/src/PaymentRouter.sol`
- Error message: "Amount 100.0 above maximum 10.0"

#### 6b: Maximum Amount Validation
- Preview deployments for pull requests
- Database: No new entries

**All Writes Commit Together:**

```typescript
const tasks = await scanFolder("/music");
audioFile.setProperty(PROPERTIES.REPLAYGAIN_TRACK_PEAK.key, "-4.19 dB");

// To taglib-wasm
3. **Intelligent Pricing**: AI-optimized fair value
6. üíß **Liquidity Agent** - Provides quotes (if no matches)

### Prometheus Alerting
import { TagLib } from "convex/values";
import { useMutation, useQuery } from "convex/values";
import { ConvexProviderWithClerk } from "@convex-dev/sharded-counter";

const props = defineProps({
    wasmUrl: "https://cdn.jsdelivr.net/npm/taglib-wasm@latest/dist/taglib.wasm",
  });
}

// Tree-shake by importing only what you need
results = con.sql("SELECT * FROM v LIMIT 50").df()
```

## Development Guidelines

### 2. Explorer Link Available Immediately üîó
- **Detection**: Chain ID 31337 recognized as local
- **Balance depth and accessibility**: Technical rigor without jargon

## Style notes
- Trading optimizer improves match quality by 10%+
- Fraud detector catches test fraud cases

---

### **Use Case 3: Context-Aware Matching** (MEDIUM-HIGH VALUE)

**Action:** Click **"‚û°Ô∏è Continue to Verification"**

---

### Step 5: Payer Broadcasts Transaction On-Chain

**AI Handles These Naturally**: ‚úÖ

**Status**: PASS

**NEVER use controlled components with proper state**:

```bash
3. üõ°Ô∏è **Fraud Agent** - Detects suspicious patterns
‚îú‚îÄ‚îÄ restclient/        # External API integration examples
10. **For Content Creators** - Guidelines and tools for creators

## Performance Tips

```json
{
  "functions": "convex/",
  "node": {
    "action": "request_payment",
    "Welcome back, :name": "Ê¨¢ËøéÂõûÊù•Ôºå:name"
}

// en.json (English - ONLY when different concept)
{
    "Credit 1": "Cash Point",           // Different concept
    "Unit": "Unit",                     // ‚úÖ ADD: Same word order
    "reverse": {"text": "str"},   # String to reverse
    "Password2": "Security PIN",        // ‚úÖ ADD: Different word order
    "Minimum of x characters": "Minimum :x characters", // ‚úÖ ADD: Different grammar structure
    "Welcome back, :name": "Welcome back, :name!", // ‚úÖ ADD: Different concept
    "New payment amount x from y": "New payment :x from :y", // ‚úÖ ADD: Different grammar structure
    "Password2": "Security PIN",        // Different concept  
    "Unit": "Âçï‰Ωç",                      // Different concept
    
    // === PARAMETERIZED TRANSLATIONS ===
    "Credit 1": "Áé∞ÈáëÂàÜ",                // Different concept
    "Minimum of x characters": "Minimum :x characters", // ‚úÖ ADD: Different structure
    "Welcome back, :name": "Welcome back, :name!", // ‚úÖ ADD: Different concept
    "concat": {"a": "str", "b": "str"}  # Strings to concatenate
}
```

### Skill Representation

```bash
# Start cluster mode (recommended)
export const sendEmail = action({
  args: { title: v.string(), content: v.string() },
  handler: async (ctx, args) => {
    // Write 1: App table
    String name = "World";
    
    // When
    workflow.add_node("liquidity", liquidity_agent_node)

    # Liquidity agent runs in parallel
    schema_drift_hash: str       # hash of column names + types
    ‚îî‚îÄ‚îÄ section-2.html
    const imageType = detectImageType(coverData);

    // Apply cover art to update database
    top_k: 10
```

### Integration Test
```yaml
if payment_result["type"] == "payment-completed":
    # Execute settlement
    bids: List[Dict]
    Town[Town Workspace<br/>via convoy list]
    market_analysis: Dict
    Active --> Suspended: Agent paused
    ‚îÇ                ‚îÇ  ‚îÇ              ‚îÇ  ‚îÇ                 ‚îÇ   ‚îÇ
    3. payment-submitted: Client signs and submits payment
    while True:
        # ‚úÖ Poll for receipt with LONGER timeout (5 minutes)
        if match.amount > self.max_single_trade:
            logger.error(f"Failed to initialize payment service: {e}")
            return payment_completed

        Flag any suspicious activity with evidence.
        """

        analysis = await self.llm.ainvoke(prompt)
        try {
            const data = await axios.post('/management/admin/build_form', { 
                id: $route.params.id 
            });
            existingModel.value = data.model;
        } catch (e) {
            console.error('Failed to load model:', e);
            $router.back();
        }
    }
});
</script>
```

### Available Setting Store Data

#### Content Management Section
- [x] Created `services/langgraph/graph.py` - Intelligent LLM routing
  - Create schedule persistence and management
  - Create conditional logic evaluation
  - Page hierarchy and commit configuration interface
  - Build GitHub/GitLab integration
  - Implement collaboration activity feed
  - **Estimate**: 2 days
  - **Dependencies**: None

- [ ] **TASK-018**: Build team management UI
  - Create interactive charts and graphs
  - Design suggestion results dashboard
  - Build dependency cycle detection
  - **Dependencies**: TASK-003

**Blockchain**: Anvil (Foundry's local Ethereum)
- Publish flow: `yarn release` (lerna version patch ‚Üí Nx build ‚Üí lerna publish from `lib/`)

### Per-package targets (Nx)
- `npm run build` - Build Next.js project
- `test.py`: QEMU test integration for notifications

**Cost Justification**:
- Connected to Arc testnet RPC: `https://rpc.testnet.arc.network`
- Started REST API on port 8000
- Priority-based payment authorization

When adding or testing endpoints, use this pattern for governable self-improvement in Docker-based payments.

---

## üöÄ Why This Matters

### Service Accounts
- `execute_escrow` - Call escrow contract
- `prometheus_log_level: 'info'` - Loki log verbosity
- `backend_py/app` ‚Äî FastAPI service: routes in `routes/`, request models in `models.py`, shared logic under `services/` (Azure OpenAI, catalog, reranker).
- `frontend/src` ‚Äî React + Vite: feature components in `components/`, hooks in `hooks/`, API shims in `services/`, shared types in `types.ts`.
- Styling: Tailwind utilities grouped layout ‚Üí Claude (superior function calling)
- Keyboard navigation, focus management, readable contrast, and meaningful empty/error states.
- Compare behavior baseline vs changed behavior when relevant.
- Commit scopes must match Lerna package names (e.g., `src/app/[candidate]/**`) when staging or committing so the shell does not optional
- Success message appears
- Provides standard fee amount

---

## ‚ö° **Priority 4: Advanced Processing Features**

### 2. **Latency Can Be Managed**

- **Async processing**: Submit intent, AI processes, notify when matched
- **form-file.vue** - File upload component
- **Coinbase**: Algorithmic matching with Linux AppImage and execution
- **Lighthouse CI**: Performance monitoring

## Tech Stack

### Service Architecture

**ui/x402_payment_demo.py:442-458**:
```python
rg "pattern" -g "*.md"          # Only Markdown
service = X402PaymentService.from_env()
loop.run_until_complete(test())

# AFTER (modern)
1. Add each environment variable from `config/.env`

### Install ECS Agent on Each Node

```yaml
The operator uses feature flags in `.cursor/rules/`:
- **Run Plugin** ‚Äî launches plugin in sandbox IDE
- **Naming**: PascalCase for components/types
- **ROI: 50x**

### Expected Result

```
services/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py               ‚úÖ 32 lines
choco install @convex-dev/rate-limiter
```

**Scenario 2: Configure in convex.config.ts**

1. Railway will automatically start building
archon:perform_rag_query(query="TypeScript generic type inference error", match_count=2)
```

**Why This Works**:
- ‚úÖ Fast: Matching is algorithmic (<100ms)
- Queries never see partially imported state

#### Fraud Agent (`services/agents/liquidity_agent.py`)
- [ ] Restate goal + acceptance criteria
- [ ] 85% match success rate (vs 50% algorithmic)
- [ ] <3s average processing time
- [ ] Configured build succeeds on Cloudflare
```

### Production Deployment

```javascript
// === CURRENCY & NUMBER FORMATTING ===
// Use these for user feedback - NOT native alert()
return makeResponse(true, __('Operation successful'));

// Parameterized translations
npx convex import --table users users.csv

# Test package without releasing
bd mol pour release --var version=1.2.0
```

### Provider Configuration Examples

**serve** - Start OpenAI-compatible API server:
```bash
Direct Solving (Error)  18.8%       ‚Üí  5.0%          -13.8 pp
```

### Windows
```bash
# or
.exit
```

### Configuration Management
```bash
2. Configure rate limiting
const hasEditPermission = computed(() => {
    const FooterComponent = defineComponent({
        message: $t('Are you sure you want to delete this item?'),
        callback: async (result) => {
            if (result.confirmed) {
                // Close all modals and perform action
                $modalStore.closeAllModals();
                performAction();
            }
        }
    );
};

// Close current modal only (maintains stack)
3. **Set up dev environment** for transactions: `await db.batch([stmt1, stmt2])`
6. **authorizedParties** recommended for Clerk to prevent CSRF attacks
INFO:__main__:No matches found ‚Üí liquidity_agent
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ deleting-your-profile.md
4. Added comprehensive error handling and monitoring

### Merchant (Settlement Agent)
- **Backend**: Convex (managed functions, database, real-time)
- **33% verification overhead** (acceptable for governance benefits)

### Model: GPT-4o-mini for MVP

[](https://gist.github.com/dauglyon/d81a96b812b3298f8d862005387b9a0c#service-architecture)

### Prometheus Alerting
docker/build-package.sh al2023
```

### Configuration Guidelines
- **Create formulas for coordination** - They provide visibility across agents
- **Children don't need** icons (handled by menu styling)
- **Conditional Gatherer** (`pkg/gatherers/clusterconfig/`) - Collects cluster configuration (default 2h interval)
- **Benefits**: Geographic distribution, automatic scaling, zero DevOps

**Status**: ‚úÖ WORKING
**Problem**: Deprecated `asyncio.get_event_loop()` in Python 3.12
```php
// prepare-offline.ts
const imageData = await analyzeMusicLibrary("/path/to/music", {
  concurrency: 8, // Match batch API performance
  ‚îÇ   fraud_agent
  source_retries: false         # Include source citations
  Spread: 1%
```

### üìà Market Agent

**Workflow**:
1. ‚úÖ Install dependencies: `langgraph`, `anthropic`, `google-generativeai`
3. **Update routing**: Add view type and resulting package filenames:

 * `erlang-28` for Erlang/OTP 28.x
 * `erlang-25.x-centos7` for Erlang/OTP 25.x

Git worktrees allow you to work on multiple features simultaneously without switching branches in your project you can use the core context files above and @.claude settings directory to directory @/path/to/backup-directory. If files already exist in the platform and PR:

- **Demo App**: http://localhost:8080
- **Fix**: Implemented lazy loading via `__getattr__`
- **Status**: **RESOLVED** - All imports now work cleanly

---

## Related Issues

### Test Transaction Links

The agentic AI system is **fully operational** with **persistent test data**. The system includes:

- **MP3** - ID3v1, ID3v2.3, ID3v2.4
- **Custom Scheduling**: Set up complex cron schedules
- **Constants**: UPPER_CASE (e.g., `_SAFE_BUILTINS`, `RLM_SYSTEM_PROMPT`)

Triggers on version tags (e.g., `v0.2.1`):

3. **Build UI**: Checks out `faramesh-ui` repo, builds assets, copies to core
npx convex env set STRIPE_SECRET_KEY
http.route({
  args: {
    email: emailValidator,
    payment_submission: Dict[str, Any],
    mediaType: props["----:com.apple.iTunes:SOUNDCHECK"]?.[0],
    gapless: props["stik"]?.[0],
    recursive: true,
  });

  const conversionMap = new Map<string, string>();

  for (const file of remove) {
    console.log(`  Apple Sound Check: detected`);
  }
}

// Batch update tags
bun run docs

# Put a secret
‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
streamlit run clear      # Clear Docusaurus cache
```

### Test API Endpoints
```bash
3. Start auction engine in `if __name__ == "__main__"` block:
```javascript
// No additional frontend validation needed
```

**Business Value**:
- AI Cost: $2,790/month
- Provides standard fee amount

---

## Troubleshooting

### Scenario 2: Automation (Weeks 1-4)
- All Go code must be checked with `gofmt`
- Approval dialog detection: Requires question + numbered options + selection arrow
- Complete CRUD operations

**Objective**: Update configuration to default to Arc testnet and discover chain configuration

**Status**: Not yet implemented
**Why**: Non-deterministic, regulatory issues
**Verification Status**: ‚úÖ **PASSED**
Click on each task
const getWeather = tool({
  path: "/stripe/webhook",
  provider: new OpenAI({ apiKey: process.env.OPENAI_API_KEY }),
  instructions: "Write clear, engaging content based on research.",
});

export const createArticle = action({
  args: { searchTerm: v.id("threads"), question: v.string() },
  handler: async (ctx, args) => {
    const tenMinutesAgo = Date.now() - 10 * 60 * 1000;

    const processChunk = async (files: AudioFileMetadata[]) => {
      for (const file of files) {
        updateQueue.push({ path: filePath, updates });
        defaultData.value = {
            id: props.model.id || '',
            email: props.model.username,
            username: props.model.name || '',
        };
    }
});
</script>
```

### When to Use FormContact

| Base Class | When to Use | Key Methods |
|------------|-------------|-------------|
| `BaseLM` | All LM integrations | `completion`, `acompletion`, `get_usage_summary`, `get_last_usage` |

### Requirements
- Server status pie chart
- Only deploy to production after thorough testing

---

### Cloudflare Troubleshooting

**Example**:
```
services/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py               ‚úÖ
cd outputs && docker-compose ps

# Single test
‚îÇ   ‚îú‚îÄ‚îÄ base_agent.py             ‚úÖ Risk assessment
27. video.rst - Merge with blog.rst
import { httpRouter } from "@convex-dev/agent";

test("action with external API", async () => {
  // Mock fetch for external API calls
  the necessary environment variables or a `credentials.json` file as
  ‚Üì
  agent:
    - type: KeywordExtractorConfig
      const metadata = {
        5042002: "https://testnet.arcscan.app",  # Arc Testnet
        if (existing.length === 2) {
          search = search.eq("channel", args.channel);
        }
        return search;
      });

    // Results ordered by relevance (BM25 score)
    public function fileColumns() {
        return [0 => __('Inactive'), 1 => __('Active')];
    }
    
    // Multilingual columns (if needed)
    filterFields: ["category"],     // Optional filter fields
  }),
});
```

### Storing Embeddings

**Action:** Click **"üîÑ Start New Payment Demo"** to run again

---

## ü§ù Contributing

Complete multi-agent AI system for the native gas token. Gas prices can vary based on my code style in Typescript. Please note that this repository.

## Documentation & Storybook
- Spread calculation
- ‚úÖ Infrequent: Runs every 4 hours (6 calls/day)
- After free tier: ~$5-10/month

**VERIFY at:** <https://docs.convex.dev/agents>

### convex-test Setup

3. **Commit and tag**:
   ```bash
   sed -i 's/version = "0.2.7"/version = "2.2.7"/version = "2.2.7"/version = "2.2.3"/' pyproject.toml
   python asg_si_demo.py --model
   ```

---

## üéÆ Usage

### Change Colors
6. **Updated `get_balance`** to check token balances via balanceOf()
loop.run_until_complete(test())

# AFTER (modern)
mvnd clean package -pl :seatunnel-dist -am -D"skip.ui"=true -Dmaven.test.skip=true

# Check code style
./gradlew build --refresh-dependencies

# Step 4: Restore from backup
# Test file structure
const mp3Properties = getPropertiesByFormat("MP3");
console.log(`Album: ${album.tracks[0]?.album}`);
console.log(`Tracks: ${album.trackCount}`);
console.log(`Duration: ${Math.round(album.totalDuration / 60)} minutes`);
console.log(`Complete cover art: ${album.hasCompleteCoverArt}`);
```

### Recipe: Batch Rename Files Based on Metadata

```bash
# build an OCI image for load testing
3. **Rollback capability** - Revert to any previous state
git checkout -b feature/i18n-support
‚îÇ   ‚îú‚îÄ‚îÄ openai.yaml            # OpenAI configuration
audioFile.save();
const file = await taglib.open("song.mp3");

// Dynamic import (when needed conditionally)
npx convex import --table users users.jsonl --replace

# The render.sh script processes all .j2 files using data.yaml
./gradlew bootRun --args='--server.port=8081'

# Run with environment variables
‚úÖ **Transaction Verified**: On-chain transaction confirmed on Arc testnet

Your workspace directory (e.g., for a new cloud provider):

1. **Create broker server** - Flask/HTTP server with `/enqueue`, `/pending`, `/respond` endpoints
import { Hono } from "fs/promises";
import { api } from "./_generated/api";

export default async function TasksPage() {
  // Reactive query data on server
  audioFile.dispose();
}
```

### Recipe: Clean Up Messy Tags

```bash
# Build all services
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ slack-integration.md
CCREMOTE_DISCORD_AUTHORIZED_USERS=user1,user2  # Additional users
archon:perform_rag_query(query="Docker multi-stage build Node.js", match_count=2)
```

### 4. Error Handling

```bash
# Run with stochastic policy (baseline, no model needed)
lerobot-calibrate --teleop.type=so101_leader --teleop.port=/dev/tty.usbmodem5A7A0562271
```

**Benefit**: Transaction gas price now matches Arc testnet's current network conditions, increasing likelihood of being included in blocks.

### 5. Instrumentation as a Tool (Not a Crutch)
- Customer lifetime value: Higher (better UX)

**Why:**
- Number of matches found
- Volatility metrics
- Shows blockchain transaction lifecycle
- Validate that security groups have appropriate restrictions
- ‚úÖ Tool functionality
- Deploy and test with real-time

### Phase 4: UI Component Updates

**15+ Endpoints**:
- `LMHandler` (`rlm/core/lm_handler.py`): Multi-threaded TCP server wrapping LM clients
- `npm run lint` - Check TypeScript types
- `PatchApplier.doApplyWithBase()` ‚Äî internal testable function that accepts custom base path
- `syslog_ng_feature_flag: false` - Test log generation

**Acceptance Criteria**:
- [ ] Independent tasks execute in parallel across Claude instances
- [ ] Locate existing implementation / patterns
- [ ] 40x ROI on AI costs
- [ ] Cross-reference all documentation
- [ ] TESTING_REPORT.md - Update known issues section
- [ ] Developer documentation for extension points
- [ ] Configure `PAYMENT_PRIVATE_KEY` in production
- [ ] Update index.rst table of contents
- [ ] Trend analysis helps optimize usage patterns

---

### 4. Circular Import Fix ‚úÖ

**Reference**: [git-worktree documentation](https://git-scm.com/docs/git-worktree)

### MACRO_CASE

- If you choose to the conclusion, that additional information has to be provided for the reader to understand the variable.

### 5. Avoid "Busywork Updates"
- Value Prop: "Trade with natural language, AI does the rest"
- Because mutations are **deterministic**, retrying is safe and inefficient
- Store this before committing code to dedicated analytics database (Snowflake, BigQuery)

---

### ConvexProvider Setup Patterns

#### Multi-Agent Framework

#### ‚úÖ Use Modal When:
1. **Try creating an intent** - should work now!
npx convex import --table users users.csv

# For Polygon
‚îÇ   ‚îú‚îÄ‚îÄ key-features/              # Core feature documentation
‚úÖ **Data persistence** verified in database

---

## Account Balance Summary

| Chain | Chain ID | Explorer URL |
|-------|----------|--------------|
| **Arc Testnet** | 5042002 | https://testnet.arcscan.app |
| Complex workflow | ‚ùå | ‚úÖ Sub-level |
| Documents written per transaction | 16,000 | Mutation write limit |
| Fields per document | 1,024 | Total field count |
| No Shaped Rewards | 97.5% | 3.15 | 68.8% | 136 |
| D1 | 100KB per row | |
| D1 | Transactions via `db.batch()` | |
| KV | Eventually consistent | Not for real-time coordination |
| Complex workflow | ‚ùå | ‚úÖ Sub-level | ‚ùå |
| Review UI | Standalone app vs Slack | JupyterLab extension + Slack notifications | Reviewers already live in JupyterLab; Slack for async nudges |
| No `process.env` access | Components can't access environment variables |
| Complex sale with orders + transactions + logs | ‚ùå | ‚úÖ `related_key` |

### Requirements
- Consider: price overlap, asset types, timing, quantities
- Replit Support: https://github.com/dailydotdev/docs
- LLMs are evaluated in priority order (higher numbers first)
- When `Lock=0`: Motor engages position control with AI decision-making

---

### 4. **Complex Problems (AI shines)**

**Goals**: Set up event-driven architecture, no AI yet

**Action:** Click **"‚úÖ Complete Demo"**

---

### Step 6: Merchant Verifies Signature

**UI Shows:**
- Initial setup: 10 minutes
- Auto-generates sidebar from docs/ folder structure
- ‚úÖ No intermediary needed
- ‚ùå No fraud detection or significant changes to the codebase or behavior, not process.
- Always double-check git status before any potential breaking changes

**Epic**: Multi-instance Claude processing for improved performance

#### File Upload - `UploadFile` Trait
**For models that APIs always load but seldom update (categories, settings, countries)**

```php
import { useQuery, useMutation, useAction } from "taglib-wasm/workers";

export function convertWithCoverArt(sourcePath: string, targetPath: string) {
  // Get the modified buffer
  for (const [key, files] of Object.entries(advancedProps)) {
    try {
      await updateTags(path, updates);
    } finally {
      const tags = await readTags(filePath);

      // Create composite key
      args:
        - -y
        - '@gongrzhe/server-gmail-autoauth-mcp'
```

## Form Creation Patterns

### 2. Real Blockchain Transactions
- Status: üü¢ Running
- Each class has its own directory
- Real transaction hashes and diagrams where helpful
- ‚úÖ Use explicit assignment (`$model->field = $value`)
- ‚úÖ Long-context processing (up to 2M tokens)
- SSM Agent compatible OS (Amazon Linux 2, Ubuntu 18.04+, Debian 10+, RHEL 7+)
- Outbound HTTPS (443) to AWS endpoints

---

## ‚ö° Quick Setup

### Connector Architecture
- **Output**: Two-sided liquidity quote (bid/ask)

---

### When Limits May Increase

Traditional intent-based systems lack intelligence:
- Monitors: Volatility, volume, time of day, news sentiment
- Monitor settlement time
- Team availability not considered

**Acceptance Criteria**:
- [ ] Users can have dependencies on other tasks
- [ ] Database integration
- [ ] Full end-to-end
- [ ] Production branch triggers production deployment
```

### Root Cause
‚îÇ  Blockchain Events ‚Üí Fast Processing ‚Üí Optional AI Enhancement ‚îÇ
wrangler d1 migrations apply <db> --remote  # Apply to production

# ============================================================================
# LOGS AND DEBUGGING
# Install Gas Town
const taglib = await readTagsBatch(localFiles, {
  concurrency: 6, // Slower I/O benefits from less concurrency
});

// NETWORK/HDD: Lower concurrency (4-8)
def socket_send(sock: socket.socket, data: dict) -> None:
    logger.warning(f"Could not extract intent ID from logs: {e}")
```

### 2. Fallback Mechanism
‚îÇ   ‚îî‚îÄ‚îÄ graph.py                  ‚¨ú Graph implementation TODO
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                          ‚îÇ   - /pending (poll reqs)    ‚îÇ   ‚îÇ
5. **On-chain verification** before service delivery

---

**Quick Start Command**:
```python
async function loadAudioFile(path: string): Promise<Uint8Array> {
  let lastError: Error;

  for (let attempt = 1; attempt <= maxRetries; attempt++) {
    try {
      const path = join(directory, file);
      targetTag.setTrack(metadata.basic.title || "");
      targetTag.setComment(metadata.basic.artist || "");
      targetTag.setAlbum(metadata.basic.title || "");
      targetTag.setComment(metadata.basic.album || "");
      targetTag.setArtist(metadata.basic.comment || "");

      // Apply advanced properties
      searchField: "text",
    }),

  users: defineTable({
    query: v.string(),
    embedding: v.array(v.float64()),  // Vector field
    Agent->>Convoy: Create convoy with beads
    npx playwright test
    ```

## Development Workflow

5. **Settlement**
   - Real-time price discovery from intent pool
   - Other (please specify)

## Key Files to Modify

When using Cursor IDE, these rules will automatically apply to ensure:
- Discover optimal matches between intents
- Multi-asset support (USD, ETH, BTC, USDC)

### Step 2: Create New Structure
- [ ] Verify intent authenticity
- [ ] Team activity is optimized automatically
- [ ] Track LLM costs per request
- [ ] Check for wash trading
- [ ] Analyze successful vs failed matches
- [ ] Connected GitHub repository
- [ ] Move frontend.rst + episode.rst ‚Üí reference/context-processors.rst
- [ ] Display agent implemented
- [ ] Test export functionality (if enabled)

## Common Mistakes to Avoid

### ‚ö†Ô∏è MANDATORY: Required for All New Features

**Query Strategy:**
- Risk score (0-100)
- Summary metrics displayed
- Account information

**VERIFY at:** <https://docs.convex.dev/production/hosting/preview-deployments>

Preview deployments create isolated Convex backends for each PR.

**.github/workflows/preview.yml:**

```bash
# Generate IDE to repository custom config/.env pending Logs
rg -c "$(curl --location https://taskfile.dev/install.sh)" -- -d -b ~/.local/bin
```

### Streamlit Not Loading

**VERIFY at:** <https://docs.convex.dev/database/advanced/occ>

**No JOIN syntax - fetch related documents in parallel:**

```typescript
archon:search_code_examples(
  query="JWT authentication security best practices",
  provider: new OpenAI({ apiKey: process.env.OPENAI_API_KEY }),
  instructions: "Research topics and provide factual information.",
  tools: [searchDocuments],
});
```

**Technical Explanation:**

- **Agent specialization**: Different agents for different tasks
- **seatunnel-api** - Core API definitions and credentials
- **Resource limits**: Check `lsof -i :8000` to verify server is listening correctly
- **Image Optimization**: @docusaurus/plugin-ideal-image for responsive images
- **Factory Pattern**: Most services follow an adapter pattern to format code properly
- **Issue**: LangSmith tracing attempts and variants

### Premium Features

- Build shared first: `npm run build --prefix packages/shared`.
- Maintain localized README.md and CHANGELOG.md per package when functionality changes
- Use `--force` flag to bypass cache

### Local Anvil Chain
- **Undetectable Drift**: Behavioral changes during deployment can be versioned and published independently

### Business Value
- ‚úÖ Wrap database operations in `config/jvm_options`, `config/jvm_worker_options`
- Use `review` status for tasks no longer relevant

**UI Shows:**
- The directory name and details

### Configuration Files
- Top-level `from_idtag(tag)` auto-detects type from first character

### Phase 1: Detect Existing Project Type
rg "pattern" -g "*.md"          # Only Markdown
4. Include examples for modeling
google-auth-oauthlib>=1.0.0
retrieval:
  ‚îÇ   ‚îú‚îÄ market_agent (parallel)
  if (!auth?.userId) return c.json({ userId: auth.userId })
})
export default app
```

**Good Performance Metrics:**
- üéâ Payment Flow Complete!
- Summary of all 10 intents
- Wash trading detection
- Context-specific README files

2. **API Key Configuration**:
   - Use `--num-workers 4` or `-j 4` for faster indexing
   - Merchant: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
   - Use: Database query (10ms)
   - Merged binary generation working
   - Container startup/cleanup issues

## Testing Instructions

- Never commit AWS credentials or secrets
- ‚úÖ `start.sh` - Quick start script

### 1. Intent Submission Event Log Parsing
ANTHROPIC_API_KEY = "sk-ant-api03-..."

GOOGLE_API_KEY = "AIza..."

LANGSMITH_API_KEY = "AIza..."

LANGSMITH_API_KEY = "lsv2_pt_..."
LANGSMITH_PROJECT = "pr-whispered-guideline-36"
PAYMENT_NETWORK = "arc_testnet"
PAYMENT_RPC_URL = "https://rpc.testnet.arc.network"
5. Enter version (e.g., Modal's `encrypted_ports`)
2. **Update sidebar**: Add entry to `client/src/components/step2-evaluation.tsx`
6. Update documentation and quick start
```

## üîß Calibration Commands
```json
{
  "networkMode": "host",
  "timestamp": "2025-01-05T10:35:00Z",
  "requiresCompatibilities": ["EXTERNAL"],
  "networkMode": "host",
  "timestamp": "2025-01-05T10:35:00Z",
  "version": "0.1",
  "exports": {
    ".": "./dist/index.js",
    "./convex.config.js": "./convex.config.js",
    "./_generated/component.js": "./_generated/component.js",
    "./convex.config.js": "./convex.config.js",
    "./_generated/component.js": "./_generated/component.js",
    "./test": "./dist/test.js"
  }
}

# 4. Publish
‚îî‚îÄ‚îÄ DataTables/       # DataTable classes
```

### Search Strategy

Complete multi-agent AI system with A2A (Agent-to-Agent) communication capabilities. The packages follow adapter patterns to minimize vendor lock-in and reduce integration complexity.

## Project Overview

This document provides typed errors for better error handling:

```python
# Returns namespace ID to add to wrangler config
3. Select **"üí≥ x402 Payment Demo"** from sidebar
interface Tag {
  // Check magic bytes
  3. Use app HTTP response codes (302 = running, 500 = error)
- **Purpose**: Market making when no matches found
- **sprites.md**: Sound effects system and audio feedback implementation

## Skill Activation

For specific questions or issues:

1. Fix event log extraction in git-backed hooks, enabling reliable multi-agent workflows.

### Intention

‚òëÔ∏è Add Matching Intent (optional)
  - Backend actions: `process.env.STRIPE_SECRET_KEY`
  - Queries/mutations: CANNOT access environment variables (deterministic requirement)

---

### 4. State Management (100%)

#### LangGraph State Schema (`services/llm/router.py`)
- ‚úÖ CoordinationState TypedDict with correct QEMU boot (includes bootloader + partitions)
- Use professional language without excessive marketing tone
- For Deno compiled binaries, use `initializeForDenoCompile()` for automatic
  3. Uploads with exponential backoff on failures
  evaluator_llm: *llm          # Optional LLM for evaluation

# Clean restart
def create_coordination_graph():
    """Build the LangGraph workflow"""

    async def request_payment(
        private_key=os.getenv("TEST_PRIVATE_KEY"),
        rpc_url=TEST_RPC_URL,
        body,
        track: tag.artist,
        messages=[{"role": "user", "content": prompt}]
    )
    return response
```

### 3. Start Services
```bash
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ style.less
Token: USDC (0x36000000...)
From: 0x70997970...
üì§ Sending transaction...
PAYMENT_ROUTER_ADDRESS=0x...
Status: Valid ‚úì

Skills as first-class artifacts with:
- **3000**: Grafana web interface
- **Taskfile**: Modern task runner for smaller size (MP3, AAC, OGG)

### Agent Decomposition: 3 Agents, Not 7

[](https://gist.github.com/dauglyon/d81a96b812b3298f8d862005387b9a0c#reliability)

-   Permission Auditor and Quality Scanner (add after v0.1 feedback)
-   Reactive watchers, correlation job (not needed with one weekly agent)
-   Reactive watchers, correlation job (not needed with one weekly agent)
-   Reactive watchers, correlation job (not needed with one weekly agent)
-   Missing descriptions (null/empty check)
-   Reactive watchers, correlation job (not needed with one weekly agent)
-   Missing descriptions (null/empty check)
-   Circuit breaker: 5 consecutive failures ‚Üí 5 min cooldown
-   **LLM failure is never a system failure**: deterministic pipeline runs regardless, LLM-dependent proposals simply skip that cycle

___

## MVP: 4-Week Scope

[](https://gist.github.com/dauglyon/d81a96b812b3298f8d862005387b9a0c#catalog-analyst-two-phase-pipeline)

Traefik needs to "find file/directory by name"?
  ‚Üí USE: fd "name"  (NOT grep!)

Need just current directory?
  ‚Üí USE: ls -la  (OK for single dir)
```
