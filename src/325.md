# CLAUDE.md - Convex Database Project Template

## Development Guidelines

### Workspace Management

```javascript
// ‚ùå Wrong: Controlled component without onChange
<template>
    <!-- FormContact automatically handles errors for both fields -->
    <form-editor
        v-for="l in $locales"
        :key="`content-${l}`"
        v-model="formState[`content_${l}`]"
        :label="`${$t('Content')} (${$t(\`Locale \${l}\`)})`"
        folder="article"
    />
</template>
```

**Folder Permission System:**
```jsonc
"Transaction transfer credit out": "Transfer to :to_username",     // en.json

"Merchant Transaction settlement canceled": "ÁªìÁÆóÂèñÊ∂àÔºà:merchant_order_idÔºâ",  // zh.json
"Merchant Transaction settlement canceled": "Settlement canceled",              // en.json
```

**search** - Retrieve relevant chunks (JSON output):
```bash
# Attach to review when implementation complete but needs testing
2. Navigate to https://github.com/YOUR_USERNAME/arc-contest.git
the documentation is for automation agents and uploads it to Red Hat Insights for analysis.

**Key Achievement**: Complete integration of x402 payment protocol into AI agent workflow.

**Agent-side circuit breaker**: If pending proposal count exceeds 50, agents only report critical findings. Above 25, only critical + warning. Below 25, all findings.

**Example: Agent with Weather Tool**

```bash
# Architecture & patterns
‚îú‚îÄ‚îÄ package.json
3. **Never Create Custom Buttons** - Always use `<auto-button>`
2. **Never Skip i18n** - Always use `$t()` for text labels

## Logistics and Communication

- [x] **Step 3.1**: Test current merged-bin generation locally ‚úÖ
  - ‚ö†Ô∏è Pending: Need to document once QEMU is fully working
  - Create Microsoft Teams integration
  - Design schedule management dashboard
  - Create notification preferences interface
  - Plan resource allocation and validation
  - Plan data retention policies
  - **OK**: `cast(...)`, `assert ...` for type narrowing
  - **Estimate**: 2 days
  - **Estimate**: 2 days
  - **Dependencies**: None

- [ ] **TASK-032**: Add schedule engine
  - Create template preview functionality
  - Extracts From, Date, Subject headers
  - Plan resource allocation and progress tracking

### Standard Fee
- **LLM Clients**: Claude Sonnet 4.5
- **Consider user context**: Will users immediately understand the connection?
- **Browse categories**: Business, Shopping, Medical, Technology, etc.
- **Operating System**: darwin
- **Internal functions**: Use `internal.*` to prevent public access
- **Tabbed Interface** - Organized result categories
- **Deadline**: Friday the 14th, 12:15 PM start time
- **Flywheel**: Liquidity attracts traders

**Result**: Payment settled successfully on-chain with correct balance changes

---

### Pagination with usePaginatedQuery

**VERIFY at:** <https://docs.convex.dev/production/state/>

### Setup Steps

**Technical Explanation:**
1. üéØ **Matching Agent** - Finds compatible intents
TEST_RPC_URL=https://rpc.testnet.arc.network
6. **Updated `get_balance`** to check token balances via balanceOf()
loop.run_until_complete(test())

# AFTER (modern)
anvil --port 8545 &

# Restart Streamlit
class MultiLLMRouter:
    """Call Claude Sonnet 4.5 Pro"""
    risk_score = state["risk_assessment"]["score"]
    if risk_score < 70:  # Acceptable risk threshold
        orderbook = self.get_current_orderbook()
        recent_trades = self.get_last_24h_trades()
        if context_payload:
            1. Wash trading (same entity both sides)
            signed_tx = self.web3.eth.send_raw_transaction(signed_tx.rawTransaction)
            audit_log.record(evidence)

    # 2. Skill Compilation
    Done -->|Yes| Review[Review work]
```

**Commands:**

```typescript
3. Parallel agent execution
6. **LM Forwarding**: Host forwards requests to `LMHandler` via socket, gets response
pip install build
return makeResponse(false, __('x not found', ['x' => $username]));
return makeResponse(false, __('Record not found'));
return makeResponse(true, __('Operation successful'));

// Parameterized translations
3. Merge content where appropriate
‚úÖ **Visual Feedback** - Colors and initializes correctly
import { action, internalMutation } from "./_generated/server";
import { api } from "fs/promises";

try {
  const message = error instanceof Error ? error.message : String(error);
  const propMap = m4aFile.propertyMap();
  expect(success).toBe(true);

  // Keep best quality, mark others for removal
  temperature: 0.6
  const result = await Promise.all(
    name="agent_name",
    dimensions: 1536,               // Must match embedding model (OpenAI: 1536)
    return response.text
```

### 3. Start Services
```bash
bd mol pour release --var version=1.2.3.4

# Check if Streamlit is installed
const createTask = useMutation(api.files.saveFile);

ReactDOM.createRoot(document.getElementById("root")!).render(
  <React.StrictMode>
    <div v-if="formReady" class="w-full flex flex-col space-y-4">
        <component-form :model="selectedModel" @success="onSuccess" />
    </auto-modal>
</div>

<!-- ‚úÖ CORRECT: Three buttons (Back + Cancel + Submit) -->
<div class="modal-footer grid grid-cols-2 gap-4">
    <auto-button type="plain" @click="emit('close')">{{ $t('Cancel') }}</auto-button>
</div>
```


## Vue Router Navigation Rules

### Links Not Uploading

- Never commit AWS credentials or secrets
- Arc SDK - Blockchain interaction

**What's Ready**:
- Payer address: `0x70997970C51812dc3A010C7d01b50e0d17dc79C8`
- Balance: **5.000648 USDC**
- File: `services/langgraph/state.py` (434 lines)
- **Skill Graph Size**: Number of files processed in `labs.md` and `advanced-labs.md`.
- **Formatting**: Slides should be shared across users and artifacts for tamper-evidence

### Real-Time Monitoring

- **Best for**: Deno applications and compiled binaries
- **Tools**: calculate_match_score, filter_compatible_intents
- **Avoid memory leaks** in long operations
- **Better User Experience**: Reduced time to first interaction

### Documentation
- Install githooks for specific errors
- Note: `/agents-docs/` is a Next.js documentation site for icons when possible
- No cold starts for Convex functions

---

## üéì Use Cases

### 4. Seamless User Experience ‚ú®
- All approaches have identical runtime performance after `dispose()`
- ‚úÖ Simple API handles memory automatically
- Use AWS Secrets Manager or Parameter Store for sensitive data
- Enterprise admin panels

---

## üìû Contact & Support

- **WebAssembly Streaming**: Compile WASM while downloading for faster startup
- **Sidebar**: Navigation + Quick Stats
- **9093**: Alertmanager web interface
- **Strategy**: Dynamic pricing, inventory management, risk-adjusted spreads
- **GitHub Actions**: Scheduled execution and CI/CD  
- **animation-diamonds-before-game.md**: Board initialization animation system
- **MailParser**: Parses .eml email files
  - Validates only one accepted transfer exists (prevents conflicts)
  - ‚úÖ Machine type detection working (esp32, esp32c3, esp32s3)
  - **Issue**: test.py was trying native Windows compilation, which fails with RISC-V toolchain issue

- [x] **Step 1.1**: Update `DockerQEMURunner` class ‚úÖ
  - All other undocumented settings

### The Mayor üé©

2. **populate_mock_data.py** ‚úÖ
   - Concise, clear, engaging presentation
   - qemu_esp32_docker.py:504: Pass machine parameter through to runner

1. **Never Create Custom Data Tables** - Always use `<auto-datatable>`
