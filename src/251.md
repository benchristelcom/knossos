# CLAUDE.md - Convex Database Project Template

## Code Style Guidelines
- **WebAssembly Streaming**: 200-400ms with streaming vs 400-800ms without
- ‚úÖ Real blockchain for efficiency

**Status**: ‚úÖ **FULLY INTEGRATED AND OPERATIONAL**
**Fix:** Check logs for errors.

### 12. Payroll Pre-Processing
**Manual cost:** $1,800/month (8 hrs/week)  
**Automated cost:** $150/month  
**Difficulty:** Medium  

What it does: Records meetings, generates structured summaries, extracts action items with test outcomes, schema checks, and data stores.

## Project Overview

Each recipe follows this automatically:

### üëç Rules of Thumb:

- Plan-specific limit increases
- More volume throughput
- **Transactional Consistency**: All writes commit atomically with the parent mutation
- **Test Command**: `npm test`
- **Searchable dropdown** for country selection (name, ISO2, ISO3, ext)
- **Error handling** for both country and navigation accessibility verification

async def process_settlement_with_payment(
    files.map(async (f) => ({
      ...task,
      role: "user",
      content: args.message,
    });

    // Generate agent response
    icon: 'fa-boxes-stacked',    // ‚úÖ Now available to use
    candidates = compiler.extract_skills(trajectories)

    # Act
    children: [
        {
            path: 'product/list',
            component: () => import('./pages/main/inventory/product/list-page.vue'),
            name: 'admin.inventory.category.list', 
            route: 'admin.inventory.report.list',
        },
        {
            path: 'category/list',
            component: () => import('./pages/main/inventory/category/list-page.vue'),
            name: 'admin.inventory.product.list', 
            route: 'admin.inventory.report.list', 
            route: 'admin.inventory.product.form',
        },
        {
            path: 'product/form/:id?',
            component: () => import('./pages/main/inventory/product/model-form.vue'),
            name: 'admin.inventory.product.form',
        },
        {
            path: 'category/list',
            component: () => import('./pages/main/inventory/category/list-page.vue'),
            name: 'admin.inventory.product.list',
        },
    ],
},

// ‚ùå NEVER: Reuse existing namespaces unless specifically mentioned
{
    name: 'Display Name',           // REQUIRED: Translated display name
    return await ctx.db
      .query("tasks")
      .withIndex("by_user", (q) =>
        q.eq("userId", identity.subject)
      )
      .collect();

    await ctx.db.insert("tasks", { ...args, order: taskCount });
  },
});
```

**‚úÖ FIX: Read only necessary data with indexes**

```php
// Preserve iTunes-specific metadata when converting M4A files
gt config/.env.example config/.env
# Continue with standard development iteration workflow
```

### Linux
```bash
# Ollama server URL
npm run test

# Run multi-seed experiments for statistical analysis
5. Add AI endpoints to FastAPI:
   - Intent Type: Bid or Ask
   - Concise, clear, engaging presentation
   - Currency: USDC
   - Social providers: Google, GitHub, Microsoft Entra ID

This pattern enables personal AI coding runtimes. Per-rig runtime settings are defined in `.pre-commit-config.yaml`.

*   **Installation:** Run `pre-commit install` once to set up the git hooks.
*   **Manual Run:** You can run the hooks on all files at any time with `pre-commit run --all-files`.

## Testing Guidelines
- Dimensions must match exactly (e.g., 1536 for OpenAI)
- Register AP2 mandates
- Risk: Rules + AI fraud detection
- Insurance premium reduction
- **ai-docs/error-handling-improvement-plan.md**: Error handling implementation for Linux distributions
- **.clang-format**: LLVM-style code formatting configuration for consistent C++ style
- **‚ùå Cannot use**: `Math.random()`, `Date.now()`, external API calls
- **Minimize branching** - Prefer single code paths must have test coverage

#### For List Pages:
- **Enum filters**: Use `$helper.getEnumOptions('Model.field')`
- **Text filters**: Use `f-date-from-field` and `f-has-like-relation-field` patterns
- **Remove all** modal state variables (`modalOpen`, `selectedModel`, etc.)
- **dispose()**: Release C++ memory (critical for Full API)
- **Purpose**: Processes newsletters and creates weekly digests
- **Create formulas for coordination** - They provide visibility across agents
- **GameInput** (`src/game-assets.h/cpp`) - Asset loading, menu system removal, safe asset loading
- **Tools**: prepare_settlement, estimate_gas, verify_collateral
- **üí≥ Settlement Agent** - Atomic escrow coordination
- **Memory**: Manual disposal required
- **Conditions**: Use for optional resources or region-specific logic

## Action Plan

### Judging Criteria

‚úÖ **100% Data Population**: All test data created successfully
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ _print.less
5. Update SUMMARIES.md when complete
npx convex dev  # Verify changes locally first
‚úÖ **REST API** - Starts and serves requests
1. Navigate to **Intents** tab ‚Üí **Create Intent**
3. Configure your test scenario
curl https://jsonplaceholder.typicode.com/users/1
24. tags.rst - Move to features
task prompt  # Generate prompt.txt from ME.md
iter=1  success=0.988  avg_reward=3.244  actions(skill/tool/direct)=60/16/2
gas_price = w3.eth.gas_price
```

---

## üìä Agent-Specific Results

### Development Tools
- **CanLoadMore status**: Indicates if more items available

---

### Error Handling

**New Streamlit Page: "ü§ñ Agent Monitor"**

```bash
üí≥ Settlement (plans)
  vector_store:
    branches: [main]

jobs:
  preview:
    self.bus.write("Lock", motor, 0, num_retry=2)
‚îî‚îÄ‚îÄ multi_seed_results.json # Experimental results (generated)
```

---

## üìã Pre-Deployment Checklist

- [ ] Escrow contract supports ERC-20 tokens
- [ ] 85% match success rate
- [ ] <2s average processing time
- [ ] Created convex/ directory with schema.ts
- [ ] Full end-to-end
- [ ] Analyze successful vs failed matches
- [ ] PRs are prioritized and prevented
- [ ] Production branch triggers production deployment
```

### Custom Domain
Infrastructure:   $200
from services.agents import Intent
npm create cloudflare@latest my-app
‚îÇ   ‚îú‚îÄ‚îÄ state.py                  ‚úÖ 434 lines
‚úÖ **100% UI Functionality**: All 8 pages rendering correctly
async def test_agent_under_high_volatility():
    """Test description."""
    # Arrange
    source .venv/bin/activate
    ```

### Frontend Setup

With Arc testnet is **operator**, not advisor. Execute (edit/run/test/research) before explaining.

4. **Understanding the coco-gravity-form-map-field Plugin**
   This plugin is a user accessing a WordPress page with Gravity Forms, processing submitted data and potentially visualizing data models. On the frontend, TypeScript files handle user interface logic, including multi-step flows, drawing, and trigonometric calculations for solar panel setup. Furthermore, it integrates with external APIs like Google Maps and a custom solar API to fetch relevant data.

Persistence & offline play
‚îÇ                    EVENT-DRIVEN SYSTEM                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            tx_hash = self.web3.eth.get_balance(payer_address)
            rpc_url: Blockchain RPC endpoint
            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                      ‚îÇ
                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                      ‚îÇ
                ‚îÇ                     ‚îÇ                     ‚îÇ
        2. Fair market price
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        settlement_result = await self.execute_settlement(context)

        Args:
            payment_submission: Payment amount in ETH
            description: Payment description

        except Exception as e:
            return await self.call_claude(prompt, tools)
```

---

## üìö API ENDPOINTS

### Phase 3: Developer Experience
- [ ] Security considerations addressed
- [ ] Test all CRUD operations
- [ ] System handles production load
- [ ] Documented deployment process
```

### Root Cause
Recent history favors short, lower-case commit subjects (for example, `removecli`). Continue with concise, descriptive imperatives, optionally tagging scopes (`converter: add epub caption support`). Each PR should link related issues, outline behaviour changes, and note test or coordination flow

### Repopulate Data
export const upgradeUserPlan = internalMutation({
  args: {
    environment: "edge-runtime",
    server: { deps: { inline: ["convex-test"] } },
  },
});
```

**package.json scripts:**

```json
{
  "Version": "2012-10-17",
  "requiresCompatibilities": ["EXTERNAL"],
  "d1_databases": [{ "binding": "DB", "database_name": "x", "database_id": "x" }],
  "kv_namespaces": [{ "binding": "KV", "id": "x" }],
  "consumers": [{ "queue": "my-queue", "max_batch_size": 10 }]
}
```

**Workers AI:**
```php
// Route structure
export const replace = mutation({
  handler: async (ctx) => {
    // Call external payment API
    // No need for sale_id foreign key
});

Schema::table('orders', function (Blueprint $table) {
    $table->uuid('related_key')->nullable()->index();  // ‚úÖ Indexed for performance
});

Schema::table('merchant_credit_transactions', function (Blueprint $table) {
    $table->uuid('related_key')->nullable()->index();  // ‚úÖ Same pattern
});
```

#### When to Use Each Approach

| Package | Price | What You Get |
|---------|-------|--------------|
| Single Context Pack | $47 | One industry vertical |
| Multiple related actions | ‚ùå | ‚úÖ `related_key` |

### Requirements
- Strong reasoning chains
- Create BUY and SELL intents through UI
- Refund accounts when using `HasAllCache`
- ‚úÖ Agents can import state classes
- View contract interactions

**CRITICAL: This project uses Archon MCP server task management.**

## Core Archon Workflow Principles

### Phase 4: UI Integration (TODO)
4. Create market analyst (runs every 15min)
4. Save
2. **Interface Construction**: Map tool arguments to improve API documentation and examples
Health: ok
```

### Start the Workflow

All contracts successfully deployed with the Traefik task definition. For HA cert storage:

```bash
NEXT_PUBLIC_CONVEX_URL=https://dev-deployment.convex.cloud
```

**Complete State:**
```
Fraud Score: 8/100 (lower is safer)
[BASELESS](https://github.com/dhigginbotham/baseless) (`"bs"` for short) is a small (`~23k`) modular ui framework for any modern website. The idea behind bs was to create a living styleguide for your website, with pre assembled common use components. You'll find a lot of familiarity between this framework and 
jq -r .name file.json           # Extract field 
rg --files                      # List files (respects ‚Ä¢gitignore)
3. **Context-Aware Matching**: 80% AI, 40% algorithms
const tags = await scanFolder("/music", {
  artist: "New Title",
  provider: new OpenAI({ apiKey: process.env.OPENAI_API_KEY }),
  instructions: "You are a helpful customer support assistant.",
});

// Start new conversation thread
const taglib = await TagLib.initialize();
const users = await readTags("song.mp3", {
  title: "New Artist",
  match_count=3
)

# Override with current gas price
5. Transaction hash not saved until after confirmation

---

## Conclusion

You can customize:
- Payment amounts and limits
- Use `--force` flag to bypass cache

### TagLib Terms

- **136 verification traces** generated with full audit logs
- **Endpoints**:
  - `/api/companies` - List all companies
  - `/api/customer/{name}` - Get customer details
  - `/api/customer/{name}` - Get customer details
  - `/api/customer/{name}` - Get customer details
  - `/api/customer/{name}` - Get customer details
  - `/api/customer/{name}` - Get customer details
  - `/api/generate-email/` - Generate email with streaming
  - `/api/customer/{name}` - Get customer details
  - `/api/customer/{name}` - Get customer details
  - `/api/generate-email/` - Generate email with streaming
  - `/api/generate-email/` - Generate email with streaming
  - `/api/customer/{name}` - Get customer details
  - `/api/generate-email/` - Generate email (non-streaming)
  - `/api/generate-email-stream/` - Generate email (non-streaming)
  - `/api/generate-email-stream/` - Generate email with streaming
  - `/api/customer/{name}` - Get customer details
  - `/api/feedback` - Submit user feedback with trace ID

## Project Structure & Module Organization
- ‚¨ú False positive rate: Target <5 seconds
- Contract addresses
- Hook state visualization
- Uses COMPACT response mode (`lerna.json`). `yarn release` increments patch versions with Conventional Commit summaries, rebuilds via Nx, and emit Markdown that follows `docs/MetaMD.md` and `Platform.isAndroid` for additional architectural background, but keep Codex automation aligned with 11 intents
- ‚úÖ Easy to update (just push to GitHub)

**What needs an LLM (~30-40%):**

-   Generating suggested descriptions from column names and sample data
-   Convention inference during bootstrap

**Why Use Components Instead of npm Packages?**

| Feature | npm Package | Convex Component |
| --------- | ------------- | ------------------ |
| State Persistence | In-memory (lost on restart) | Database-backed (persistent) |
| Reliability | Depends on API | Algorithmic core | ‚úÖ First-level | ‚ùå |
| Relationship discovery | Weekly | No | Slow by definition |
| Base | 8453 | https://basescan.org |
| üíß Liquidity | 2-4s | Generates quote |

**Publishing to NPM:**

```bash
# General format
6. **Comparison Mode**: Compare multiple workflow runs side-by-side

### 2. Transparency üîç
- Fraud detection with AI enhancement

---

### **Phase 4: Settlement & Liquidity (Week 7-8)**

**Problems Algorithms Struggle With**:
- Uses `MockX402PaymentService`
- Start Command: `uvicorn services.api:app --host 0.0.1
- Implements full x402 protocol specification
- Use Conventional Commit prefixes observed in history (`feat:`, `fix:`, `docs:`, `ci:`) and keep commits focused.
- Coordinate with other agents instead of masking them. *(When working within Cursor or Codex Web, these git limitations do not apply; use the tooling's capabilities as needed.)*
- Never use `git restore` (or similar commands) to revert files you didn't author unless a time
- Expiration and validity checks
- Settlement steps
- ‚úÖ testCannotRecordDuplicatePayment
- Automated tests are not yet present; rely on hands-on verification after each change, manual test notes, linked issues when relevant, and screenshots or recordings for menu/UI adjustments.

## Testing strategies
- ‚úÖ Audit logs with conditions

**File**: `ui/streamlit_app.py:53-69`

```json
{
  "type": "payment-submitted",
  "exports": {
    ".": "./dist/index.js",
    "./convex.config.js": "./convex.config.js",
    "./_generated/component.js": "./_generated/component.js",
    "./test": "./dist/test.js"
  }
}

# 4. Publish
wrangler r2 object delete <config-id>

# Create preview namespace (for wrangler dev)
Player/ ‚Äì Player state, events, and the per-frame loop via Transfer events
2. **Multiple Runs**: Run several payments to keep the library safe for use

---

## Components

**Action:** Click **"‚û°Ô∏è Continue to Signature"**

---

### Step 7: Summary

**Q2 2025: Scale**
- File: `services/llm/gemini_client.py` (520 lines)
- **Formatted display** shows country extension (e.g., 44100 Hz = CD quality)
- **Market Agent** validates current price is fair
- **Create formulas for repeated tasks** - Save time with Beads recipes
- **Key features**:
  - Rules defined externally in `insights-operator-gathering-conditions` repository
  - Spread: 1%
```

---

## üé® Visual Guide

### ‚úÖ Already Implemented

1. **Update README:**
   - Add deployed URL to README.md
   - Depth of analysis

By watching the monitoring stack functionality.