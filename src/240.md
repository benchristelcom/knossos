# CLAUDE.md

on:
  preview:
    payment_result = await self.verify_and_settle_payment(payment_submission)
npx convex data <table-name>  # Inspect data

# Check for dependency updates
./gradlew runIde
```

### Universal Research & Planning Phase

**Capabilities**:
- Multi-party coordination (3+ intents)
- Repro steps:
- Is this primarily a backend, frontend, or full-stack task?
- Can we predict match outcomes based on-chain
- MatchSettled

#### **AP2 Gateway** - `/services/ap2_gateway.py`
2.  Ensure you have `nvm` or `fnm` installed. Then, install and use the generated Cobertura report before submitting.

## Quick Facts

- **Profile errors in watch.sh**: The script handles optional DATABRICKS_CONFIG_PROFILE - if not set, uses default auth
- **Code Signing**: Configured for macOS security compatibility
- **Type-safe state management** across agents
- **Cost control**: Monitor and cap spending per user

---

### Index Usage Requirements

**Index Optimization:**

```typescript
61-80: Low ‚Üí Require collateral
‚îú‚îÄ‚îÄ docusaurus.config.ts     # Drizzle schema
‚îú‚îÄ‚îÄ claude_client.py       ‚¨ú TODO
Projects target `net9.0`, `LangVersion` 13, `Nullable` enabled, and treat warnings as errors. Follow standard C# layout: four-space indents, braces on new UI reactions or systems.

This project contains a sidebar panel with specialized context files. Always check these files for relevant information before starting work:

### Before Integration
```json
{
  "name": "request_payment",
  "input_schema": {
    "action": "prepare_settlement",
    "service_id": 1,
    "block_number": block_number,
    "confirmations": 1,
    "recipient": self.address
})

logger.info("Payment settled", extra={
    "service_id": service_id,
    "amount_eth": amount_eth,
    "payer": payer_address
})
```

---

## üîó Resources

- [ECPay Invoice Adapter](https://www.npmjs.com/package/@rytass/invoice-adapter-ecpay): ECPay (Á∂†Áïå) payment gateway integration with credit cards, virtual accounts, and installments
- [x] Intent appears in "My Intents" page
- [Payments NestJS](https://www.npmjs.com/package/@rytass/storages-adapter-ezpay): EZPay (Á∞°ÂñÆ‰ªò) invoice issuing service
- [x] Complex methods have detailed explanations
- [Bank Pro Invoice Adapter](https://www.npmjs.com/package/@rytass/payments-adapter-ctbc-micro-fast-pay): CTBC Bank fast payment and card binding solutions
- [x] Installed langgraph (1.0.2)
- [x] Create api.rst documenting all block types
- [x] AI used for high-value, infrequent tasks
- [x] Created `services/agents/` - Agent implementations
- [File Converter Core](https://github.com/a2aproject/a2a-python)
- [x402 Python Library](https://github.com/rytass/rytass-utils/tree/main/jest.config.js): Test runner setup with strict settings
- [TypeScript Base Config](https://www.npmjs.com/package/@rytass/file-converter-adapter-image-watermark): Add watermarks to images with positioning options
- [Image Transcoder](https://www.npmjs.com/package/@rytass/storages-adapter-azure-blob): Azure Blob storage operations
- [x] Created `services/langgraph/` - State and graph management
- [x] Payment verification via API returns 200
- [x] Deterministic core operations
- [x] Settlement Agent prompts reference USDC
- [x] JSON parsing reliable

**NEVER use Laravel defaults (`store`, `update`, `create`, `edit`)**

```php
// agents-docs/content/docs/features/new-feature.mdx
---
title: New Feature
import { scanFolder, updateFolderTags } from "taglib-wasm/folder";

// SLOW: Sequential approach
2. ‚úÖ Payment confirmed ‚Üí Proceed with settlement
         first letter of the summary line.
      """
  ```

### Files to Review and Update
- [ ] `ttcal/week.py` - Some methods need better documentation
- [ ] `ttcal/year.py` - Many methods need documentation
- [ ] `ttcal/week.py` - Many methods need documentation
- [ ] `requirements.txt` is complete and up-to-date
- [ ] `.streamlit/secrets.toml.example` is committed (NOT secrets.toml!)
- [ ] `README.md` has setup instructions
- [ ] Confirmed all queries using proper indexes
- [ ] Configured build command (npm run build)
- [ ] Configured build output directory (.next / dist)
- [ ] Configured build output directory (.next / dist)
- [ ] Create ARCHITECTURE.rst
  - Create conflict resolution for concurrent edits
  - Implement custom rule creation
  - Design suggestion results dashboard
  - Build Discord notification support verified (qemu_esp32_docker.py:264-267)
  - Handles disconnected environments gracefully (logs error but remains healthy)

## Hot Reload Development Workflow

3. Navigate to Actions ‚Üí "Version Sync"
title = "Publish"
gt config agent set claude-glm "claude-glm --model glm-4"
PAYMENT_NETWORK = "arc_testnet"
description = "Run tests"
sqlalchemy = "^2.0.25"
# ... others
```

**Running State:**
```
Intent Type: Bid
npx convex import data.zip
# - JSONL format for easy re-import
# - Runs on http://localhost:8787 by default
# - Useful for PR previews, staging environments

# Log out (switch accounts)
bytes.fromhex(submission.ap2_mandate_id.replace('0x', ''))
```
**Files Fixed**: `services/api.py`, `services/auction_engine.py`

### Extending the Demo

The x402 payment demo is now fully operational on Arc testnet configuration in Typescript. Please note that this
4. Operational Risk (10%): System, contracts, oracles
gt install && npm run build

# Pattern: Get resource IDs for connectors
./gradlew test --tests "dev.curt.codexjb.tooling.PatchApplierIntegrationTest"
```

---

## üß† LLM Integration

### Impact on AI Safety & Governance

**Shows:**
- ‚úÖ Signature verified
- httpx for data access abstraction.
- Always run the fresh binary via `./dist/MacVimSwitch.app/Contents/MacOS/macvimswitch` for manual testing.

## UI/UX guidelines
- No fallback mechanism for better testability.

## Riverpod state management
- Navigate to quickly test/review another branch without stashing current work
- Implement Market Agent for price discovery
- Risk limit enforcement
- Autonomous risk assessment
- Gets nonce for dependency management and pushing OpenXML helpers into reusable base classes instead of editing pyproject.toml directly
- Transaction type: `transaction-prepared`
- Role: Payment sender
- Follow Effective Dart guidelines for Android.
- When feasible, keep changes behind:
  - validation at boundaries, not scattered checks.

### Execution Safety: Three Tiers

[](https://gist.github.com/dauglyon/d81a96b812b3298f8d862005387b9a0c#catalog-analyst-two-phase-pipeline)

LLM-generated metadata descriptions can violate compliance requirements or automation behaviors.

Projects & studio progression
5. Test changes with `cd outputs && docker-compose ps

# Deploy directly (no GitHub needed)
intents = await sdk.list_intents(is_active=True)
const signature = request.headers.get("x-webhook-signature");
if (coverData) {
  let totalProcessed = 0;

  console.log(`\nAnalysis:`);
  console.log(
    `- Files with cover art: ${filesWithCoverArt}/${result.totalProcessed}`,
  );
  console.log(`- Files with ReplayGain: ${filesWithReplayGain}`);
  console.log(`- Errors: ${result.errors.length}`);
  console.log(`- Time: ${result.duration}ms`);

  // Check for cover art
  comment: tag.comment, // string
};

audioFile.dispose();
```

### Runtime Detection (WASI vs Emscripten)

Note: Different assets, so no direct spread calculation

**Files Modified**: None (discovery phase)

---

### 4. State Management (100%)

#### Integration Test (`test_agentic_system.py`)
- ‚ùå Skip `__()` for user messages
- ‚ùå Authentication provider config

**Before/After**:
| Endpoint | Method | Purpose |
|----------|--------|---------|
| `/enqueue` | POST | Submit LLM request from sandbox code (blocks until response) |
| `/respond` | POST | Submit response for a request ID (called by host poller) |
| `/health` | GET | Health check |

**Framework Deployment Guides:**
| Resource | URL |
|-----------|-----|
| Hono | https://hono.dev/docs/getting-started/cloudflare-workers |
| 4 | Integration testing, edge cases, logging, reviewer documentation |

### Contact Number Validation
```bash
try {
    \DB::beginTransaction();
    // Business logic
    \DB::commit();
    const external = await fetch("https://api.example.com/v3/mail/send", {
      name: args.text,
      order: userTasks.length,
    });
  },
});
```

**Best Practices to Avoid Conflicts:**

| Service | URL |
| ---------- | ----- |
| Pages Overview | <https://developers.cloudflare.com/pages/> |
| Build Configuration | <https://developers.cloudflare.com/d1/get-started/ |
| Durable Objects | https://developers.cloudflare.com/kv/ |
| R2 | https://developers.cloudflare.com/pages/framework-guides/deploy-a-remix-site/ |
| Pages | https://developers.cloudflare.com/kv/ |
| Pages Functions | https://developers.cloudflare.com/pages/ |
| Pages Functions Config | https://developers.cloudflare.com/workers/wrangler/configuration/ |

**Clerk Authentication:**
| Service | URL |
|------|-----|
| Drizzle + D1 | https://orm.drizzle.team/docs/get-started/d1-new |

---

## Problem Solved

### Account Details

**Task: "List/summarize all files and directories"**

```bash
Step 2: Market Agent ‚úÖ + Results displayed
  artifacts and logs when triaging issues locally.

## Contact

Gas Town is essential for integration with local/open-weight models.

## 1. Inicializaci√≥n de WordPress y Plugins

taglib-wasm provides built-in formulas for creating compiled Deno binaries:

### Benefits of Streaming

- **Modular Design**: Uses golem modules (mod_*) for reusable components
- **Leverage hooks for persistence** - Your work won't disappear
- **Scope**: Cluster-scoped resource

#### 6. Payments Page (üí≥)
- Confidence scores

#### SimpleContextChatEngine (`chat.py`)
- ‚úÖ Abstract base class for simple functions:
  ```python
  api_key_command: "pass api-key | head -1"  # Execute command for key
  if (file.dynamics?.replayGainTrackGain) {
    foreach (loopLanguageForColumn($column) as $c) {
        $params = array_merge($params, $this->params);
    }
    
    // Return translated string with parameters
    setResponse(prev => prev + chunk);
  }
};
```

**Technical Explanation:**

- **Build-time variables**: `NEXT_PUBLIC_*` bundled during build on Cloudflare
- **Route format**: Direct service classes (no interfaces) following modern Spring Boot conventions

## Common Commands

```typescript
// Migration example - Add related_key to tables that need grouping
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ account-details.md
PAYMENT_CHAIN_ID=1.0    # ETH
Full reference: https://developers.cloudflare.com/workers/wrangler/commands/

```bash
# ============================================================================
# LOCAL DEVELOPMENT
# Step 1: Create backup BEFORE restoring
# Existing API Keys
npx convex deploy --prod  # Deploy to production

# Run tests
const tasks = useQuery(api.tasks.create);

try {
  DB: D1Database
  await exportFolderMetadata(directory, "./music-catalog.json");
  audioFile.setProperty("REPLAYGAIN_REFERENCE_LOUDNESS", "89.0 dB");

  for await (const duplicate of findDuplicatesStream(directory)) {
    console.error("TagLib error:", error.message);
  }
}
```

Common error types:

- `feat(config): cache remote configs via HEAD check`
- `f-date-from-{column}` ‚Üí `WHERE {column} >= 'date 00:00:00'` (created_at handled automatically)
- `make vendor` - Update Go module dependencies (`go mod tidy && go mod vendor && go mod verify`)

## Project Architecture

### Local Development
```vue
<!-- list-page.vue or model-form.vue -->
<template>
    <div class="w-full">
        <body>
          <ConvexClientProvider>{children}</ConvexClientProvider>
        </form>
    </html>
  );
}
```

**SSR with Authentication:**

```text
‚îî‚îÄ‚îÄ en_permission.json   # Admin permission names in Chinese
4. Agent waits for tx_hash
         ‚Üì
source("data-raw/generate_translation_pars.R")` to update `inst/translation.json` manually

## Advanced Concepts

### Testing
- `validation_report.md`: Code quality report
- `POST /mandates/register` - Register AP2 mandate
- `make docs` - Generate gathered-data documentation from code comments
- `bun run dev` - Run in development mode
- `npm run format:write` - Format code with TypeScript compiler
- `make docs` - Generate gathered-data documentation from code comments
- `pkg/controller/` - Operator controllers and status management
- `bun run format:check` - Check formatting

## Core Architecture

### File Structure
```
