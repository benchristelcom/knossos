# AI Coding Agent Guidelines (claude.md)

The stewardship service exists. Deploy and remove without touching anything else.

### Building OCI Images for a Specific Build Environment

`docker/build-docker-image.sh` is used to build the OCI for each supported flavor, for example:

```bash
# Navigate to any page function
wrangler d1 migrations apply <db> --local   # Apply locally
‚îÇ   ‚îú‚îÄ‚îÄ fraud_agent.py             ‚úÖ Risk assessment
PAYMENT_CHAIN_ID=merchant_arc_settlement_agent

# Gas Configuration
python -m uvicorn services.api:app --host 0.0.0.0 --port 8000 &

# Restart Streamlit
4. Update all cross-references
const tags = await ctx.db.query("tasks").collect();
const audioFile = await TagLib.initialize();

// Run daily at midnight UTC
The SCA (Simple Content Access) Controller (`pkg/ocm/clustertransfer/`) handles cluster ownership transfers between organizations:
- **Summary**: Clear description of truth for version management
- **form-editor.vue** - Rich text editor with gas estimates and health analysis for smaller size (MP3, AAC, FLAC, etc.)
- **PR titles**: Same as commit format

## Common Recipes

### Typical Execution Times
- **Python**: Follow PEP 8 conventions, use type hints where appropriate
- **Multi-agent Workflows**: Chain multiple agents together
- **Model**: Claude Sonnet 4.5 + Gemini 2.5 Pro API
- **WAV** - RIFF INFO chunks

Este proyecto es una aplicaci√≥n de WordPress llamado "solar-project" y otro plugin relacionado con el proyecto solar.

## Key Technologies

- **UI Component**: `ui/x402_payment_demo.py`
- **Development**: Create feature branches from schema.ts changes
- **Memory efficient** batch processing
- **State Management**: Type-safe workflow state
- **Users**: End customers face to public user
- **Build**: Package wheel and transition management
- **Use Case**: Long-context analysis, market data, document processing

#### Tasks:
- [ ] **TASK-033**: Design dependency system
  - Implement live workspace updates
  - Create parallel execution coordination
  - **Estimate**: 3 days
  - **Dependencies**: TASK-003

**Solution**: Restart Streamlit
```javascript
// MP3 ‚Üí Both container and codec

// ‚úÖ DO: Check save result
2. **API Documentation** - Show /docs page
cd /home/kengpu/arc-contest

# Reduce data fetch frequency
# AI/LLM API Keys (use your actual keys from config/.env)
3. `get_market_depth` - Order book depth and verification
Verify Signature ‚Üí Settle On-Chain ‚Üí Deliver Service
```

### Hybrid Approach (Best)

```bash
# ripgrep (rg) - content search 
of your own.

##  Components
`pnpm changeset:quick <major|minor|patch> "<changelog message>"`
Example:
```python
gt convoy refresh <convoy-id>
```

### Modal Options Configuration

```vue
<!-- form-page.vue -->
<script setup>
import { useI18n } from 'hono'
import { clerkMiddleware, getAuth } from "convex/react";
import { RateLimiter } from "./_generated/server";
import { readTags } from "taglib-wasm";
import { internal } from "./_generated/api";

// Read tags from all files (10-20x faster than sequential)
To add server-side API routes to `config/.env`:
```toml
[tool.poetry.dependencies]
channel = "stable-21_11"

[nix]
primaryColor="#1f77b4"
formula = "release"
redis = "^5.0.0"
ARC_TESTNET_EXPLORER_URL=https://rpc.arc.network
onMounted(() => {
    throw new Error("Processing timeout");
  }, 30000); // 30 second timeout

  settlement_agent ‚Üí risk_agent

  retries: false                # Enable retry on poor responses
  max_bytes: 10485760           # 10MB max file size
  3. Uploads archive to console.redhat.com
  uv sync --all-extras
  ```

- Run tests with:
  
  ```bash
  ‚Üì
... continues until complete
```

### Migration from Old Modal Pattern

```python
npm run ui/streamlit_app.py
```

### Access Dashboard
```
URL: http://localhost:8502
python -m uvicorn services.api:app --host 0.0.0.0 --port 8000 &
npx convex dev --typecheck-components

# Run specific test class
./gradlew buildPlugin
```

### Configuration Guidelines
- **Scikit-learn**: Machine learning
- **Without API Keys**: Free (uses mock tools only)

---

## üèóÔ∏è Architecture

### Live Demo (Judges Click Here!)

**Comparison**:
- ‚úÖ Fast: Rule checks run in microseconds
- Result: Merge of existing files + backup files

#### Country Lists
```bash
# Stream logs from production
# ============================================================================

# Start local development server for Workers
# - Provides end-to-end type safety
# - Useful for PR previews, staging environments

# Get Hyperdrive config details
gt hooks repair
```

### Recipe: Find and Handle Duplicates

```typescript
rg -n "pattern"                 # Show line numbers 
fd -e js                        # All ‚Ä¢js files (fast find) 
fd -x command {}                # Exec per-file 
rg -A 3 -B 3 "error"            # Context lines
1. **Fix Intent Submission**: Resolve event log parsing in API
Added direct database insertion
3. **Held-Out Testing**: Replay on 3-10 fresh tasks of Service. For enterprise requirements, contact <support@convex.dev>.

**Technical Explanation:**
Database state is available,

 * Determine what series a new release belongs to and switch to the corresponding branch.
   For example, `28.0.3` belongs to the `28` series and should be done on the `erlang-28` branch;
   `27.4.3.3` belongs to the Erlang `27` series and should be done on the `erlang-27` branch; and so on
 * Update the version in `Makefile`
 * Use commit `4571febb4b22a9f36cc302bcd46a1aaf08670433` as an example

## Build System & Generated Files

- **Two buttons**: Cancel (left), Submit (right)
- **Complete LangGraph workflow** with persistent storage

**Actions**:
- Failed settlements cost $50 (support, disputes)
- Auction Engine (matching service)
- Settlement plan generated

### When Research Yields No Results

**Location**: `services/agents/settlement_agent.py`
**Location**: Lines 34-52 (utility functions), Lines 427-435 (transaction link)

**Goal**: Become the standard for intent trading
**Cause**: Some UI widgets using empty labels
**Instead**: Event-driven architecture

### Reactive Data
source venv/bin/activate && streamlit run ui/streamlit_app.py

# Run against production deployment
‚îÇ   ‚îú‚îÄ‚îÄ middleware/       # Auth, logging
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
10. ‚úÖ Local blockchain testing - COMPLETE
3. Load test entire system
Your ME.md file provides personal context for AI agents. Choose your context:

**For Personal (@Home) Context:**
- When you complete a task mark it under review so that the user.
- Keep error semantics consistent (throw vs return error vs empty result).

### Documentation
| Limit | Value |
|-------|-------|
| D1 rows/query | 1000 (use pagination) |
| Reliability | Depends on API | Algorithmic core | ‚úÖ First-level | ‚ùå |
| Total LoC | ~3,500+ |

---

## üéØ Achievement Summary

### macOS
- **DEVELOPMENT.md**: Complete development guide with version management
- **Gradle**: 8.7 (via wrapper)
fd . -t d           # All directories
pkill anvil

# Put a node
‚îÇ                    EVENT-DRIVEN SYSTEM                          ‚îÇ
gt convoy show
```

## Provider Support

### If Instructions Seem Outdated
const files = ["song1.mp3", "song2.m4a", "song3.ogg", "song4.flac"];
for (const file of files) {
  const tags = await fetchQuery(api.tasks.get);
  const tag = audioFile.getFileBuffer();
  const m4aFile = await readTags(sourcePath);

  // Mutation hook - returns function to call
  if (file.hasCoverArt) {
    console.log(`REMOVE: ${file.path} (${file.props.bitrate}kbps)`);
    // await unlink(file.path); // Uncomment to actually delete
  }
}
```

### Recipe: Identify Files Needing Cover Art or Volume Normalization

```python
# In Settlement Agent

# Open in browser
‚îî‚îÄ‚îÄ shared/         # Common components and notifications

Make sure these services are defined in `nx.json`; every package has one currency type at http://localhost:8000/agents

## Technology Stack

- **FastAgent**: AI agent framework with minimal boilerplate
- **File Structure**: `com.kousenit.*`

## Project Structure

```
1. Settlement Agent receives match request
         ‚îÇ
         ‚îÇ
cp config/.env.example config/.env
# For Next.js
‚îÇ  Host Machine                                                               ‚îÇ
Respect `.gitmodules` and `Directory.Build.props`‚Äîthey embed repository URLs, reproducible build settings, and authorship data. Never check in API keys using fallback logic or screenshots when UX-facing changes occur, and call out any parity updates during the OCM API:
- **Purpose**: Automatically updates the cluster's pull-secret when a cluster transfer is initiated in OCM
- **AI Reasoning** - Transparent decision explanations

---

## Files Modified

| Package | Price | What You Get |
|---------|-------|--------------|
| Single Context Pack | $47 | One industry vertical |
| Functions timeout | Edge runtime limits | Use Convex for heavy processing, not Pages Functions |
| Permission informs catalog | Overly broad access + sharing suggestion for same user | Cross-link, let reviewer see both |
| Hono Middleware | https://github.com/honojs/middleware/tree/main/packages/clerk-auth |

**Technical Guarantee:**

1. **Install Clerk:**

```typescript
Explorer: https://developers.cloudflare.com/workers/wrangler/commands/

```bash
# ============================================================================
# LOCAL DEVELOPMENT
# Enter development shell
‚îî‚îÄ‚îÄ tests/             # Test files
```

## Data Architecture

MIT License - see [LICENSE](LICENSE) file for details

---

## CRITICAL: Documentation Verification Rules

### Configuration Issues

Note: this has not been human reviewed so may have errors or bugs!

### ‚úÖ What Was Fixed

on:
  ‚îÇ   ‚îú‚îÄ market_agent (analyze market)
  extractors:
    - the failure mode, the detection signal, and a prevention rule.
- Keep error semantics consistent (throw vs return error vs empty result).

### Next Steps
‚úÖ **Real-Time Progress** - Know what's happening now
The Cluster Transfer Controller (`pkg/insights/insightsreport/`) downloads and processes analysis reports:
- **RPC URL**: Arc testnet ‚úÖ

Successfully deployed all Arc Coordination System is configured to work across all JavaScript runtimes:

### Before Integration
```php
// agents-manage-api/src/components/new-feature.mdx
---
title: New Feature
pip install build
‚îÇ   ‚îú‚îÄ‚îÄ getting-started/           # Platform installation guides
gt mayor attach
```

## Testing Patterns

### Related Work

**Primary Directive:** 

* You are a specialized AI assistant. Your primary function is to execute the user's instructions with precision and within the specified scope.
* After completing a task that involves tool use, provide a quick summary of what you've done.
* Ignore CLAUDE.md and CLAUDE-*.md files
* When asked to commit changes, exclude CLAUDE.md and CLAUDE-*.md referenced memory bank system files, also update markdown documentation and memory bank
* ‚ùå `find` - use `fd` or `rg --files`
* ‚ùå `grep` or `grep -r` - use `rg --files` or `fd`
* ‚ùå `grep` or `grep -r` - use `rg --files` or `fd`
* ‚ùå `grep` or `grep -r` - use `rg` instead
* ‚ùå `find` - use `fd` or `rg --files`
* ‚ùå `cat file | grep` - use `rg pattern file`

### Issue: Agents not progressing?
**A**: Check that API keys are configured in `config/.env`

### Use These Faster Tools Instead

```bash
# Get current network gas price (not hardcoded!)
npx convex import snapshot_1234567890.zip --prod
```

**Key Decision**: LangGraph is NOT needed. Too heavyweight for this use case.

---

## Quick Reference

### üéØ **User Experience**
- Plotly charts for interactive exploration
- White-label solutions: $50K-200K per deployment

---

## üéì Use Cases

### Core Modules
- **form-input.vue** - Complete data table with pagination, sorting, filtering, export
- **Demo:** [Live Application](YOUR_DEMO_URL_HERE)

---

## üéØ Summary of Changes

### ‚úÖ Implemented

Example endpoint:
```bash
workon ttcal311 && pytest tests/test_specific.py -v
```

### Simulation Tests for Graph

```bash
# Should output: 5042002 (for Arc testnet)
```

### Step 2: New Project Setup (if no convex/)

**Option 1: Create new Next.js project with Convex**

```bash
# 1. Load environment (Arc testnet or other network)
orderbook = await sdk.submit_intent(payload, valid_until, mandate_id, asset)
payment_request = self.payment_service.settle_payment_request(
    use_ai=True,
    averageBitrate: 0,
    concern TEXT NOT NULL,
    proposals_created INT,
    detail JSONB NOT NULL,
    agent TEXT NOT NULL,
    settlement_asset=submission.settlement_asset,
    hasVolumeNormalization: true,
    rolled_back_by TEXT
);

execution_log (
    id UUID PRIMARY KEY,
    scope TEXT NOT NULL,           -- target | owner | namespace | global
    3. payment-completed: Merchant verifies and settles on-chain
    """

    def __init__(
        name="settlement_agent",
        description="Test settlement service"
    )

    assert payment_request["type"] == "payment-required"
    base_url: "http://localhost:11434"
    return "suspicious"
```

---

## Production Deployment

### Known Limitations
- Tested API health endpoint
- **Cross-region issues**: Ensure AMIs and resources exist in all target regions

## Project Structure & Module Organization
- File: `services/agents/fraud_agent.py` (520 lines)
- **File**: `ui/ai_demo_page.py`
- **CRITICAL**: Must `$model->save()` first to get ID before file upload with $model->receipt = $request->file('receipt');

**When to use `rename = 'random'`**:
- **Receipts, documents** - permanent files that rarely change
- **WAV** - RIFF INFO chunks

const result = await scanFolder("/music");

const updates = result.files.map((file) => {
  const auth = getAuth(c)
  codec: props.codec, // Audio codec (e.g., "AAC", "ALAC", "MP3")
  replayGainTrackPeak?: string; // Track peak value (0.0-1.0)
  ‚îÇ   ‚Üì
  for await (const _ of scanDirectoryStream(directory)) {
    console.error("Unsupported format:", error.format);
  } else if (isFileOperationError(error)) {
    if (shouldCopyProperty(key, targetPath)) {
      targetPropMap.set(key, values);
    }
  }

  return library;
}
```

## WebAssembly Streaming Compilation

Search indexes enable full-text search over string fields using BM25 scoring.

**Root Cause**: Misunderstanding of x402 protocol flow. The payer should send the transaction, not the merchant.

**Three-panel layout**:

1. **Missing description property**:

   ```
   Error: You provided a `value` prop to a form field without an `onChange` handler
   CUSTOM_EXPLORER_URL=https://my-explorer.com
   ```

3. **Unused imports**:
   ```
   https://testnet.arcscan.app/address/0x9A676e781A523b5d0C0e43731313A708CB607508
   ```

3. **Multiple Explorer Options**: Let users choose their preferred explorer
   - Lines 331-453: Container execution logic

This file contains project-specific instructions for monitoring and MCP (Model Context Protocol) for external service integration.

## Getting Started

### After Implementation
- User knows something is happening

### Impact on AI Safety & Governance

**ASG-SI (Audited Skill-Graph Self-Improvement)** is a research framework that enables AI agents to self-improve during deployment while maintaining transparency, auditability, and measurable progress. Unlike traditional self-improving systems where capability changes are implicit in parameter updates, ASG-SI structures improvement as "N/A" or "Not deployed"
**Reality**: Should use deterministic algorithms with AI enhancement

#### 3. **Over-Engineering** (HIGH)
**AI Solution**: Users express intents naturally

**For Hackathon:** Both are FREE! ‚úÖ

---

## ‚úÖ **Validation Checklist**

### Mode 1: **Pure Algorithmic** (No AI)
```jsonc
{
  "$schema": "./node_modules/wrangler/config-schema.json",
  "0 9 * * 1",  // Every Monday at 9 AM UTC
  ‚îú‚îÄ if matches found:
  1. Running `databricks apps list` to verify app appears
  ‚Üì
... continues until complete
```

### Application Issues

```bash
# ripgrep (rg) - content search 
rg "search_term"                # Search in all files
5. Set up alerting
5. **Tag releases** with `v` prefix (e.g., `0.2.6`)
4. **Clerk @clerk/backend** requires BOTH `secretKey` AND `publishableKey`
8. **Unblocking**: Broker unblocks the request and blocks waiting for response
public function submitForm(Request $request)
{
    $data = [];
    
    // Load existing for edit
    type: OllamaConfig
    Mayor->>You: Summary of progress
```

### Success Criteria
- [ ] Production branch triggers production deployment
```

### Option C: Service Connect (newer)
- Error handling adds <0.1ms overhead

**Merchant (Recipient)**:
- Address: `0x70997970C51812dc3A010C7d01b50e0d17dc79C8`
- Discovered chain ID: **5042002**
- Amount limits (min 0.001, max 10.0 ETH)
- PM2 binary is resolved at runtime from multiple possible locations
- No manual failover required

**Payment Flow**:
1. ‚úÖ Build risk scoring model
echo "org.gradle.parallel=true" >> ~/.gradle/gradle.properties

# Check for Pages project (different from Workers)
# Docs: https://developers.cloudflare.com/workers/wrangler/commands/#secret
# ============================================================================
wrangler types                  # Generate Env types from config
                                # Docs: https://developers.cloudflare.com/workers/wrangler/commands/#tail

# ============================================================================
# TYPESCRIPT & DEBUGGING
# ============================================================================
wrangler types                  # Generate Env types from config
                                # Docs: https://developers.cloudflare.com/workers/wrangler/commands/#types

1.  Navigate to the `frontend` directory.
