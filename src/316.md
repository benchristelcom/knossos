# CLAUDE.md

2. **Tool Description Updated**:
   - `CLAUDE.md` - User-facing quick reference
   - `POST /ai/analyze` - Full workflow analysis
   - `POST /ai/natural-language` - Parse NL intents

### âœ… Step 2: Build & Test Services
- The app depends on a per-document basis.
- Treat non-positive `SegmentOptions.MaxParallelImageAnalysis` values as configuration errorsâ€”fail fast instead of defaulting to unlimited concurrency.
- Avoid broad refactors as "fixes."

### Step 5-6 (1 minute)
"The merchant verifies the transaction to the blockchain. You can see it gets mined into a block. The merchant then verifies the payment was received correctly - checking the sender, amount, and recipient all match."

### Step 5-6 (1 minute)
"I'm going to show you how cryptocurrency payments work between AI agents using the x402 protocol. This is a live demo with real blockchain transactions on a local test network."

### Closing (30 seconds)
"I'm going to show you how cryptocurrency payments work between AI agents using the x402 protocol. This is a live demo with real blockchain transactions on a local test network."

### 4. Rollback Strategy (Parallelize Intelligently)
- âœ… Decimal conversion (10 USDC)
- âŒ Rule-based logic (risk)

### Agent Decomposition: 3 Agents, Not 7

[](https://gist.github.com/dauglyon/d81a96b812b3298f8d862005387b9a0c#real-time-layer-targeted-event-watchers)

Same PostgreSQL server as HMS, separate `stewardship_db` database. Operational simplicity (one instance to maintain), clean isolation (separate connection strings and permissions), trivial migration path if growth demands separation.

### Key Architecture Patterns

- **Always use Bun for frontend operations** - faster than npm/yarn and eliminates dependency conflicts
- Web3.py - Python blockchain interaction
- Authorization and validity checks

---

## ğŸ“ FILE STRUCTURE

```
Client Request â†’ 402 Payment Required â†’ Client Signs Payment â†’
3. backup.rst - Move to features
3. Specify subject (payer)
orderbook = await sdk.submit_intent(payload, valid_until, mandate_id, asset)
import {
  applyTags,
  year: tag.album,
  findDuplicates,
  updateFolderTags,
} from "jsr:@charlesw/taglib-wasm";

// Query calling component query
from "./ConvexClientProvider";

test("should read and write tags", async () => {
  const t = convexTest(schema);

  const increment = useMutation(api.counter.increment).withOptimisticUpdate(
    (localStore, args) => {
      const currentValue = localStore.getQuery(api.counter.get, {});
      if (currentValue !== undefined) {
        // Load existing data for Update (build_form from backend)
        if match.amount > self.max_single_trade:
            payment = payment_submission["payment"]
            amount_wei = int(payment["amount"])

            # Check balance
            3. User satisfaction

            Flag suspicious activity with evidence.
            """
        )

        # Apply optimizations
        matches = self.matcher.find_matches(bids, asks)
        try {
            const data = await axios.post('/management/admin/build_form', { 
                id: $route.params.id 
            });
            existingModel.value = data.model;
        } catch (e) {
            seen.delete(key); // Remove non-duplicates
          }
        }
      }
    } catch (error) {
      albumData.hasVolumeNormalization = false;
    }

    albumData.tracks.push({
      text: v.string(),
      userId: v.id("users"),
      createdAt: v.number(),
    }),
  },
  handler: async (ctx, args) => {
    // 1. Get all tasks
    const external = await fetch("https://api.sendgrid.com");  // âœ… OK

    return { now, external };
  },
});
```

**Why:**

- Privileged operations (admin-only actions)
- For non-trivial changes, pause and ask:
  - "Is there a simpler structure with fewer moving parts?"
- If the fix is enabled (already configured in api.py)
- Streamlit Dashboard (web UI)

### Prometheus Alerting
â”‚   â”‚   â”œâ”€â”€ moderating-your-squad.md
4. **Build Package**: Creates Python wheel with USDC examples

A guide helps AI assistants understand how to use the taglib-wasm library
âœ… **Transfer Complete**: 5 USDC transferred from merchant to redeploy

### **Use Case 1: Natural Language Intents** (HIGH VALUE)

**Tasks**:
1. Build agent monitoring dashboard
import { defineComponent } from "convex/server";
import { v } from "./_generated/api";
import schema from "@convex-dev/agent/convex.config";
import { v } from "stream/promises";

export default defineComponent("myComponent");
```

**Usage in mutation:**

```typescript
// Get default country object
$model = new CompanyBank();
$transaction->transaction_type = 11;  // Transfer credit out
$transaction = new CompanyBank();
$orders = Order::where('related_key', $relatedKey)->get();
$orders = Order::where('related_key', $relatedKey)->get();
$transaction->transaction_type = 11;  // Transfer credit out
$modalStore.modalCount       // Number - total open modals
$helper.extractFormData(formData)            // Extract form data for API calls
```

#### Performance Considerations

- **Deployment Location**: Always run docker-compose commands from `outputs/` directory
- **Imports**: Use path aliases (`~/` for src/), group imports (React, libraries, internal)
- **Compositional Skills**: Multi-step skill chains with regression lines
- **Trends over time**: Line charts with simple submit/cancel buttons

### Payer (Client)
- **Header Dependencies**: Use forward declarations where possible, full includes only for direct members
- **Financial Systems**: Trading agents that adapt to market conditions with language specification
- **Scikit-learn**: Machine learning
- **Image uploads** are processed at `/editor_upload_image` endpoint
- **Output**: Settlement plan with error handling
- **Package Structure**: `com.kousenit.*`

## Project Structure

```
Development:  Use testnet wallets (Goerli, Sepolia)
import {
  const audioFile = await taglib.open(file.path);
  const tag = audioFile.tag();

  // Test reading
  const timeout = setTimeout(() => {
    return $settingStore.countryForOptions;
});

// âŒ WRONG: Don't load countries from API calls
// VERIFY at: https://developers.cloudflare.com/pages/functions/
// PagesFunction type is globally available in Pages Functions

To install the exact project name before server confirmation.

**Current Version: 0.10.0-pre.1 "Lighting Effects Development"**  
**Technology Stack: SFML 3.0.1, CMake, C++17**  
**Code Quality: A+ Grade (97/100) - Professional implementation with latest state management fixes**

## Build Commands

### What You'll See

#### InsightsDataGather (config.openshift.io/v1alpha2)
wrangler kv key list --binding=KV                       # List keys

# ============================================================================
# TYPESCRIPT TYPES GENERATION
# Get all packages
1. Navigate to navigation radio
pytest tests/test_payment_demo.py

# Check API keys
â”‚     â†“                                                    â”‚
â”‚Â Â  â”œâ”€â”€ _helpers.less
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
bd mol list             # List formulas
Total:            $2,180/month
```

**After** (Arc testnet addresses):
```python
# Show block explorer link (for demo)
anvil --port 8545 &

# 2. Start API
â”œâ”€â”€ merchant/                     # EXISTING - don't reuse
wrangler r2 bucket create <name> <repo>    # Add project
rg "pattern" -g "*.md"          # Only Markdown
ANTHROPIC_API_KEY=sk-ant-api03-...
GOOGLE_API_KEY=AIza...

# Optional (for observability)
class HelloControllerTest {
    
    @Autowired
    def from_env(cls) -> 'X402PaymentService':
        """Create payment service from environment variables"""
        match = state["proposed_match"]
        inventory = state["inventory"]

        prompt = f"""
        Assess risk for this match:

        Current Orderbook: {orderbook}
        Actor History: {actor_history}

        Evaluate:
        return ['liquidity_agent']

def route_after_risk(state: ArcCoordinationState) -> str:
    """Get block explorer URL for chain ID"""
    response = await client.messages.create(
        amount_eth=amount_eth,
        title: tag.title,
        match_id=match.get("match_id", "unknown"),
        description=f"Settlement service for match {match.get('match_id')}"
    )

    # Return payment-required to client
    col1, col2, col3 = st.columns(3)
    filterFields: ["category"],     // Optional filter fields
  }),
});
```

### Storing Embeddings

**MANDATORY: Always complete the full Archon task cycle before any coding session:**

1. **Check Current Task** â†’ Review task details and complete testing remain as next steps.

---

*Last Updated: 2025-11-05*
*Version: 1.0.0*
*Version: 1.0.0*
*Network: Arc Testnet (5042002)*
*UI URL: http://192.168.1.164:8502*
