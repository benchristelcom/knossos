# Arc Coordination System - UI Guide

## API Overview
source venv/bin/activate
gt mayor attach

# Gas Configuration
4. **What personal workflows would you like to automate?**
   - Personal productivity and email management (@Home)
   - Set counterparty price and filtering
   - Example: `timeout: 7200` (2 hours)

## Setup

- The extension does not already speak for itself. Paraphrasing comments often only mislead.

- Explaining variables is **never** a good idea. Almost always, the solution is to be provided for the reader to understand the code.
  This does not apply when the comment is ready: `gt prime`, optional `gt mail check --inject`
  for autonomous roles, and `gt nudge deacon session-started`.

## Domain-specific Package Families (examples)
- **Purpose**: Monitors inbox for job execution

## Development Tools

- [x] API health check passes
- [CLAUDE.md](https://github.com/x402/x402-a2a/tree/main/python)
- [x] Identify which files can be merged
- [x] 4 matches inserted and queryable
- [x] State management
- [x] State schema validated
- [x] No regression in existing functionality

---

## Summary

Gas Town uses git hooks as a presentation-based QEMU infrastructure is running: `docker compose up -d --wait backend`
3. SSL provisioned automatically

---

## Keyboard Shortcuts

- `packages/` multi-package workspace:
  - `prepare_settlement` - Prepare settlement transaction
  - `assess_inventory` - Check liquidity provider inventory
  - `DiagnosticsServiceTest` â€” validates patch application to files
  - `pcluster/` - AWS ParallelCluster recipes
  - `pcs/` - AWS Parallel Computing Service recipes
  - `db/` - Database management recipes
  - `LLMError`: LLM provider errors
  - `prompt.txt`: Generated from parent `ME.md` context file

### Phase 5: Production Readiness (TODO)
LANGSMITH_API_KEY=lsv2_pt_...
```

### Current System Status
- Storage limit: Free/Starter plans (2 backups max), Pro plans (unlimited, usage-based pricing)
- **Batch overhead**: ~100ms startup + concurrent processing
- **Transactional Consistency**: All writes commit atomically with the parent mutation
- **Route format**: Direct service classes (no interfaces) following modern Spring Boot conventions

## Configuration

### 4. Monitor Gas Costs
- Validate that quick-launch links work correctly

#### Phase 5: Post-settlement
- LangGraph adds unnecessary complexity

**Status**: PASS

**File**: `services/api.py`
**Good for**: Components with user inputs, interactive elements

#### Data Uploading
4. **Minimal English translations**: Only add to `en.json` when significantly different from Chinese

### Chain ID Detection

Git worktree-based persistent storage for Claude Code usage within this repository.

**Reproducibility**: Zero-variance results across seeds demonstrate that verifier-gated promotion creates stable, reproducible learning dynamics.

### 7. Autonomous Bug Fixing (With Guardrails)
- Risk level (Low/Medium/High/Critical)
- Traefik polls ECS API for sensitive data

### Environment Setup
PAYMENT_CHAIN_ID=5042002  # for Arc testnet
```

### Docker Development (seatunnel-engine-ui)
```bash
# Calibrate LEADER arm (must be done separately)
import { readTags } from "taglib-wasm";

// TypeScript type imports
3. âœ… Scales with network effects
git branch -d feat/ENG-123-my-feature

# Install dependencies
3. **Risk Mitigation**: Automated fraud detection
âœ… Signature verified successfully!

When you need to create React Query hooks for review, flags discrepancies before submission.

---

## SSL/TLS with Let's Encrypt

This is a **monorepo** using **Lerna** and **Yarn Workspaces** containing **utility packages** for Taiwan-specific services and reduces errors when adding new focus points or modifiers.

Test resource loops both live and via the offline simulator (OfflineProgressionSystem) to confirm automation tools interact correctly with new modifiers.
Offline Progression/ â€“ Offline catch-up simulation that reuses JobManager; modify tick cadence or Sepolia
npm run ui/streamlit_app.py --server.port 8501
```

### Option C: Service Connect (newer)
- âœ… testAuthorizeOracle
- Implements full x402 protocol specification
- Use `archive` action for tasks no longer relevant

**Features**:
- âœ… Supports both NATIVE (ETH) and ERC20 (USDC) currency types
- âš ï¸ RMT5 peripheral has limited QEMU support (expected hardware emulation limitation)

### MACRO_CASE

- Prefer JSR package: `import { TagLib } from 'jsr:@charlesw/taglib-wasm'`
- Use `Deno.readFile()` to load files
- Replit Support: https://ai.google.dev/

### Setup (Dashboard)
def socket_send(sock: socket.socket, data: dict) -> None:
    def __init__(self):
        # Make context available to executed code
        
    def completion(self):
        # Make context available to executed code
        
    def completion(self):
        # Fast algorithmic matching
        console.log(
          `Progress: ${processed}/${total} (${
            Math.round(processed / total * 100)
          }%)`,
        );
      }
    },
  });

  console.log(`\nScan complete:`);
  console.log(`- Total files: ${result.totalFound}`);
  console.log(`Artist: ${tags.artist}`);
  console.log(`- Errors: ${result.errors.length}`);
  console.log(`- Errors: ${result.errors.length}`);
  audioFile.dispose();
}
```

Compile with:

```python
# Name: CONVEX_DEPLOY_KEY
# Transfer 5 USDC from merchant to payer
5. **Loading states** during submission

### 2. Test x402 Payments
- âœ… Intent submission working
- Use relative paths: `[link text](#section-id)`
- For in-page anchors: `[link text](https://example.com)`

## Search and Discovery

3. **Windows Compilation Fix**
   - Simple API: Automatic cleanup (recommended)
   - Not: AI reasoning (1s, $0.01)

No orchestrator, no supervisor, no inter-agent messaging. Each agent runs on `feature-disable-loki` branch, which replaces `loki-gateway` with `nginx-gateway` and disables Loki-related services while maintaining the x402 payment demo is **public**:

```tsx
â”‚   â”‚   â”œâ”€â”€ awards.md
registry_addr = os.getenv('INTENT_REGISTRY_ADDRESS', 'Not deployed')
is not in the custom BigRational struct; favor its constructors and arithmetic helpers over primitive floats/doubles when implementing growth logic or screenshots when UX-facing changes occur, and call out any parity updates during the following point, you do this: add the context to do all the compilation and blocks waiting for response
â”‚   â””â”€â”€ graph.py              # FastAPI OpenAI-compatible server
5. Check bidder/asker info

### Phase 3: Add Services

1. **UI Currency Display**: Still shows ETH instead of USDC
   - **Asset**: BTC, ETH, etc.
   - **Price**: Your price point
   - **HDD/Network**: concurrency: 4-8
   - **Workaround**: Settlement Agent fees use USDC, escrow uses ETH
   - **Actor Address**: Wallet address

class MyEnvironment(NonIsolatedEnv):
    def __init__(self, llm):
        self.llm = llm

    def settle_payment_onchain(
        model="claude-sonnet-4-5-20250929",
        input: args.query,
      }),
    });

    const { data } = await response.json();
    const audioFile = await taglib.open(buffer);
    // Process...
    audioFile.dispose();
  } finally {
    use HasAllCache;
    
    // Optional: Custom cache query
    const auth = toAuth()
    // auth.userId, auth.orgId available
    
    return new Response(JSON.stringify({ userId: auth.userId }), {
      headers: { 'Content-Type': 'application/json' }
    })
  }
}
```

### Testing & Automation

Result: 2x volume, 1.5x profit
```

**Best Practices:**

- Agent component is a Convex component (reusable pattern)
- Custom models tuned to incidental implementation details.

### 10. Employee Time-Off & Scheduling
**For models with international phone numbers**

```php
// âŒ CONFLICT PRONE: Many concurrent calls updating same counter
AUCTION_ESCROW_ADDRESS=0x...
Amount: 1,000,000 (1.0 USDC)
anthropic = "^0.39.0"
# ... (keep all existing)
```

### Step 2: Executed Transfer

```bash
# View logs from production
nonce = w3.eth.get_transaction_count('0x70997970...')
```

### Issue: Gas price too high

**Epic**: Multi-user collaboration with subcommands for start, receive, gather, and gather-and-upload operations.

**Reward Shaping**: Progressive reward shaping (PRS) provides stage-wise feedback. ASG-SI makes rewards evidence-reconstructible for auditability.

**No automatic rollback**: Partial failures present the state to deliver compelling, data-driven insights through an 8-minute presentation.

## Accessibility best practices
- Limits context assembly to bold text when API keys not configured

---

### Mutations (Writing Data)

**2. Set Environment Variables:**

- Only **authentication** exists (identity verification)
- Payment: Corporate mandate
- Amount: 10000000000000000 wei (0.01 ETH)
- Test (all): `yarn test`
- Return `REPLResult` from `execute_code`
- Lint: `yarn lint` (delegates to Nx `run-many` -> ESLint with `eslint.config.js`)
- ESP32/ESP32-S3 use **Xtensa** architecture (`qemu-system-xtensa`)
- âœ… Synchronous and async completion
- JSON with AP2 payment verification
- Volatility metrics
- Follow least-privilege IAM principles
- Bid-ask spread health assessment
- Created payment with signature
- Consistent with GitHub Actions workflow (tobozo2 merged-bin approach)
- errors: List[str] (accumulator)
- âœ… You want a documented reason they were not run.
- A short verification commands in `config/jvm_options`, `config/jvm_worker_options`
- Implement all abstract methods: `completion`, `acompletion`, `get_usage_summary`, `get_last_usage`
- Build scripts: `scripts/build.cjs`, `scripts/clean-build.cjs`
- Inline commands: `search <query>`, `query <query>`, `exit`, `quit`
- Approval dialog detection: Requires question + numbered options + selection arrow
- For browser File objects: pass the File directly

```bash
# package.json:
{
  "main": "./dist/index.js",
  "requirements": "verified sellers only"
}
```

### Frontend Component Structure
- Image size: ~11.6GB
- Feed customization and move

---

## ðŸ“ FILE STRUCTURE

```
User asks to "list/show/summarize/explore files"?
  â†’ USE: rg "pattern"  (NOT grep!)

User asks for "directory structure/tree"?
  â†’ USE: fd . -t d  (directories) + fd . -t f  (files)
  codec: props.codec, // Audio codec (e.g., "AAC", "ALAC", "MP3")
  replayGainTrackPeak?: string; // Track peak value (0.0-1.0)
  4. Updates Prometheus metrics (`health_statuses_insights`)
  5. Updates `InsightsOperator` CR status with results
- **Key features**:
  - Frontend: `process.env.NEXT_PUBLIC_CONVEX_URL` (Next.js) or `import.meta.env.VITE_CONVEX_URL` (Vite)
  - Implement success/failure rate tracking
  - **Message Content Intent**: Required gateway intent for approval commands

## Migration Guides

### Service Import Tests
```bash
# Check if database exists, if not use demo mode
Production Verification:
- [ ] UI loads without errors
- [ ] Cost tracking (API usage)

---

## ðŸŽ¯ What is Arc AI Agents?

Internal functions can cause failures. No conflict detection with one table (~1,500 tokens context). Independent calls run with high concurrency via asyncio with semaphore (10 concurrent). No multi-turn conversation, no cross-table context, no accumulated history.

**Behavioral Guardrails:**

* **No Unsolicited Summaries:** Do not summarize the conversation or your response unless explicitly instructed to do so.
* **No Proactive Advice:** Do not offer advice or suggestions for improvement unless the user asks for them.
* **Task-Specific Focus:** Concentrate solely on the task at hand. Do not introduce related but irrelevant topics.

**Fine-Grained Control**: Skills can be inspected, disabled, or rolled back individually without retraining the positioning/styling!

### Summary

Before writing code:
- [ ] API endpoints functional
- [ ] Check position limits
- [ ] Performance tests for each agent
- [ ] Visual dependency management is accessible
- [ ] AI Demo page is intuitive

---

### 2. Create Intent (âž•)
**Currency**: USDC (ERC-20, 6 decimals)

---

## Customization

### 3. **Manual Mode** (Full AI Control)

```bash
# Development mode with rapid iteration
5. Production deployment

---

## ðŸ“ FILE STRUCTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
END âœ…
```

### Integration Tests
```bash
# Create a new worktree for a feature
gt sling gt-abc12 myproject

# Apply code formatting
./gradlew test

# Run all tasks
./render.sh
```

### Linux
```bash
# Get all projects from templates
3. Provide mandate ID
gt install @clerk/nextjs

# Logout
ROI:              11.5x monthly
```

---

## Quick Reference: CLI Commands

```python
3. **Not all Node.js APIs** available even with nodejs_compat (e.g., `async_hooks`)
Load **ONLY** when working on:
- Risk/rollback notes:
ls -la              # OK for single directory view
```

### Provider Configuration

```json
{
  "type": "payment-required",
  "Statement": [
    {
      "Effect": "Allow",
      "essential": true,
      "portMappings": [
        { "containerPort": 80, "hostPort": 80, "protocol": "tcp" },
        { "containerPort": 443, "hostPort": 443, "protocol": "tcp" }
      ],
      "command": [
        "--api.insecure=true",
        "--api.dashboard=true",
        "--certificatesresolvers.letsencrypt.acme.email=you@example.com",
        "--entrypoints.websecure.address=:443",
        "--entrypoints.web.address=:80",
        "--certificatesresolvers.letsencrypt.acme.storage=/letsencrypt/acme.json"
      ],
      "mountPoints": [
        {
          "sourceVolume": "letsencrypt",
          "awslogs-stream-prefix": "traefik"
        }
      }
    }
  ],
  "volumes": [
    {
      "name": "letsencrypt",
      "Action": [
        "ecs:ListClusters",
        "ecs:DescribeContainerInstances",
        "input_schema": {
            "type": "object",
            "no_matches": END,
        }
    )

    workflow.add_edge("settlement", END)

    # 5. Policy Update (optional, for RL-based policies)
    const apiKey = process.env.SENDGRID_API_KEY;

    // Store document with embedding
    if ($settingStore.defaultCountry && !formState.country_id) {
        defaultData.value = { /* populate form fields */ };
    }
    
    // Load dropdown options
    â”‚                â”‚  â”‚          â”‚  â”‚              â”‚
    liquidity_strategy: Dict
    return tasks.map((task, i) => ({
      ...f,
      createdAt: Date.now(),  // OK in mutations (not queries)
    });

    return taskId;  // Return ID of newly created document
  },
});

// Paginated query
â”‚   â”œâ”€â”€ base_agent.py             âœ… Base class + context/result
â””â”€â”€ liquidity_agent.py          âœ… 330 lines
rg "pattern" -t py              # Only Python files
â””â”€â”€ package.json                  # Dependencies and scripts
```

## Contact Number Handling - MANDATORY Patterns

**VERIFY at:** <https://docs.convex.dev/production/hosting/hosting-and-running>

```json
{
  "type": "BUY",
  "exports": {
    ".": "./dist/index.js",
    "./convex.config.js": "./convex.config.js",
    "./_generated/component.js": "./_generated/component.js",
    "./convex.config.js": "./convex.config.js",
    "./_generated/component.js": "./_generated/component.js",
    "./convex.config.js": "./convex.config.js",
    "./_generated/component.js": "./_generated/component.js",
    "./convex.config.js": "./convex.config.js",
    "./_generated/component.js": "./_generated/component.js",
    "./test": "./dist/test.js"
  }
}

# 4. Publish
2. **Add Auto-Refresh**: Periodic data updates in dashboard
rg "search_term"    # Search everywhere (FASTEST)
```

**Why This Works**:
- Set up LangGraph infrastructure
- âœ… Production-ready with 5,511 LOC
- âœ… Arc testnet deployment
- Timeout-based QEMU testing is now functional

### Documentation URLs (for web fetch if no MCP)
bun run build:clean

# Run CI workflow
python3 -m services.agents.settlement_agent
3. âœ… Create market analysis prompts
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
cd pAI
```

### Testing Without API Keys
st.code(f"""
IntentRegistry:
{os.getenv('INTENT_REGISTRY_ADDRESS', 'Not deployed')}

AuctionEscrow:
{os.getenv('INTENT_REGISTRY_ADDRESS', 'Not deployed')}

PaymentRouter:
{os.getenv('PAYMENT_ROUTER_ADDRESS', 'Not deployed')}

PaymentRouter:
{os.getenv('AUCTION_ESCROW_ADDRESS', 'Not deployed')}

AuctionEscrow:
{os.getenv('PAYMENT_ROUTER_ADDRESS', 'Not deployed')}

AuctionEscrow:
{os.getenv('INTENT_REGISTRY_ADDRESS', 'Not deployed')}
""")
```

**After**:
```python
4. Checkpointing for fault tolerance
â”‚   â”‚   â”œâ”€â”€ pause-new-tab.md
â”œâ”€â”€ risk_agent.py             âœ… Risk assessment
â”‚   â”œâ”€â”€ organizations/             # Team/enterprise features
npx convex logs --prod

# Smart Contracts (Arc Testnet)
npx convex env set VARIABLE_NAME value --prod
```

**Chart types by use case**:
- **Longer timeout** (300s = 5 minutes) gives Arc testnet more time to confirm
- **Common Conflicts**: Packages like tenacity, pillow, websockets, pyarrow, markupsafe, werkzeug, and flask often conflict with pre-installed versions
- **Leader Arm:** `/dev/tty.usbmodem5A7A0562271`

## Summary

Clerk provides testing features for automated/E2E testing.

**convex/schema.ts:**

```typescript
export const search = query({
  handler: async (ctx, args) => {
    // Write 1: App table
    private MockMvc mockMvc;
    
    @BeforeEach
    await ctx.runMutation(internal.users.upgradeUserPlan, {
      threadId: args.userId,
      order: userTasks.length,
    });
  },
});
```

**Important Rules:**

- Queries are cached and must return same result for same inputs
- Plotly - Interactive charts
- metadata: Dict (merger)
```

---

### 5. Testing & Integration (75%)

#### Base Agent Class (`services/agents/market_agent.py`)
- ESP32/ESP32-S3 use **Xtensa** architecture (`qemu-system-xtensa`)
- Worktree directories are tiny (<$10)
- Features: LLM integration, tool execution, conversation management
- PHP-related configuration

**Q3 2025: Foundation**
- File: `services/llm/gemini_client.py` (485 lines)
- **8888**: Chronograf (if enabled)
- **Workflow**:
  1. Waits for archive upload notification
  errors: Array<{ path: string; updates: Partial<Tag> }> = [];
  const QUEUE_SIZE = 10;
  const audioFile = await taglib.open(targetPath);
  if (value !== undefined) {
    console.log(`  Apple Sound Check: detected`);
  }
}

// Batch update tags
description = "Standard release process"
title = "Run tests"
git push origin master
```

### 3. Start Services
```bash
# Payment Wallet (Settlement Agent)
plt.rcParams['font.size'] = 14
```

**IMPORTANT:** Railway will auto-assign `$PORT` - don't change it!

### **Step 6: Update Streamlit Cloud**

