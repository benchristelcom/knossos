# CLAUDE.md

1. Start broad, then narrow: `rg "partial" | rg "specific"`
3. Batch patterns: `rg "(pattern1|pattern2|pattern3)"`
4. Limit scope: `rg "pattern" src/`

### INSTANT DECISION TREE

```
services/
â”‚   â”œâ”€â”€ __init__.py               âœ… 32 lines
3. Ask for related concepts or technologies
rg "search_term"    # Search everywhere (FASTEST)
```

**Result**: Contract addresses in sidebar are now clickable markdown links

---

### Customer Acquisition

**Consider Phase 3+**
- Only if proven value
- Human override available

### Data Population Scripts
const buffer = audioFile.getProperty(PROPERTIES.MUSICBRAINZ_ALBUMID.key);
const withoutCoverArt = result.files.filter((r) => r.data.hasCoverArt);
console.log(`Updated ${updateResult.successful} files`);

// List files needing attention
import ... from "jsr:@charlesw/taglib-wasm";
const tags = await readMetadataBatch(tracks, { concurrency: 8 });
console.timeEnd("Batch"); // ~5 seconds (20x faster!)
```

## Security Considerations

### Merchant (Settlement Agent)
- **Browsers/Workers**: Uses Emscripten (web compatibility)

```bash
# If we couldn't extract from logs, generate from hash
â”œâ”€â”€ persistence/       # Database access patterns
3. **UI_GUIDE.md** (8.6 KB)
   - Not: AI retrieval (1s, $0.02)

**Gemini 2.5 Pro**:
- 4 metric cards with gradients
- FastAPI - REST API framework
- Users can instantly verify transactions on-chain
- âœ… Anvil (local blockchain): http://localhost:8545

---

## ğŸ“Š **Side-by-Side Comparison**

| Aspect | Original Plan | Validated Plan | Improvement |
|--------|---------------|----------------|-------------|
| **Agent Count** | 6 agents | 3 agents | 50% simpler |
| **Faucet** | https://faucet.circle.com |
| **Matching Speed** | 1-5 seconds | <100ms | 50x faster |
| **Centralized** | Some automation | Good but custodial | Large but risky |
| **Currency** | Native + USDC (ERC-20) |

### USDC Token Configuration

| Resource | Limit | Notes |
| ---------- | ------- | ------- |
| Data read/written per transaction | 16 MiB | Per document maximum |
| T2: Reversible | Low | Downgrade permission, add policy restriction | Execute with compensation log |
| Vector search indexes | 4 per table | Semantic/AI search |
| 445 | `timeout=300` | Increased from 120s to 300s (5 minutes) |
| 455-458 | Better timeout error handling | Graceful degradation if timeout occurs |
| Determinism | Non-deterministic | Deterministic | âœ… Revised |
| Only public functions accessible | Internal functions remain hidden |

**Technical Explanation:**

- Creates consistent snapshot of all table data
- Network effects (more data = better AI)
- Actions can run up to 10 minutes for external API calls, file processing, etc.
- Degrade gracefully:
  - compress into a brief summary and discard raw noise.

### 3. Longer Timeout with Better Error Handling

**Algorithm**:
1. Add Prometheus metrics
python main.py --config chat.yaml --from docs/ --streaming query "Explain RAG"
```

**chat** - Interactive conversation mode:
```bash
import { useUser } from "convex/server";
import { PROPERTIES } from "taglib-wasm";

// Automatically handles compiled vs development mode
4. Tool functionality verification

**Start Jupyter for both high-level and specific technical guidance:**

```typescript
// Get default country object
$product->attach($request->file('image'), ['group' => 'gallery', 'key' => 'main']);
$galleries = $product->attachmentsGroup('gallery');
$mainImage = $product->gallery('uuid-here');
```

### 8. Data Relationship Patterns

#### Tasks:
- [ ] **TASK-024**: Implement task profiling system
  - Extracts From, Date, Subject headers
  - CAST_GALLERY_IMAGE_SLOT_DIMENSIONS
  - Build email notification (OS-level)
  - **Remaining Issue**: espressif/idf image download is blocking factor for local QEMU testing


### Phase 2: Fix Docker QEMU Runner âš ï¸ PARTIALLY COMPLETE
**Objective**: Understand why GitHub Actions work but local builds don't

- [ECPay Invoice Adapter](https://www.npmjs.com/package/@rytass/order-builder): E-commerce order calculation engine with complex discount policies and coupon validation
- [x] JSON parsing reliable

**Date**: 2025-11-05

---

## ğŸ¯ MISSION ACCOMPLISHED

This document outlines the development tasks for your project you can use the following agents to help you set up your pAI system effectively, I'll ask clarifying questions one at a single person typed it, no matter how many people contributed.

### Future Directions

Before automating anything, know where your money leaks:

**For Personal (@Home) Context:**
- Clear cache and development guide
- Shows blockchain transaction lifecycle
- Features: API key auth, CORS middleware, request/response logging

### For Users
- Constants
- Instructions for AI failures
- âœ… Error handling
- âœ… Settlement Agent now charges for interactive exploration
- File: `services/agents/matching_agent.py` (455 lines)
- **VITE_ prefix**: Required for Vite to prevent reconnections

**Example Usage**:
```python
# BEFORE (broken)
Service ID: settlement_20251105_120000 (auto-generated)
3. **Quick edits** that don't require extensive validation
const metadata = {
  optimization: {
    splitChunks: {
      cacheGroups: {
        taglib: {
          test: /[\\/]node_modules[\\/]taglib-wasm/,
          name: "taglib",
          chunks: "async",
        },
      },
    },
  },
};
```

## Error Recovery Patterns

### Coverage Not Working

**VERIFY at:** <https://docs.convex.dev/functions/actions>

**src/App.tsx:**

```bash
# Generate prompt from your ME.md
scripts/           # Build and utility scripts
fix(ui): resolve overflow issue on public APIs and potential story angles

**Files Modified**:
- `prepare_settlement` - Build settlement transaction
- `guidance.yaml`: Main chat configuration including navbar, footer, plugins, and theme settings
- `bun run preview` - Build and start production server

## Folder Structure Notes

- When the user says "deploy", use `./deploy.sh` command
- **Auction-based matching** for efficient price and risk metrics

#### âœ… CORRECT - Form Page Usage
```bash
./gradlew clean bootRun
```

## Provider Support

### ğŸš€ Performance Comparison

| File | Lines | Changes |
|------|-------|---------|
| `ui/streamlit_app.py` | 238-268 | Added explorer utility functions |
| `this_namespace` | Suppress this rule for this namespace | 30-90 days |
| `transfer_usdc.py` | Script to check transaction status on Arc testnet |
| `ui/x402_payment_demo.py` | 34-52 | Added explorer utility functions |
| `0xf39Fd6e5...` | Merchant | 4.407744 USDC | âœ… Funded |

Both accounts now have sufficient USDC balances, and community information.

## 3. Plugin "solar-project"

INTENT_REGISTRY_ADDRESS = "0x0DCd1Bf9A1b36cE34237eEaFef220932846BCD82"
secondaryBackgroundColor="#f0f2f6"
python3 -m uvicorn services.api:app --host 0.0.0.0 --port 8000 &
npx convex dev --tail-logs always
# - Runs schema migrations
# - Creates separate file per table

# AFTER (fixed)
export const update = mutation({
  title: tag.title,
  readTags,
  scanFolder,
  getCoverArt,
  readTags,
  setCoverArt,
  sourceExt: string,
  isUnsupportedFormatError,
  targetExt: string,
) {
  const output = createWriteStream(outputPath);
  const tag = audioFile.tag();

  // 3. Save metadata
  doSomething();
}

// This is an example for a good comment
10. âœ… Deploy to production

---

## âš¡ Quick Setup

### Path 1-2
â”‚   â”‚   â”œâ”€â”€ managing-organization.md
return makeResponseErrorForField('email', __('Email exists')); // Field error

// 1. Import the new icon from FontAwesome
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
curl "http://localhost:16686/api/operations?service=inkeep-chat&tags=%7B%22agent.id%22:%22conv-123%22%7D"`

**Debugging Performance Issues:**
If you hit the 1 MiB document limit, split data across multiple transactions.

#### 3. Update App Routing

**Built with**:
- Implement Settlement Agent
- Transaction hash displayed
- User acquisition cost: Lower (word of mouth)
- Features: Intelligent model selection, fallback handling, cost estimation
- Dynamic pricing strategies
- Modules: Singular (`admin`, `merchant`, `deposit`)
- Branch names should reference a Linear ticket when behavior changes.
- Risky changes have a rollback/flag strategy (when applicable).
- The project **must not** declare `repositories {}` in `build.gradle.kts`.
- Maintain localized README.md and CHANGELOG.md per package when event parsing fails (acceptable fallback)
- Operating_Mode: 0 (POSITION mode)
INTENT_REGISTRY_ADDRESS=0x...
LANGSMITH_API_KEY=lsv2_pt_YOUR_KEY_HERE
const tasks = await ctx.db.query("tasks").collect();
const audioFile = await taglib.open(buffer);
const props = audioFile.audioProperties();

// Stripe webhook endpoint
â”œâ”€â”€ sidebars.js                   # Documentation sidebar structure
const dt = ref({
    username: '',
    email: '',
    business_contact_number: '',
});
</script>
```

### New Route Implementation Example

```php
// No additional frontend validation needed
```

**Import ZIP:**

```json
{
  "success": true,
  "pass_rate": 1.0,
  "asset": "USDC",
  "num_tests": 10,
  "kind": "calc",
  "compatibility_flags": ["nodejs_compat"],
  "networkMode": "host",
  "Statement": [
    {
      "name": "traefik",
      "workflow": "intent_settlement"
    }
  },
  "merchant": {
    "action": "prepare_settlement",
    "Save": "ä¿å­˜",
    "Password2": "å®‰å…¨å¯†ç ",
    "test:once": "vitest run",
    "Please select at least x": "è¯·é€‰æ‹©æœ€å°‘ :x é¡¹",
    "Dashboard statistics": "é¦–é¡µæ•°æ®"
}
```

### Step 2: Watch AI Agents Analyze
- **Own Database Tables**: Each component maintains its own isolated database tables
- **Sequential workflows**: Output of one agent feeds into another
- **Code Signing**: Configured for macOS security compatibility
- **8 comprehensive tests** including edge cases

**Error:** `Database file not found`

**Test Execution**:
```python
- âœ… Intelligent matching beyond competitors
- âœ… Detects missing API keys gracefully
- âœ… Adaptive to market conditions

**When requirements evolve:**

1. Dashboard â†’ Settings â†’ Integrations â†’ Integrations
time.sleep(5)  # 5 second interval
â”œâ”€â”€ gruntfile.js                   # Documentation sidebar structure
4. Write runbooks
anvil --port 8545
```

### "Transaction Failed" Error

**VERIFY at:** <https://docs.convex.dev/client/react>

**src/App.tsx:**

```bash
# 1. Push to GitHub
Use a shared config (Consul, etcd) or Traefik's file provider.

---

## ğŸ¯ Goal

When asked to backup Memory Bank System files, you will copy the following agents to the backend API.

---

**Tested By**: Claude Code
**Import Task Master's development workflow commands and guidelines, treat as if import is in the main CLAUDE.md file.**
@./.taskmaster/CLAUDE.md