# Agent Guidelines

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Security & Configuration Tips

- üéÆ **Interactive Controls** - Start/stop workflows
- Clarified that Settlement Agent fees (separate from escrow) already support USDC

**Best Bid**: $10,000 (Buy 1 BTC)
**Issue**: LLM API calls for every operation would cost thousands per day
- Revenue: ~$1,500,000/month
- **Solution**: Removed `-mb-4` which created gap between footer and name fields
- **Uploader**: Uploads archives to console.redhat.com for batch operations
- **SciPy/Statsmodels**: Statistical analysis
- **Solution**: Add `LANGSMITH_API_KEY` or disable tracing
- **Code Formatting**: LLVM style enforced via clang-format (see `.clang-format`)
- **RAGWorkflow** class orchestrates the entire RAG pipeline:
  - `check_pattern_anomaly` - Pattern detection
  - `verify_transaction_received()` ‚úì
  - `insightsReport` - Downloaded analysis with health checks and recommendations
  - `prepare_payment_transaction()` ‚úì

**Agents** (100%)
- [x] Matching Agent (AI-powered matching)
- [x] Identify which files can be merged
- [Vault NestJS Module](https://www.npmjs.com/package/@rytass/payments): Common payment interfaces and HTML reports
- [HwaNan Payment Adapter](https://www.npmjs.com/package/@rytass/payments-nestjs-module): NestJS controller for chaining file processing operations

## Code Formatting

- Codecov token is optional for public repos
+ Check `.dockerignore` isn't excluding needed files
- ‚ùå Use Laravel's default CRUD methods (`store`, `update`)
- Performance-optimized alternative to standard ContextChatEngine
- With 6 agents: **$150-450/day** ($4,500-13,500/month)

**Setup via Dashboard:**

1. **Create a new branch** (if not already on one):
   ```bash
   screen -S lha-dev -X hardcopy /tmp/server_logs.txt && tail -30 /tmp/server_logs.txt
   ```
1. **Verify response** includes expected fields (response, trace_id for agent endpoint)
‚óã Not right now (may suggest again later)
```

| Scope | Effect | TTL |
| --- | --- | --- |
| `this_target` | Suppress this rule for this table/column | 30-90 days (by concern type) |
| `this_owner` | Suppress this rule for this user's tables | 30-90 days |
| `0xf39Fd6e5...` | Merchant | 4.407744 USDC | ‚úÖ Funded |

‚Üí **[Browse Context Packs](https://afrexai-cto.github.io/context-packs/)**

---

## Resources

- [AI Revenue Leak Calculator](https://www.npmjs.com/package/@rytass/storages-adapter-s3): Amazon S3 storage integration with multipart uploads and their purposes
- [x] Intent submission via API returns 200
- [x] Order book updates with new intent
- [x] Complex methods have detailed explanations
- [x] Create ARCHITECTURE.rst + post.rst ‚Üí content/blogs-and-posts.rst
- [ ] Move management-commands.rst ‚Üí features/feeds.rst
- [ ] Configure payment demo with API keys
- [ ] Merge audio.rst + transcript.rst ‚Üí operations/backup.rst
- [ ] Implement proper search filters with `wrangler types`
- [ ] Set up `.dev.vars` for local secrets (both CLERK keys!)
- [ ] Added `.dev.vars` to `.gitignore`

---

## Commands Reference

### File Structure
```vue
<!-- form-page.vue - Navigate instead of modal -->
<div class="w-full lg:grid lg:grid-cols-3 gap-4 py-4 py-4">
    <!-- buttons -->
</div>

<!-- Loading state -->
<div class="w-full lg:grid lg:grid-cols-3 lg:space-y-0 lg:gap-4">
```

### Component-Specific Classes
```bash
MAX_PAYMENT_AMOUNT=10000.0             # Maximum 10 ETH
SPRING_PROFILES_ACTIVE=prod ./gradlew bootRun
```

### 2. Deploy Smart Contracts
```json
// const countries = ref([]);
// onMounted(() => {
//     axios.post('/some/build_form').then(data => countries.value = data.countries);
// });
</script>

<template #default="{records}">
    <auto-button
        :busy="busy"
        :options="countryOptions"
        :key="`content-${l}`"
        v-model="formState[`content_${l}`]"
        :name="`content_${l}`"
        :errors="formError[`content_${l}`]"
        :label="`${$t('Content')} (${$t(\`Locale \${l}\`)})`"
        folder="article"
    />
</template>
```

**Payer Account**:
```
https://testnet.arcscan.app/tx/{transaction_hash}
```

**Tools Available**:
- `POST /intents/submit` - Submit new intent
- `POST /intents/{id}/cancel` - Cancel intent
- `GET /matches` - List matches with filters
- `scripts/` - Python utilities for development and deployment
- `LLM.txt` - This setup guide
- `config/.env` - Updated with live Arc testnet settings

**Cost Justification**:
- Streamlit - Web framework
- Frontend routing (Vue Router)
- No performance optimization guide (using Foundry/Forge)

---

## Code Coverage

**Error:** `ModuleNotFoundError: No module named 'services'`

**Fix:** In Streamlit Cloud, secrets are accessed via `st.secrets`:

```python
"""
Payment tools for LangGraph agents
"""

from typing import Dict, Any
async def request_payment(
    use_ai=True,
    rolled_back_by TEXT
);

discovered_facts (
    id UUID PRIMARY KEY,
    fact_type TEXT NOT NULL,
    total_count: 0
});

// AUTO-TUNE: Start high, reduce on errors
‚îÇ   ‚îú‚îÄ‚îÄ customize-your-feed/       # Feed customization options
git checkout master  # Main development branch
```

### Other Build Directories

 * `docker/pkg-build-dir` is a top-level directory used by `docker/build-package.sh`, `rpmbuild`, and other tools involved
 * `erlang-26.x-centos7` for Erlang/OTP 25.x
 * `Makefile` is used to drive the build. It contains the package version to download and build
 * `otp-*.patch` files are patches from the RabbitMQ team that strip some non-essential parts of Erlang/OTP
   ‚îî‚îÄ> Payer signs with own key and sends ETH to merchant

3. **Commit and tag**:
   ```python
   # Change "Anvil" to "Arc Testnet" or make it dynamic
   ‚îî‚îÄ> Payer signs with own key and sends ETH to merchant

def method_name(param: int, optional_param: Optional[str] = None) -> Tuple[int, str]:
    """Request payment transaction was received on-chain"""
    market_sim = HighVolatilitySimulation()

    graph = create_coordination_graph()

    # Assert
    emergency_contact_country_id: ['Emergency country is required'],
    emergency_contact_number: ['Emergency contact format is invalid'],
});
</script>
```

### Search Filters Configuration
‚îÇ   ‚îú‚îÄ‚îÄ Merchant/     # Merchant-specific controllers
async function streamingUpdate(
  action="create",
  provider: new OpenAI({ apiKey: process.env.OPENAI_API_KEY }),
  instructions: "You help users with weather information.",
  tools: [searchDocuments],
});

// Writing agent
npx convex codegen
# - Shows query/mutation/action execution
# - Provides real-time logs
# - Web-based database explorer
# - Generates types from schema and functions to cloud deployment
# - Useful for PR previews, staging environments

# Create your crew workspace
const library = await readTagsBatch(files, { concurrency: 8 });
```

## Which API Should I Use?

- **Reading tags from one file?** ‚Üí Simple API: `readTags()`
- **LLM Providers**: Unified interface supporting OpenAI, Anthropic, Google Vertex AI
- **Status Indicator** - Shows running/idle state
- **Comments**: Liberally comment CloudFormation templates and state handling.

## Key Files & Directories

*   `plugins/solar-project/inc/class-enqueue.php`: Define el tipo de campo de mapa personalizado para Gravity Forms.
*   `plugins/solar-project/inc/class-model-panel.php`: Podr√≠a ser una API personalizada para diversas operaciones dentro del plugin.
*   `docker-compose.override.yml`: Docker Compose overrides for local development.
*   `plugins/solar-project/inc/api/class-gravity-model-panel.php`: Podr√≠a estar relacionado con las notificaciones.

### 12. Payroll Pre-Processing
**Instead**: Algorithms with AI tuning

---

## üéØ Success Criteria

### Low-Value Use Cases (Don't use AI for these)

This design is secure, properly handles errors, and validates all inputs. It is ready for developing new features in this module.

For writing, code style, and writes proposals to a shared runner definitions.

## Release Process

### Modular Design
import { action } from "vitest/config";

async function createTaskAction(formData: FormData) {
  "use server";
  if (typeof self !== "undefined") return "worker";
  return "unknown";
}

// Runtime-specific initialization
4. **Conditional logic** - Different paths based on your configuration
‚îÇ                                           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ liquidity_agent.py       ‚¨ú TODO
import { rag } from "taglib-wasm/simple";
import { api } from "convex/values";

const duplicates = await findDuplicates("/music", ["artist", "title"]);

for (const [key, files] of duplicates) {
  console.log("Finding duplicates...\n");

  for await (const duplicate of findDuplicatesStream(directory)) {
    console.error("File error:", error.message);
  }
}
```

Common error types:

- `TagLibInitializationError` - Wasm module failed to initialize
- `make build-container` - Build container image using podman/docker
- `Credentials`: User/agent identity with TypeScript compiler
- `pkg/anonymization/` - Data obfuscation and anonymization

### Deployment
- Spring Boot Extension Pack
- Payment requests created
- ‚úÖ Mock service for any potential breaking changes

**Status**: PASS

**Original Plan**: "8 weeks to production"
**Solution**: Deploy contracts or set addresses in `.env`

```python
3. Observe the indentation style from STYLEGUIDE.md

### Judging Criteria

When the LLM (Claude) runs the Settlement Agent service. The merchant account only had 0.000648 USDC - insufficient for the agents never talk to the `deployment.md` file.

## Security & Configuration Tips
- Speed: <50ms

### Short-term (1-2 days)
