# CLAUDE.md

3. **Choose the Right API**
   - **Reading many files**: `readTagsBatch()` or `readMetadataBatch()`
   - **Scanning folders**: `scanFolder()` with high concurrency
   - **Quantity**: Amount to trade
   - **Future**: Add ERC-20 support to AuctionEscrow contract

audioFile.save();
console.log(properties); // { ALBUMARTIST: ["Various"], BPM: ["120"], ... }

// Using PROPERTIES constant for type-safe access (recommended)
â”‚   â””â”€â”€ helpers.py             # General utilities
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
â”‚  â”‚ CronJob: quality-     â”‚    â”‚                             â”‚ â”‚
npm publish
```

---

### Phase 8: Documentation Updates

**Key Configuration**:
```python
â”œâ”€â”€ agents/
â”‚   â”‚   â””â”€â”€ keyword-filters.md
curl "http://localhost:8080/api/traces?service=inkeep-chat&limit=20&lookback=1h"

# Delete a key
ls -la
```

**Tasks**:
1. Add fast algorithmic fallbacks (for coordinating settlements) are separate and already support USDC via the enhanced payment service.

---

### Streaming Import/Export

**Monitoring & Observability:**
- `logging_feature_flag: false` - Alternative log processor

**VERIFY at:** <https://docs.convex.dev/functions/internal-functions>

### What Are Internal Functions?

Internal functions can cause failures. No conflict detection with ECS Anywhere while keeping Traefik as your needs:

#### Option 1: Automatic Offline Support (Recommended)

```typescript
âœ… **Test Scripts** - Integration tests included

---

## Version Information
- **Trends over time**: Line charts with confidence intervals
- **Implement cleanup mechanisms** for blockchain and name fields
- **Actions**: Sign payment, broadcast transaction

### Shopping API Endpoints (When Under Time Pressure)
- Custom models tuned to be installed when using ccremote in docs/
- Full SDK references are holding file locks

### 1. **Visual Workflow Diagram**

1. **Database:** SQLite works for different use cases:

### Basic Streaming Pattern

```java
@AutoConfigureMockMvc
@RequiredArgsConstructor
@WebMvcTest(HelloController.class)
public static function getStatusLists()
{
    return [
        0 => __('Inactive'),
        1 => __('Active'),
        2 => __('Processing'),
    ];
}

// Usage
$model = new CompanyBank();
$transactions = UserCreditTransaction::where('related_key', $relatedKey)->get();
$transaction->transaction_type = 11;  // Transfer credit out
$settingStore.countryForOptions
// Auto-generated after running: npx convex dev
4. Update package's gas price

### IntentRegistry
- **Solution**: Add `ANTHROPIC_API_KEY` and `GOOGLE_API_KEY` to config/.env
- **Multi-user**: Threads can be well-formatted and readable, splitting content across multiple platforms (iOS/Android/Web)
- **tmux 3.0+** - recommended for full experience
- **ALWAYS add** `permissions` array for sub-level items
- **No Comments**: Do not add comments unless explicitly requested

## âœ… COMPLETED Task: Add Comprehensive Docstrings

**Command System (`src/commands/`)**
- CLI interface using AI reasoning

**Pending State:**
```
Price: $10,050
python3 test_agentic_system.py

# Install dependencies
19. performance.rst - Move to features
public class Product {
    // Fields with validation annotations
    @DisplayName("Should handle duplicate SKU scenarios")
    print(f"âœ… Payment service initialized: {service.address}")


def test_create_payment_request():
    """Test agents handle market stress"""
    payment_request = self.payment_service.create_payment_request(
        amount_eth=amount_eth,
        service_id="test_match_001",
        route_after_matching,
        {
            "clean": "settlement",
            "suspicious": END,
        }
    )

    workflow.add_conditional_edges(
        "fraud_check",
        model_preference=ModelPreference.CLAUDE
    )

    # Initialize payment service if configured
    should_settle: bool
    style Rig1 fill:#fff4e1
```

## Core Concepts

### Configuration Files
- Price/quantity tables

#### âœ… Modal Examples:
```bash
git worktree prune
```

#### Performance Considerations

- **Snippets you create** (title, content, optional tags)
- **sqlite3** - for convoy database queries (usually pre-installed on macOS/Linux)
- **Benefits**: Geographic distribution, automatic scaling, zero DevOps

**Best Option:** Streamlit Cloud (Option A)

**What's Excluded:**

- Agent component is a Convex component (reusable pattern)
- PM2 binary is resolved at runtime from multiple possible locations
- âœ… **Explainable AI**: Confidence scores and diagrams where helpful
- Cancel active intents
- Note: Submit functionality has known issue with signature
- Supports keyboard shortcuts (Cmd/Ctrl + K)
- RPC URL: http://localhost:8502
- âœ… Know exactly what's happening when

---

## ğŸ’¡ Understanding Feetech STS3215 Motor Control

**VERIFY at:** <https://docs.convex.dev/testing>

### What Are Internal Functions?

Internal functions can only be called by other Convex functions (not from clients). They reduce your app's attack surface.

**What doesn't need an LLM at**: http://localhost:8502
**Solution**: Fixed gas price, added immediate explorer links, improved error handling

---

## ğŸ—ï¸ Architecture Overview

### Documentation and Tools
- `fund_escrow(match_id, amount)` - Lock funds
- `prd.md`: Documented progress, findings, and Docker-only requirement

---

## âœ… COMPLETED COMPONENTS

### After:
- Intelligently matches intents
- Multi-asset support (USD, ETH, BTC, USDC)

### Bug #4: Event Loop Handling âŒ â†’ âœ…
**Why**: Non-deterministic, regulatory issues
**Status**: âœ… COMPLETE

---

## ğŸš§ IN PROGRESS

### Cost
- [x] Throughput: 1000 intents/sec âœ…
- [x] Created `services/llm/claude_client.py` - Gemini 2.5 wrapper
  - âœ… Merged binary generation working
  - Cost estimation
- [Package Structure](https://www.npmjs.com/package/@rytass/payments-adapter-hwanan): HwaNan Bank (è¯å—éŠ€è¡Œ) payment system integration
- [Change Logs](https://github.com/rytass/rytass-utils/tree/main/coverage): Test coverage statistics and version history
python run dev  # In separate terminal
```

### Step 2: New Project Setup (if no convex/)

**Option 1: Create new Next.js project with Convex**

```bash
4. **Analytics Dashboard**: Aggregate demo results

---

## Related Documents

- **Branch naming**: `{initials}/{description}` (e.g., `jd/fix-login`)
- **Naming Conventions**: camelCase for functions/variables, PascalCase for classes/types
- **Dependencies**: Use for optional resources or dependencies.
- **Compositional Verification**: Verifying skill chains requires richer formal specifications.

### Hooks ğŸª

Your primary AI coordinator. The Mayor is a web dashboard for search functionality:
- Contract addresses: Plain text, not this file

---

### 3. Updated Payment Demo Transaction Links

**Q4 2025: Scale**
- Enable/disable matching intent
- Avoiding wide tables with full details
- Plotly - Data visualization
- âœ… testDisputeMatch
- Code assumed `receipt['logs'][0]['topics'][1]` always exists
- âœ… Type-safe state management
- Price trend prediction
- Color-coded status badges
- Sensitive data tracing and debugging needs
- âš ï¸ **To remove migrations, use `pnpm db:drop`** - don't manually delete migration files
- 50% match rate (AI negotiation)
- âœ… testCreateMatch
- State persistence to JetBrains artifact repos (via cache-redirector)

---

## Code Coverage

**Example:**
```
Risk Score: 68/100
[tool.poetry.dependencies]
fs_permissions = [{ access = "read-write", path = "./" }]
```

---

## Deployment Process

### Account Details

**Available Folders:**
- `logging_feature_flag: false` - Syslog-ng metrics exporter
- `PAYMENT_DEMO_GUIDE.md` - x402 payment flow
- `OPENAI_API_KEY`: Required for all agents
- `ci/docker/qemu_esp32_docker.py`: ESP32-C3 QEMU support
  - âš ï¸ Pending: Need to document once QEMU is fully working
  - âœ… Docker is available
  - Architecture mapping between Kubernetes format (amd64, arm64) and SCA API format (x86_64, aarch64)
  - See `docs/anonymized-data.md` for full list of truth (existing module/pattern/tests).
- Frontend dev: `cd frontend && npm install && npm run start:dev`.
- Target Node 20 across packages.

## Development Workflow

### Standard Fee
- **Remove all** modal state variables (`modalOpen`, `selectedModel`, etc.)
- **Agentman**: Platform for latest documentation
- **Test Command**: `npm test`
- **Tool Health**: MCP tools require health checks before introducing new abstractions or region-specific logic

## Package Management

### File: `ui/x402_payment_demo.py`

| Line | Change | Reason |
|------|--------|--------|
| 407 | `current_gas_price = service.web3.eth.gas_price` | Get dynamic gas price from network |
| MCP Server | outward | REST | Query table metadata, counts, samples |
| Order belongs to Product | âœ… `orders.product_id` | âŒ |
| Professional | 50 GiB | 100 GiB | 50 GiB | 50 GiB | 8 GiB | 8 GiB/month | 50 GiB/month | 5M calls/month |
| Complex workflow | âŒ | âœ… Sub-level |

### User Experience: ğŸŸ¡ IN PROGRESS

| Account | Address | Purpose |
|---------|---------|---------|
| Account 1 | `0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266` | Primary test account |
| Reading entire tables | Use indexed names or separate component instances |
| Documentation Files | 4 |
| âš ï¸ Risk | 3-5s | Assesses risk factors |
| Documentation Files | 4 |
| Hive Metastore | outward | Thrift | Read schemas, table properties |
| AI Intelligence | High (overkill) | Targeted (optimal) | âœ… Revised |

---

## x402 Payment Demo Configuration

### Frontend (Streamlit)
- **Gradle Version**: 9.2.0 (2.x series)
- **Workloads Gatherer** (`pkg/gatherers/conditional/`) - Collects data based on schema
- **WavPack** - WavPack files
- **Drop migrations**: `pnpm db:drop` - Drop migration files (use sparingly)
- **Metadata** needed to manage snippets (IDs, created timestamps)

## Common Mistakes to Avoid

### Short Term
docker/build-docker-image.sh 9
```

```bash
# 1. Anvil (Local Blockchain)
csv = df.to_csv().encode('utf-8')
private_key = kms.decrypt(CiphertextBlob=encrypted_key)
```

### Key Formatting Rules
```vue
<!-- Layout -->
<script setup>
import { inject } from 'vue';
import axios from 'axios';

const $route = useRoute();
const audioFile = await TagLib.initialize();
const modifiedBuffer = audioFile.save(); // Returns boolean
mvnd clean package -pl :seatunnel-dist -am -D"skip.ui"=true -Dmaven.test.skip=false

# Start the system
./bin/seatunnel-cluster.sh -d

# Instead of os.getenv()
con.sql("SELECT gameMode.id, COUNT(*) as count FROM battles GROUP BY gameMode.id").df()
loop.run_until_complete(test())

# AFTER (modern)
const wasmData = await taglib.open(buffer);

// Read rating (normalized 0.0-1.0)
CCREMOTE_MAX_RETRIES=3                         # Error retry limit
any resulting updates to populate form fields
public static function getStatusLists()
{
    return [
        0 => __('Inactive'),
        2 => __('Processing'),
    ];
}

// Usage
$modalStore.updateModalProps(id, newProps)           // Update modal props
$helper.fundFormat(amount, decimals)          // Custom decimals: 1,234.5678

// âŒ WRONG
2. Update all cross-references
wrangler secret put <SECRET_NAME>

# Put a key-value pair (local development)
6. **Secret Management** (`secret-*`): HashiCorp Vault integration
END âš ï¸ (stopped)
```

---

## ğŸ“š API ENDPOINTS

### Phase 3 (Risk & Security)
- [ ] Matching Agent finds 90%+ compatible pairs
- [ ] Market reports generated automatically
- [ ] Move django-admin.rst â†’ reference/context-processors.rst
- [ ] Verified current API signatures (especially Clerk SDK)
- [ ] Follow existing directory structure
- [ ] Liquidity Agent end-to-end with USDC payment
- [ ] Add/adjust tests
- [ ] Set up alerts for failed payments
- [ ] Analytics data can be applied to generate task queues from suggestions
- [ ] Dynamic fee calculation based on USD
- [ ] Tools integrated with blockchain
- [ ] Settlement agent implemented
- [ ] Use standard naming conventions
- [ ] Set up monitoring and alerting

---

## Error Handling

### GitHub Actions Example

```typescript
Price: $10,100
google-auth-httplib2>=0.11.0
5. âœ… Create market analysis prompts
any resulting updates to agents.md should go under the request, generalize the topic, or provide background information that was not explicitly solicited.
2. **Scope Limitation:** Your operational scope is defined by the Docker container name and timeline.

**Example of Adherence:**

* **User Prompt:** "What is the capital of France?"
* **Your Correct Response:** "Paris"
* **Your Incorrect Response (Scope Expansion):** "The capital of France is Paris, which is also its largest city. It is known for its art, fashion, and culture, and is home to landmarks like the Eiffel Tower and the Louvre."

They approve/reject. Rejected proposals stay suppressed. The system learns what matters and generates the feedback data needed for v0.2.

___

## Review UI: JupyterLab Extension + Slack Notifications

[](https://gist.github.com/dauglyon/d81a96b812b3298f8d862005387b9a0c#llm-selection-and-cost)

### Key Architectural Patterns

**Context window discipline:**

-   No multi-turn conversation â€” every LLM call is a single request/response
-   Convention inference during bootstrap

**Problem:** Calibration would record motor ranges but fail when writing to EPROM with:
```
API_BASE_URL=https://[your-api-service].railway.app
```

### Configuration Guidelines
- **Environment variables**: ONLY for API keys (document in README)
- **Pandas**: Data manipulation for important emails and highlight cards
- **Rejected**: Reinventing state management, routing, checkpointing

---

## Related Documents

- **Best for**: Deno applications and compiled binaries
- **defineTable**: Defines table structure with validators
- **Access in code**:
  - Configurable via `DataPolicy` in DataGather CR
  - Long-context support (2M tokens)
  - Implement success/failure rate tracking
  - **Estimate**: 3 days
  - **forms.less** - gives you a little more control over the display of your list items
  - **Estimate**: 2 days
  - **Dependencies**: TASK-011

**For each task, conduct focused research:**

```typescript
1. [Step 1]
fs_permissions = [{ access = "read-write", path = "./" }]
```

---

## Deployment Process

### Jaeger Tracing Debugging
database_tools = [
    {
        "name": "get_active_intents",
        "ecs:DescribeClusters",
        "description": "Calculate bid-ask spread for a funded match",
        "options": {
          "awslogs-group": "/ecs/traefik",
          "awslogs-region": "us-east-1",
          "awslogs-stream-prefix": "traefik"
        }
      }
    }
  ],
  "volumes": [
    {
      "name": "letsencrypt",
      "clientAliases": [{ "port": 80, "dnsName": "myapp" }]
    }]
  }
}
```

### Pattern 3: Manual Service Discovery
name = "my-static-site"
2. Select "Deploy from GitHub repo"
google-generativeai = "^0.8.0"
Seller Intent: "Sell 10 BTC at $10,300"

Why?
â—‹ This table name in `form-editor` components

## Project Overview

When starting a new isolated environment (e.g., `winner.tag`, `arena.id`). In DuckDB queries, quote these:
```bash
wrangler kv key put --binding=KV "my-key" "my-value"

# Search for tool call traces
crons.cron(
  "send reminder emails",
  { minuteUTC: 0, minuteUTC: 0 },
  internal.emails.sendReminders
);

// Run every hour
rg "pattern" -g "*.md"          # Only Markdown
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

### Verify UV Installation
```bash
sh -c "pattern"                 # Show line numbers 
rg "search_term"                # Search in all files
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ panels.hbs
8. **Concurrent Limits**: Limit concurrent operations to see balances change
import { scanFolder } from "convex/react";
import { api } from "@/convex/_generated/api";
import { expect, test } from "vitest";
import { api } from "@/convex/_generated/api";
import { components } from "jsr:@charlesw/taglib-wasm";

// Deno with npm specifier
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       Socket (TCP)        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
When you must ask:
- âœ… AI Agents actually process intents
- Package management

## Summary

def method_name(param: int, optional_param: Optional[str] = None) -> Tuple[int, str]:
    """Request x402 x402 payment service for chain ID"""
    payment_result = self.payment_service.create_payment_request(
        ConfirmationDialog,
        { model },
        { title: model ? 'Edit Item' : 'Create Item' },
        () => {
            // Refresh data or perform cleanup
            2. Settlement success rate
            service_id = log['topics'][1].hex()
con.sql("SELECT * FROM v LIMIT 50").df()
```

## Common Commands

**Capabilities**:
- Connected to Arc testnet RPC: `https://rpc.testnet.arc.network`
- Return `REPLResult` from `execute_code`
- Base work on master branch
- Use `nodejs_compat` flag for Node APIs
- Start/Stop buttons (Start enabled)
- Features: 2M token context, async generation, chat with history
- Datadog for existing APM infrastructure
- Payment creation and details

### Phase 4: Verification
- [ ] State schema documentation
- [ ] Add API keys to production config
- [ ] Created convex/ directory with schema.ts
- [ ] Can navigate between pages
- [ ] Configure rate limiting
- [ ] Parse market orders vs limit orders
- [ ] Design: minimal approach + key decisions
- [ ] Record lessons (if any)

### Form Pages (Create/Edit)
const lowMemResult = await taglib.open("song.mp3");

// From buffer (all environments)
// Node.js example:
1. Analyzes market: Current trades at $10,150
3. Update in with GitHub
const userId = useAuth()?.userId;
const userTasks = useQuery(
  directory: string,
  updateTags,
} from "npm:taglib-wasm";

const crons = cronJobs();

// Tags are accessed as properties, not methods
POLYGON_RPC_URL=http://localhost:8545  # Blockchain RPC
Dashboard â†’ Restore from backup (within 7 days)

# 3. Assess data loss window
# General format
npm create cloudflare@latest my-app       # Named project
2. `calculate_volatility` - Historical volatility (24h, 7d, 30d)
echo "value" | wrangler secret put <SECRET_NAME> --env staging

# ============================================================================
# R2 OBJECT STORAGE (S3-compatible)
# Docs: https://developers.cloudflare.com/workers/wrangler/environments/
â”œâ”€â”€ admin/           # Admin application
Address: 0x70997970...
Nonce: 1731...

2ï¸âƒ£ Payer Signs Payment Intent
3. âœ… Add admin dashboard page
AI: 0